!async function(){"use strict";Site.load_style("/style/lapsa.min.css"),await Site.load_script("/scripts/lapsa.min.js"),await Site.load_applet("quasi-fuchsian-groups");let e=new QuasiFuchsianGroups(Page.element.querySelector("#output-canvas"));document.head.querySelector("#theme-color-meta").setAttribute("content","#181818"),document.body.appendChild(Page.element.querySelector("#background")),document.body.appendChild(Page.element.querySelector("#lapsa-slide-container"));let a=document.body.querySelector("#canvas-bundle");setTimeout(()=>{document.body.querySelectorAll(".wilson-draggable").forEach(e=>e.classList.add("lapsa-interactable"))},500),await e.load_promise;let i=new Lapsa({shelfIconPaths:"/graphics/lapsa-icons/",builds:{title:{reset:(i,n,t)=>new Promise(async(n,r)=>{if(i.contains(a)){n();return}await Page.Animate.change_opacity(a,0,t/2),i.appendChild(a),e.change_recipe(0),e.bake_coefficients(1.75,-.3719,1.8638,.2691),await e.request_high_res_frame(1500,250,50,4),await Page.Animate.change_opacity(a,1,t/2),n()})},untamed:{reset:(i,n,t)=>new Promise(async(n,r)=>{if(i.contains(a)){n();return}await Page.Animate.change_opacity(a,0,t/2),i.appendChild(a),e.change_recipe(0),e.bake_coefficients(1,-2,3,2),await e.request_high_res_frame(1500,250,50,4),await Page.Animate.change_opacity(a,1,t/2),n()})},"grandmas-recipe":{reset:(i,n,t)=>new Promise(async(n,r)=>{if(i.contains(a)){n();return}await Page.Animate.change_opacity(a,0,t/2),i.appendChild(a),e.wilson.draggables.world_coordinates=[[2,0],[2,0],[2,-2]],e.wilson.draggables.on_resize(),e.change_recipe(0),e.bake_coefficients(2,0,2,0),await e.request_high_res_frame(1500,250,50,4),await Page.Animate.change_opacity(a,1,t/2),n()})},"rileys-recipe":{reset:(i,n,t)=>new Promise(async(n,r)=>{if(i.contains(a)){n();return}await Page.Animate.change_opacity(a,0,t/2),i.appendChild(a),e.wilson.draggables.world_coordinates=[[2,0],[2,0],[2,-2]],e.wilson.draggables.on_resize(),e.change_recipe(1),e.bake_coefficients(2,0),await e.request_high_res_frame(1500,250,50,4),await Page.Animate.change_opacity(a,1,t/2),n()})},"special-recipe":{reset:(i,n,t)=>new Promise(async(n,r)=>{if(i.contains(a)){n();return}await Page.Animate.change_opacity(a,0,t/2),i.appendChild(a),e.wilson.draggables.world_coordinates=[[1.737,-.224],[2.337,.987],[2.329,-1.673]],e.wilson.draggables.on_resize(),e.change_recipe(2),e.bake_coefficients(1.737,-.224,2.337,.987,2.329,-1.673),await e.request_high_res_frame(1500,250,50,4),await Page.Animate.change_opacity(a,1,t/2),n()})},animation:{reset:(n,t,r)=>new Promise(async(t,s)=>{if(n.contains(a)){t();return}await Page.Animate.change_opacity(a,0,r/2),n.appendChild(a),e.wilson.draggables.world_coordinates=[[2,0],[2,0],[2,-2]],e.wilson.draggables.on_resize(),e.change_recipe(0),e.resolution_small=500,e.resolution_large=1500,e.change_aspect_ratio();let c=0,o=180,l=2,d=2,$=0,p=0,g=2,h=2,w=0,_=0,m=a=>{let n=a-c;if(c=a,0!==n){if(o>=180&&(l=g,d=h,$=w,p=_,g=.15*Math.random()+1.95,h=.15*Math.random()+1.95,w=2*Math.random()-1,_=2*Math.random()-1,o=-10),o>=0){let t=(Math.sin(o/180*Math.PI-Math.PI/2)+1)/2,r=(1-t)*l+t*g,s=(1-t)*$+t*w,u=(1-t)*d+t*h,y=(1-t)*p+t*_;e.wilson.draggables.world_coordinates=[[r,s],[u,y],[2,-2]]}o++,17===i.currentSlide&&(e.on_drag_draggable(),window.requestAnimationFrame(m))}};window.requestAnimationFrame(m),await Page.Animate.change_opacity(a,1,r/2),t()})}}});document.body.querySelector("#help-link").addEventListener("click",()=>i.jumpToSlide(0)),Page.show()}();