!async function(){"use strict";Site.loadStyle("/style/lapsa.min.css"),await Site.loadScript("/scripts/lapsa.min.js"),await Site.loadApplet("quasi-fuchsian-groups");let e=new QuasiFuchsianGroups($("#output-canvas"));document.head.querySelector("#theme-color-meta").setAttribute("content","#181818"),document.body.appendChild($("#lapsa-slide-container"));let a=document.body.querySelector("#canvas-bundle");setTimeout(()=>{document.body.querySelectorAll(".wilson-draggable").forEach(e=>e.classList.add("lapsa-interactable"))},500),await e.loadPromise;let i=new Lapsa({shelfIconPaths:"/graphics/lapsa-icons/",builds:{title:{reset:(i,n,t)=>new Promise(async(n,s)=>{if(i.contains(a)){n();return}await Page.Animate.changeOpacity(a,0,t/2),i.appendChild(a),e.changeRecipe(0),e.bakeCoefficients(1.75,-.3719,1.8638,.2691),await e.requestHighResFrame(1500,250,50,4),await Page.Animate.changeOpacity(a,1,t/2),n()})},untamed:{reset:(i,n,t)=>new Promise(async(n,s)=>{if(i.contains(a)){n();return}await Page.Animate.changeOpacity(a,0,t/2),i.appendChild(a),e.changeRecipe(0),e.bakeCoefficients(1,-2,3,2),await e.requestHighResFrame(1500,250,50,4),await Page.Animate.changeOpacity(a,1,t/2),n()})},"grandmas-recipe":{reset:(i,n,t)=>new Promise(async(n,s)=>{if(i.contains(a)){n();return}await Page.Animate.changeOpacity(a,0,t/2),i.appendChild(a),e.wilson.draggables.worldCoordinates=[[2,0],[2,0],[2,-2]],e.wilson.draggables.onResize(),e.changeRecipe(0),e.bakeCoefficients(2,0,2,0),await e.requestHighResFrame(1500,250,50,4),await Page.Animate.changeOpacity(a,1,t/2),n()})},"rileys-recipe":{reset:(i,n,t)=>new Promise(async(n,s)=>{if(i.contains(a)){n();return}await Page.Animate.changeOpacity(a,0,t/2),i.appendChild(a),e.wilson.draggables.worldCoordinates=[[2,0],[2,0],[2,-2]],e.wilson.draggables.onResize(),e.changeRecipe(1),e.bakeCoefficients(2,0),await e.requestHighResFrame(1500,250,50,4),await Page.Animate.changeOpacity(a,1,t/2),n()})},"special-recipe":{reset:(i,n,t)=>new Promise(async(n,s)=>{if(i.contains(a)){n();return}await Page.Animate.changeOpacity(a,0,t/2),i.appendChild(a),e.wilson.draggables.worldCoordinates=[[1.737,-.224],[2.337,.987],[2.329,-1.673]],e.wilson.draggables.onResize(),e.changeRecipe(2),e.bakeCoefficients(1.737,-.224,2.337,.987,2.329,-1.673),await e.requestHighResFrame(1500,250,50,4),await Page.Animate.changeOpacity(a,1,t/2),n()})},animation:{reset:(n,t,s)=>new Promise(async(t,r)=>{if(n.contains(a)){t();return}await Page.Animate.changeOpacity(a,0,s/2),n.appendChild(a),e.wilson.draggables.worldCoordinates=[[2,0],[2,0],[2,-2]],e.wilson.draggables.onResize(),e.changeRecipe(0),e.resolutionSmall=500,e.resolutionLarge=1500,e.changeAspectRatio();let c=0,o=180,l=2,d=2,g=0,p=0,w=2,_=2,h=0,m=0,u=a=>{let n=a-c;if(c=a,0!==n){if(o>=180&&(l=w,d=_,g=h,p=m,w=.15*Math.random()+1.95,_=.15*Math.random()+1.95,h=2*Math.random()-1,m=2*Math.random()-1,o=-10),o>=0){let t=(Math.sin(o/180*Math.PI-Math.PI/2)+1)/2,s=(1-t)*l+t*w,r=(1-t)*g+t*h,y=(1-t)*d+t*_,b=(1-t)*p+t*m;e.wilson.draggables.worldCoordinates=[[s,r],[y,b],[2,-2]]}o++,17===i.currentSlide&&(e.onDragDraggable(),window.requestAnimationFrame(u))}};window.requestAnimationFrame(u),await Page.Animate.changeOpacity(a,1,s/2),t()})}}});document.body.querySelector("#help-link").addEventListener("click",()=>i.jumpToSlide(0)),Page.show()}();