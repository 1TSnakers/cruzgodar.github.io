!async function(){Site.loadStyle("/style/lapsa.min.css");await Site.loadScript("/scripts/lapsa.min.js");await Applet.load("quasi-fuchsian-groups");const a=new QuasiFuchsianGroups($("#output-canvas"));document.head.querySelector("#theme-color-meta").setAttribute("content","#181818");document.body.appendChild($("#lapsa-slide-container"));const b=document.body.querySelector("#canvas-bundle");setTimeout(()=>{document.body.querySelectorAll(".wilson-draggable").forEach(c=>c.classList.add("lapsa-interactable"))},
500);await a.loadPromise;const w=new Lapsa({shelfIconPaths:"/graphics/lapsa-icons/",builds:{title:{reset:(c,g,d)=>new Promise(async(e,h)=>{c.contains(b)||(await Page.Animate.changeOpacity(b,0,d/2),c.appendChild(b),a.changeRecipe(0),a.bakeCoefficients(1.75,-.3719,1.8638,.2691),await a.requestHighResFrame(1500,250,50,4),await Page.Animate.changeOpacity(b,1,d/2));e()})},untamed:{reset:(c,g,d)=>new Promise(async(e,h)=>{c.contains(b)||(await Page.Animate.changeOpacity(b,0,d/2),c.appendChild(b),a.changeRecipe(0),
a.bakeCoefficients(1,-2,3,2),await a.requestHighResFrame(1500,250,50,4),await Page.Animate.changeOpacity(b,1,d/2));e()})},"grandmas-recipe":{reset:(c,g,d)=>new Promise(async(e,h)=>{c.contains(b)||(await Page.Animate.changeOpacity(b,0,d/2),c.appendChild(b),a.wilson.draggables.worldCoordinates=[[2,0],[2,0],[2,-2]],a.wilson.draggables.onResize(),a.changeRecipe(0),a.bakeCoefficients(2,0,2,0),await a.requestHighResFrame(1500,250,50,4),await Page.Animate.changeOpacity(b,1,d/2));e()})},"rileys-recipe":{reset:(c,
g,d)=>new Promise(async(e,h)=>{c.contains(b)||(await Page.Animate.changeOpacity(b,0,d/2),c.appendChild(b),a.wilson.draggables.worldCoordinates=[[2,0],[2,0],[2,-2]],a.wilson.draggables.onResize(),a.changeRecipe(1),a.bakeCoefficients(2,0),await a.requestHighResFrame(1500,250,50,4),await Page.Animate.changeOpacity(b,1,d/2));e()})},"special-recipe":{reset:(c,g,d)=>new Promise(async(e,h)=>{c.contains(b)||(await Page.Animate.changeOpacity(b,0,d/2),c.appendChild(b),a.wilson.draggables.worldCoordinates=[[1.737,
-.224],[2.337,.987],[2.329,-1.673]],a.wilson.draggables.onResize(),a.changeRecipe(2),a.bakeCoefficients(1.737,-.224,2.337,.987,2.329,-1.673),await a.requestHighResFrame(1500,250,50,4),await Page.Animate.changeOpacity(b,1,d/2));e()})},animation:{reset:(c,g,d)=>new Promise(async(e,h)=>{if(!c.contains(b)){await Page.Animate.changeOpacity(b,0,d/2);c.appendChild(b);a.wilson.draggables.worldCoordinates=[[2,0],[2,0],[2,-2]];a.wilson.draggables.onResize();a.changeRecipe(0);a.resolutionSmall=500;a.resolutionLarge=
1500;a.changeAspectRatio();var q=0,k=180,r=2,t=2,u=0,v=0,l=2,m=2,n=0,p=0,x=f=>{const y=f-q;q=f;0!==y&&(180<=k&&(r=l,t=m,u=n,v=p,l=.15*Math.random()+1.95,m=.15*Math.random()+1.95,n=2*Math.random()-1,p=2*Math.random()-1,k=-10),0<=k&&(f=(Math.sin(k/180*Math.PI-Math.PI/2)+1)/2,a.wilson.draggables.worldCoordinates=[[(1-f)*r+f*l,(1-f)*u+f*n],[(1-f)*t+f*m,(1-f)*v+f*p],[2,-2]]),k++,17===w.currentSlide&&(a.onDragDraggable(),window.requestAnimationFrame(x)))};window.requestAnimationFrame(x);await Page.Animate.changeOpacity(b,
1,d/2)}e()})}}});document.body.querySelector("#help-link").addEventListener("click",()=>w.jumpToSlide(0));Page.show()}();
