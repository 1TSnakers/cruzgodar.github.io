const APPLET_VERSION=!1,canvas_bundle=document.body.querySelector("#canvas-bundle"),rects=[],lapsa_options={shelfIconPaths:["/graphics/lapsa-icons/up-2.png","/graphics/lapsa-icons/up-1.png","/graphics/lapsa-icons/table.png","/graphics/lapsa-icons/down-1.png","/graphics/lapsa-icons/down-2.png"],startingSlide:1,builds:{title:{reset:(a,$,e)=>new Promise(async($,n)=>{if(a.contains(canvas_bundle)){$();return}await Page.Animate.change_opacity(canvas_bundle,0,e/2),animation_time=0,a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let t=[[6,5,4,3,2,1],[5,4,3,2,1,0],[4,3,2,1,0,0],[3,2,1,0,0,0],[2,1,0,0,0,0],[1,0,0,0,0,0]];for(let i=arrays.length-1;i>=0;i--)await remove_array(0);await add_new_array(0,t,!1,!1),in_exact_hex_view||await show_hex_view();let _=0;for(let s=0;s<6;s++)for(let l=0;l<=s;l++){for(let w=0;w<6-s;w++)color_cubes(arrays[0],[[s-l,l,w]],(_+2.5*(5-s-w))%21/21*6/7);_++}await Page.Animate.change_opacity(canvas_bundle,1,e/2),$()})},"young-diagram-example":{reset:(a,$,e)=>new Promise(async($,n)=>{if(a.contains(canvas_bundle)){$();return}await Page.Animate.change_opacity(canvas_bundle,0,e/2),animation_time=0,a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let t=[[1,1,1,1,1],[1,1,1,0,0],[1,1,0,0,0],[1,1,0,0,0],[1,0,0,0,0]];animation_time=e;for(let i=arrays.length-1;i>=0;i--)await remove_array(0);await add_new_array(0,t,!1,!1),await hide_floor(),in_2d_view||await show_2d_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),$()})},"plane-partition-example":{reset:(a,$,e)=>new Promise(async($,n)=>{if(a.contains(canvas_bundle)){$();return}await Page.Animate.change_opacity(canvas_bundle,0,e/2),animation_time=0,a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let t=[[6,4,3,1,1],[4,3,2,0,0],[3,2,0,0,0],[2,1,0,0,0],[1,0,0,0,0]];for(let i=arrays.length-1;i>=0;i--)await remove_array(0);await add_new_array(0,t,!1,!1),in_2d_view||await show_2d_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),$()}),0:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e,$?await show_hex_view():await show_2d_view(),a()}),1:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e,$?await show_2d_view():await show_hex_view(),a()})},hooks:{reset:(a,$,e)=>new Promise(async(n,t)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let i=[[0,2,2,4],[1,2,3,0],[1,3,3,0],[2,3,0,0],];animation_time=0;for(let _=arrays.length-1;_>=0;_--)await remove_array(0);await add_new_array(0,i,!1,!1),in_2d_view||await show_2d_view(),$||await lapsa_options.builds.hooks[0](a,!0,0),await Page.Animate.change_opacity(canvas_bundle,1,e/2),n()}),0:(a,$,e=600)=>new Promise(async(a,n)=>{console.log("hi!"),animation_time=e;let t=[[3,0,1],[2,0,0],[1,0,0],[1,1,1],[1,2,2]];$?await color_cubes(arrays[0],t,.75):await uncolor_cubes(arrays[0],t),a()})},"zigzag-paths":{reset:(a,$,e)=>new Promise(async(n,t)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let i=[[0,0,2,3,3],[1,1,3,6,9],[1,2,4,8,9],[2,6,7,8,9],[5,6,8,8,9]];animation_time=0;for(let _=arrays.length-1;_>=0;_--)await remove_array(0);await add_new_array(0,i,!1,!1),in_2d_view||await show_2d_view(),$||(await lapsa_options.builds["zigzag-paths"][0](a,!0,0),await lapsa_options.builds["zigzag-paths"][1](a,!0,0),await lapsa_options.builds["zigzag-paths"][2](a,!0,0)),await Page.Animate.change_opacity(canvas_bundle,1,e/2),n()}),0:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e;let t=[[4,0,4],[4,1,5],[3,1,5],[3,2,6],[3,3,7],[2,3,7],[2,4,8],[1,4,8]];if($)for(let i=0;i<t.length;i++)setTimeout(()=>color_cubes(arrays[0],[t[i]],0),i*animation_time/2);else await uncolor_cubes(arrays[0],t);a()}),1:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e;let t=[[1,0,0]];$?await color_cubes(arrays[0],t,.6):await uncolor_cubes(arrays[0],t),a()}),2:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e;let t=[[4,0,4],[4,1,5],[3,1,5],[3,2,6],[3,3,7],[2,3,7],[2,4,8],[1,4,8]],i=[[4,0,4],[3,0,5],[2,0,5],[1,0,6],[1,1,7],[1,2,7],[1,3,8],[1,4,8]];$?await move_cubes(arrays[0],t,arrays[0],i):await move_cubes(arrays[0],i,arrays[0],t),a()})},"hillman-grassl":{reset:(a,$,e)=>new Promise(async($,n)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let t=[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]];animation_time=0;for(let i=arrays.length-1;i>=0;i--)await remove_array(0);await add_new_array(0,t,!1,!1),in_exact_hex_view||await show_hex_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),$()}),0:(a,$,e=600)=>new Promise(async(a,n)=>{$?(animation_time=e,await run_algorithm("hillman_grassl",0)):(animation_time=e/6,await run_algorithm("hillman_grassl_inverse",0)),a()}),1:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e,$?await show_2d_view():await show_hex_view(),a()}),2:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e,$?await show_hex_view():await show_2d_view(),a()}),3:(a,$,e=150)=>new Promise(async(a,n)=>{$?(animation_time=e,await run_algorithm("hillman_grassl_inverse",0)):(animation_time=e/3,await run_algorithm("hillman_grassl",0)),a()})},pak:{reset:(a,$,e)=>new Promise(async($,n)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let t=[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]];animation_time=0;for(let i=arrays.length-1;i>=0;i--)await remove_array(0);await add_new_array(0,t,!1,!1),in_exact_hex_view||await show_hex_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),$()}),0:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e,$?await show_2d_view():await show_hex_view(),a()}),1:(a,$,e=600)=>new Promise(async(a,n)=>{$?(animation_time=e,await run_algorithm("pak",0)):(animation_time=e/6,await run_algorithm("pak_inverse",0)),a()}),2:(a,$,e=150)=>new Promise(async(a,n)=>{$?(animation_time=e,await run_algorithm("pak_inverse",0)):(animation_time=e/3,await run_algorithm("pak",0)),a()}),3:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e,$?await show_hex_view():await show_2d_view(),a()})},"regions-example":{reset:(a,$,e)=>new Promise(async(n,t)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),animation_time=0,a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let i=[[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,0,0],[1,1,1,1,1,0,0,0],[1,1,1,1,1,0,0,0],[1,1,1,1,0,0,0,0],[1,1,0,0,0,0,0,0]];animation_time=e;for(let _=arrays.length-1;_>=0;_--)await remove_array(0);await add_new_array(0,i,!1,!1),await hide_floor(),in_2d_view||await show_2d_view(),$||(await lapsa_options.builds["regions-example"][0](a,!0,0),await lapsa_options.builds["regions-example"][1](a,!0,0),await lapsa_options.builds["regions-example"][2](a,!0,0),await lapsa_options.builds["regions-example"][3](a,!0,0)),await Page.Animate.change_opacity(canvas_bundle,1,e/2),n()}),0:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e;let t=[[0,5,0],[1,6,0],[2,7,0],[0,2,0],[1,3,0],[2,4,0],[3,5,0],[1,0,0],[2,1,0],[3,2,0],[4,3,0],[5,4,0],[3,0,0],[4,1,0],[5,2,0],[6,3,0],[6,0,0],[7,1,0]];$?await color_cubes(arrays[0],t,.6):await uncolor_cubes(arrays[0],t),a()}),1:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e;let t=[[0,3,0],[1,4,0],[2,5,0],[0,1,0],[1,2,0],[2,3,0],[3,4,0],[2,0,0],[3,1,0],[4,2,0],[5,3,0],[5,0,0],[6,1,0]];$?await color_cubes(arrays[0],t,.16):await uncolor_cubes(arrays[0],t),a()}),2:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e;let t=[[0,4,0],[1,5,0],[2,6,0],[4,0,0],[5,1,0],[6,2,0],[7,0,0]];$?await color_cubes(arrays[0],t,0):await uncolor_cubes(arrays[0],t),a()}),3:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e;let t=[[0,7,0],[0,6,0],[1,7,0],[0,0,0],[1,1,0],[2,2,0],[3,3,0],[4,4,0]];$?await color_cubes(arrays[0],t,.33):await uncolor_cubes(arrays[0],t),a()})},sulzgruber:{reset:(a,$,e)=>new Promise(async($,n)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let t=[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]];animation_time=0;for(let i=arrays.length-1;i>=0;i--)await remove_array(0);await add_new_array(0,t,!1,!1),in_exact_hex_view||await show_hex_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),$()}),0:(a,$,e=600)=>new Promise(async(a,n)=>{$?(animation_time=e,await run_algorithm("sulzgruber",0)):(animation_time=e/6,await run_algorithm("sulzgruber_inverse",0)),a()}),1:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e,$?await show_2d_view():await show_hex_view(),a()}),2:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e,$?await show_hex_view():await show_2d_view(),a()}),3:(a,$,e=150)=>new Promise(async(a,n)=>{$?(animation_time=e,await run_algorithm("sulzgruber_inverse",0)):(animation_time=e/3,await run_algorithm("sulzgruber",0)),a()})},"ps-rsk":{reset:(a,$,e)=>new Promise(async(n,t)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let i=[[4,4,4],[4,3,2],[4,1,1]],_=[[4,4,4],[4,3,2],[4,1,1]];animation_time=0;for(let s=arrays.length-1;s>=0;s--)await remove_array(0);await add_new_array(0,i,!1,!1),await add_new_array(1,_,!1,!1),in_exact_hex_view||await show_hex_view(),$||(await lapsa_options.builds["ps-rsk"][1](a,!0,0),await lapsa_options.builds["ps-rsk"][2](a,!0,0),await lapsa_options.builds["ps-rsk"][3](a,!0,0),await lapsa_options.builds["ps-rsk"][4](a,!0,0),await lapsa_options.builds["ps-rsk"][5](a,!0,0)),await Page.Animate.change_opacity(canvas_bundle,1,e/2),n()}),1:(a,$,e=300)=>new Promise(async(a,n)=>{$?(animation_time=e,await show_hex_view(),await run_algorithm("sulzgruber",1),await show_2d_view()):(animation_time=e/3,await show_hex_view(),await run_algorithm("sulzgruber_inverse",1)),a()}),2:(a,$,e=600)=>new Promise(async(a,n)=>{if(animation_time=e,$){await remove_array(1);let t=[[1,1,2],[0,1,0],[3,0,0]];await add_new_array(1,t,!1,!1)}else{await remove_array(1);let i=[[0,0,3],[0,1,0],[2,1,1]];await add_new_array(1,i,!1,!1)}a()}),3:(a,$,e=400)=>new Promise(async(a,n)=>{if(animation_time=e,$){await run_algorithm("rsk_inverse",1);let t=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,1],[1,2,2],[2,0,2]],i=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,2],[1,2,2],[2,0,2]];await uncolor_cubes(arrays[1],t),await uncolor_cubes(arrays[2],i)}else await run_algorithm("rsk",1);a()}),4:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e;let t=[[0,1,3],[1,2,1]],i=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,1]];$?(await color_cubes(arrays[0],t,0),await color_cubes(arrays[1],i,0)):(await uncolor_cubes(arrays[0],t),await uncolor_cubes(arrays[1],i)),a()}),5:(a,$,e=600)=>new Promise(async(a,n)=>{animation_time=e;let t=[[2,0,3]],i=[[0,0,0],[0,1,0],[0,2,0],[0,3,0]];$?(await color_cubes(arrays[0],t,.6),await color_cubes(arrays[2],i,.6)):(await uncolor_cubes(arrays[0],t),await uncolor_cubes(arrays[2],i)),a()})},"garver-patrias":{reset:(a,$,e)=>new Promise(async($,n)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let t=[[1,2,3],[4,5,6],[7,8,9]];animation_time=0;for(let i=arrays.length-1;i>=0;i--)await remove_array(0);await add_new_array(0,t,!1,!1),in_2d_view||await show_2d_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),$()})},"garver-patrias-2":{reset:(a,$,e)=>new Promise(async($,n)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let t=[[1,0,1],[1,2,0],[0,0,1]];animation_time=0;for(let i=arrays.length-1;i>=0;i--)await remove_array(0);await add_new_array(0,t,!1,!1),in_2d_view||await show_2d_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),$()})},"garver-patrias-3":{reset:(a,$,e)=>new Promise(async($,n)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let t=[[1,0,1],[1,2,0],[0,0,1]];animation_time=0;for(let i=arrays.length-1;i>=0;i--)await remove_array(0);await add_new_array(0,t,!1,!1),in_2d_view||await show_2d_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),$()})},"garver-patrias-4":{reset:(a,$,e)=>new Promise(async($,n)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let t=[[0,1,2],[0,1,4],[2,4,5]];animation_time=0;for(let i=arrays.length-1;i>=0;i--)await remove_array(0);await add_new_array(0,t,!1,!1),in_2d_view||await show_2d_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),$()})},app:{reset:(a,$,e)=>new Promise(async($,n)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();let t=[[1/0,1/0,1/0,9,5],[1/0,1/0,5,4,1],[6,4,4,3,0],[6,3,2,1,0],[4,1,1,0,0],];animation_time=0;for(let i=arrays.length-1;i>=0;i--)await remove_array(0);await add_new_array(0,t,!1,!1),in_2d_view||await show_2d_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),$()})}}};let lapsa;setTimeout(()=>{lapsa=new Lapsa(lapsa_options),document.body.querySelector("#help-link").addEventListener("click",()=>lapsa.jumpToSlide(0))},100);