const APPLET_VERSION=!1,canvas_bundle=document.body.querySelector("#canvas-bundle"),rects=[],lapsa_options={shelfIconPaths:["/graphics/lapsa-icons/up-2.png","/graphics/lapsa-icons/up-1.png","/graphics/lapsa-icons/table.png","/graphics/lapsa-icons/down-1.png","/graphics/lapsa-icons/down-2.png"],startingSlide:1,builds:{title:{reset:(a,i,e)=>new Promise((async(i,n)=>{if(a.contains(canvas_bundle))return void i();await Page.Animate.change_opacity(canvas_bundle,0,e/2),animation_time=0,a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();for(let a=arrays.length-1;a>=0;a--)await remove_array(0);await add_new_array(0,[[6,5,4,3,2,1],[5,4,3,2,1,0],[4,3,2,1,0,0],[3,2,1,0,0,0],[2,1,0,0,0,0],[1,0,0,0,0,0]],!1,!1),in_exact_hex_view||await show_hex_view();let s=0;for(let a=0;a<6;a++)for(let i=0;i<=a;i++){for(let e=0;e<6-a;e++)color_cubes(arrays[0],[[a-i,i,e]],(s+2.5*(5-a-e))%21/21*6/7);s++}await Page.Animate.change_opacity(canvas_bundle,1,e/2),i()}))},"young-diagram-example":{reset:(a,i,e)=>new Promise((async(i,n)=>{if(a.contains(canvas_bundle))return void i();await Page.Animate.change_opacity(canvas_bundle,0,e/2),animation_time=0,a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();animation_time=e;for(let a=arrays.length-1;a>=0;a--)await remove_array(0);await add_new_array(0,[[1,1,1,1,1],[1,1,1,0,0],[1,1,0,0,0],[1,1,0,0,0],[1,0,0,0,0]],!1,!1),await hide_floor(),in_2d_view||await show_2d_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),i()}))},"plane-partition-example":{reset:(a,i,e)=>new Promise((async(i,n)=>{if(a.contains(canvas_bundle))return void i();await Page.Animate.change_opacity(canvas_bundle,0,e/2),animation_time=0,a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();for(let a=arrays.length-1;a>=0;a--)await remove_array(0);await add_new_array(0,[[6,4,3,1,1],[4,3,2,0,0],[3,2,0,0,0],[2,1,0,0,0],[1,0,0,0,0]],!1,!1),in_2d_view||await show_2d_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),i()})),0:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e,i?await show_hex_view():await show_2d_view(),a()})),1:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e,i?await show_2d_view():await show_hex_view(),a()}))},hooks:{reset:(a,i,e)=>new Promise((async(n,s)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();animation_time=0;for(let a=arrays.length-1;a>=0;a--)await remove_array(0);await add_new_array(0,[[0,2,2,4],[1,2,3,0],[1,3,3,0],[2,3,0,0]],!1,!1),in_2d_view||await show_2d_view(),i||await lapsa_options.builds.hooks[0](a,!0,0),await Page.Animate.change_opacity(canvas_bundle,1,e/2),n()})),0:(a,i,e=600)=>new Promise((async(a,n)=>{console.log("hi!"),animation_time=e;const s=[[3,0,1],[2,0,0],[1,0,0],[1,1,1],[1,2,2]];i?await color_cubes(arrays[0],s,.75):await uncolor_cubes(arrays[0],s),a()}))},"zigzag-paths":{reset:(a,i,e)=>new Promise((async(n,s)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();animation_time=0;for(let a=arrays.length-1;a>=0;a--)await remove_array(0);await add_new_array(0,[[0,0,2,3,3],[1,1,3,6,9],[1,2,4,8,9],[2,6,7,8,9],[5,6,8,8,9]],!1,!1),in_2d_view||await show_2d_view(),i||(await lapsa_options.builds["zigzag-paths"][0](a,!0,0),await lapsa_options.builds["zigzag-paths"][1](a,!0,0),await lapsa_options.builds["zigzag-paths"][2](a,!0,0)),await Page.Animate.change_opacity(canvas_bundle,1,e/2),n()})),0:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e;const s=[[4,0,4],[4,1,5],[3,1,5],[3,2,6],[3,3,7],[2,3,7],[2,4,8],[1,4,8]];if(i)for(let a=0;a<s.length;a++)setTimeout((()=>color_cubes(arrays[0],[s[a]],0)),a*animation_time/2);else await uncolor_cubes(arrays[0],s);a()})),1:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e;const s=[[1,0,0]];i?await color_cubes(arrays[0],s,.6):await uncolor_cubes(arrays[0],s),a()})),2:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e;const s=[[4,0,4],[4,1,5],[3,1,5],[3,2,6],[3,3,7],[2,3,7],[2,4,8],[1,4,8]],t=[[4,0,4],[3,0,5],[2,0,5],[1,0,6],[1,1,7],[1,2,7],[1,3,8],[1,4,8]];i?await move_cubes(arrays[0],s,arrays[0],t):await move_cubes(arrays[0],t,arrays[0],s),a()}))},"hillman-grassl":{reset:(a,i,e)=>new Promise((async(i,n)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();animation_time=0;for(let a=arrays.length-1;a>=0;a--)await remove_array(0);await add_new_array(0,[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]],!1,!1),in_exact_hex_view||await show_hex_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),i()})),0:(a,i,e=600)=>new Promise((async(a,n)=>{i?(animation_time=e,await run_algorithm("hillman_grassl",0)):(animation_time=e/6,await run_algorithm("hillman_grassl_inverse",0)),a()})),1:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e,i?await show_2d_view():await show_hex_view(),a()})),2:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e,i?await show_hex_view():await show_2d_view(),a()})),3:(a,i,e=200)=>new Promise((async(a,n)=>{i?(animation_time=e,await run_algorithm("hillman_grassl_inverse",0)):(animation_time=e/3,await run_algorithm("hillman_grassl",0)),a()}))},pak:{reset:(a,i,e)=>new Promise((async(i,n)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();animation_time=0;for(let a=arrays.length-1;a>=0;a--)await remove_array(0);await add_new_array(0,[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]],!1,!1),in_exact_hex_view||await show_hex_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),i()})),0:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e,i?await show_2d_view():await show_hex_view(),a()})),1:(a,i,e=1500)=>new Promise((async(a,n)=>{i?(animation_time=e,await run_algorithm("pak",0)):(animation_time=e/6,await run_algorithm("pak_inverse",0)),a()})),2:(a,i,e=900)=>new Promise((async(a,n)=>{i?(animation_time=e,await run_algorithm("pak_inverse",0)):(animation_time=e/3,await run_algorithm("pak",0)),a()})),3:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e,i?await show_hex_view():await show_2d_view(),a()}))},"regions-example":{reset:(a,i,e)=>new Promise((async(n,s)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),animation_time=0,a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();animation_time=e;for(let a=arrays.length-1;a>=0;a--)await remove_array(0);await add_new_array(0,[[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,0,0],[1,1,1,1,1,0,0,0],[1,1,1,1,1,0,0,0],[1,1,1,1,0,0,0,0],[1,1,0,0,0,0,0,0]],!1,!1),await hide_floor(),in_2d_view||await show_2d_view(),i||(await lapsa_options.builds["regions-example"][0](a,!0,0),await lapsa_options.builds["regions-example"][1](a,!0,0),await lapsa_options.builds["regions-example"][2](a,!0,0),await lapsa_options.builds["regions-example"][3](a,!0,0)),await Page.Animate.change_opacity(canvas_bundle,1,e/2),n()})),0:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e;const s=[[0,5,0],[1,6,0],[2,7,0],[0,2,0],[1,3,0],[2,4,0],[3,5,0],[1,0,0],[2,1,0],[3,2,0],[4,3,0],[5,4,0],[3,0,0],[4,1,0],[5,2,0],[6,3,0],[6,0,0],[7,1,0]];i?await color_cubes(arrays[0],s,.6):await uncolor_cubes(arrays[0],s),a()})),1:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e;const s=[[0,3,0],[1,4,0],[2,5,0],[0,1,0],[1,2,0],[2,3,0],[3,4,0],[2,0,0],[3,1,0],[4,2,0],[5,3,0],[5,0,0],[6,1,0]];i?await color_cubes(arrays[0],s,.16):await uncolor_cubes(arrays[0],s),a()})),2:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e;const s=[[0,4,0],[1,5,0],[2,6,0],[4,0,0],[5,1,0],[6,2,0],[7,0,0]];i?await color_cubes(arrays[0],s,0):await uncolor_cubes(arrays[0],s),a()})),3:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e;const s=[[0,7,0],[0,6,0],[1,7,0],[0,0,0],[1,1,0],[2,2,0],[3,3,0],[4,4,0]];i?await color_cubes(arrays[0],s,.33):await uncolor_cubes(arrays[0],s),a()}))},sulzgruber:{reset:(a,i,e)=>new Promise((async(i,n)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();animation_time=0;for(let a=arrays.length-1;a>=0;a--)await remove_array(0);await add_new_array(0,[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]],!1,!1),in_exact_hex_view||await show_hex_view(),await Page.Animate.change_opacity(canvas_bundle,1,e/2),i()})),0:(a,i,e=600)=>new Promise((async(a,n)=>{i?(animation_time=e,await run_algorithm("sulzgruber",0)):(animation_time=e/6,await run_algorithm("sulzgruber_inverse",0)),a()})),1:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e,i?await show_2d_view():await show_hex_view(),a()})),2:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e,i?await show_hex_view():await show_2d_view(),a()})),3:(a,i,e=200)=>new Promise((async(a,n)=>{i?(animation_time=e,await run_algorithm("sulzgruber_inverse",0)):(animation_time=e/3,await run_algorithm("sulzgruber",0)),a()}))},"ps-rsk":{reset:(a,i,e)=>new Promise((async(n,s)=>{await Page.Animate.change_opacity(canvas_bundle,0,e/2),a.appendChild(canvas_bundle),wilson_numbers.draggables.on_resize();animation_time=0;for(let a=arrays.length-1;a>=0;a--)await remove_array(0);await add_new_array(0,[[4,4,4],[4,3,2],[4,1,1]],!1,!1),await add_new_array(1,[[4,4,4],[4,3,2],[4,1,1]],!1,!1),in_exact_hex_view||await show_hex_view(),i||(await lapsa_options.builds["ps-rsk"][1](a,!0,0),await lapsa_options.builds["ps-rsk"][2](a,!0,0),await lapsa_options.builds["ps-rsk"][3](a,!0,0),await lapsa_options.builds["ps-rsk"][4](a,!0,0),await lapsa_options.builds["ps-rsk"][5](a,!0,0)),await Page.Animate.change_opacity(canvas_bundle,1,e/2),n()})),1:(a,i,e=300)=>new Promise((async(a,n)=>{i?(animation_time=e,await show_hex_view(),await run_algorithm("sulzgruber",1),await show_2d_view()):(animation_time=e/3,await show_hex_view(),await run_algorithm("sulzgruber_inverse",1)),a()})),2:(a,i,e=600)=>new Promise((async(a,n)=>{if(animation_time=e,i){await remove_array(1);const a=[[1,1,2],[0,1,0],[3,0,0]];await add_new_array(1,a,!1,!1)}else{await remove_array(1);const a=[[0,0,3],[0,1,0],[2,1,1]];await add_new_array(1,a,!1,!1)}a()})),3:(a,i,e=600)=>new Promise((async(a,n)=>{if(animation_time=e,i){await run_algorithm("rsk_inverse",1);const a=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,1],[1,2,2],[2,0,2]],i=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,2],[1,2,2],[2,0,2]];await uncolor_cubes(arrays[1],a),await uncolor_cubes(arrays[2],i)}else await run_algorithm("rsk",1);a()})),4:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e;const s=[[0,1,3],[1,2,1]],t=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,1]];i?(await color_cubes(arrays[0],s,0),await color_cubes(arrays[1],t,0)):(await uncolor_cubes(arrays[0],s),await uncolor_cubes(arrays[1],t)),a()})),5:(a,i,e=600)=>new Promise((async(a,n)=>{animation_time=e;const s=[[2,0,3]],t=[[0,0,0],[0,1,0],[0,2,0],[0,3,0]];i?(await color_cubes(arrays[0],s,.6),await color_cubes(arrays[2],t,.6)):(await uncolor_cubes(arrays[0],s),await uncolor_cubes(arrays[2],t)),a()}))}}};let lapsa;setTimeout((()=>{lapsa=new Lapsa(lapsa_options),document.body.querySelector("#help-link").addEventListener("click",(()=>lapsa.jumpToSlide(0)))}),500);