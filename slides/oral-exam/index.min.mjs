import{PlanePartitions}from"/applets/plane-partitions/scripts/class.min.mjs";import Lapsa from"/scripts/lapsa.min.mjs";import{changeOpacity}from"/scripts/src/animation.min.mjs";const applet=new PlanePartitions({canvas:document.body.querySelector("#output-canvas"),numbersCanvas:document.body.querySelector("#numbers-canvas"),useFullscreenButton:!1}),canvasBundle=document.body.querySelector("#canvas-bundle"),options=(document.body.querySelectorAll(".wilson-draggables-container").forEach(element=>element.classList.add("lapsa-interactable")),{shelfIconPaths:"/graphics/lapsa-icons/",builds:{title:{reset:async(slide,forward,duration)=>{if(!slide.contains(canvasBundle)){await changeOpacity(canvasBundle,0,duration/2),applet.animationTime=0,slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[6,5,4,3,2,1],[5,4,3,2,1,0],[4,3,2,1,0,0],[3,2,1,0,0,0],[2,1,0,0,0,0],[1,0,0,0,0,0]],!1,!1),applet.inExactHexView||await applet.showHexView();let i=0;for(let t=0;t<6;t++)for(let e=0;e<=t;e++){for(let a=0;a<6-t;a++)applet.colorCubes(applet.arrays[0],[[t-e,e,a]],(i+2.5*(5-t-a))%21/21*6/7);i++}await changeOpacity(canvasBundle,1,duration/2)}}},"young-diagram-example":{reset:async(slide,forward,duration)=>{if(!slide.contains(canvasBundle)){await changeOpacity(canvasBundle,0,duration/2),applet.animationTime=0,slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=duration;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[1,1,1,1,1],[1,1,1,0,0],[1,1,0,0,0],[1,1,0,0,0],[1,0,0,0,0]],!1,!1),await applet.hideFloor(),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,duration/2)}}},"plane-partition-example":{reset:async(slide,forward,duration)=>{if(!slide.contains(canvasBundle)){await changeOpacity(canvasBundle,0,duration/2),applet.animationTime=0,slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[6,4,3,1,1],[4,3,2,0,0],[3,2,0,0,0],[2,1,0,0,0],[1,0,0,0,0]],!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,duration/2)}},0:async(slide,forward,duration=600)=>{applet.animationTime=duration,forward?await applet.showHexView():await applet.show2dView()},1:async(slide,forward,duration=600)=>{applet.animationTime=duration,forward?await applet.show2dView():await applet.showHexView()}},hooks:{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let e=applet.arrays.length-1;0<=e;e--)await applet.removeArray(0);var a=await applet.addNewArray(0,[[0,2,2,4],[1,2,3,0],[1,3,3,0],[2,3,0,0]],!1,!1);applet.removeOutsideFloor(a),applet.in2dView||await applet.show2dView(),forward||await options.builds.hooks[0](slide,!0,0),await changeOpacity(canvasBundle,1,duration/2)},0:async(slide,forward,duration=600)=>{applet.animationTime=duration;var a=[[3,0,1],[2,0,0],[1,0,0],[1,1,1],[1,2,2]];forward?await applet.colorCubes(applet.arrays[0],a,.75):await applet.uncolorCubes(applet.arrays[0],a)}},"zigzag-paths":{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[0,0,2,3,3],[1,1,3,6,9],[1,2,4,8,9],[2,6,7,8,9],[5,6,8,8,9]],!1,!1),applet.in2dView||await applet.show2dView(),forward||(await options.builds["zigzag-paths"][0](slide,!0,0),await options.builds["zigzag-paths"][1](slide,!0,0),await options.builds["zigzag-paths"][2](slide,!0,0)),await changeOpacity(canvasBundle,1,duration/2)},0:async(slide,forward,duration=600)=>{applet.animationTime=duration;const e=[[4,0,4],[4,1,5],[3,1,5],[3,2,6],[3,3,7],[2,3,7],[2,4,8],[1,4,8]];if(forward)for(let a=0;a<e.length;a++)setTimeout(()=>applet.colorCubes(applet.arrays[0],[e[a]],0),a*applet.animationTime/2);else await applet.uncolorCubes(applet.arrays[0],e)},1:async(slide,forward,duration=600)=>{applet.animationTime=duration;var a=[[1,0,0]];forward?await applet.colorCubes(applet.arrays[0],a,.6):await applet.uncolorCubes(applet.arrays[0],a)},2:async(slide,forward,duration=600)=>{applet.animationTime=duration;var a=[[4,0,4],[4,1,5],[3,1,5],[3,2,6],[3,3,7],[2,3,7],[2,4,8],[1,4,8]],e=[[4,0,4],[3,0,5],[2,0,5],[1,0,6],[1,1,7],[1,2,7],[1,3,8],[1,4,8]];forward?await applet.moveCubes(applet.arrays[0],a,applet.arrays[0],e):await applet.moveCubes(applet.arrays[0],e,applet.arrays[0],a)}},"hillman-grassl":{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]],!1,!1),applet.inExactHexView||await applet.showHexView(),await changeOpacity(canvasBundle,1,duration/2)},0:async(slide,forward,duration=600)=>{forward?(applet.animationTime=duration,await applet.runAlgorithm("hillmanGrassl",0)):(applet.animationTime=duration/6,await applet.runAlgorithm("hillmanGrasslInverse",0))},1:async(slide,forward,duration=600)=>{applet.animationTime=duration,forward?await applet.show2dView():await applet.showHexView()},2:async(slide,forward,duration=600)=>{applet.animationTime=duration,forward?await applet.showHexView():await applet.show2dView()},3:async(slide,forward,duration=150)=>{forward?(applet.animationTime=duration,await applet.runAlgorithm("hillmanGrasslInverse",0)):(applet.animationTime=duration/3,await applet.runAlgorithm("hillmanGrassl",0))}},pak:{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]],!1,!1),applet.inExactHexView||await applet.showHexView(),await changeOpacity(canvasBundle,1,duration/2)},0:async(slide,forward,duration=600)=>{applet.animationTime=duration,forward?await applet.show2dView():await applet.showHexView()},1:async(slide,forward,duration=600)=>{forward?(applet.animationTime=duration,await applet.runAlgorithm("pak",0)):(applet.animationTime=duration/6,await applet.runAlgorithm("pakInverse",0))},2:async(slide,forward,duration=150)=>{forward?(applet.animationTime=duration,await applet.runAlgorithm("pakInverse",0)):(applet.animationTime=duration/3,await applet.runAlgorithm("pak",0))},3:async(slide,forward,duration=600)=>{applet.animationTime=duration,forward?await applet.showHexView():await applet.show2dView()}},"regions-example":{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),applet.animationTime=0,slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=duration;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,0,0],[1,1,1,1,1,0,0,0],[1,1,1,1,1,0,0,0],[1,1,1,1,0,0,0,0],[1,1,0,0,0,0,0,0]],!1,!1),await applet.hideFloor(),applet.in2dView||await applet.show2dView(),forward||(await options.builds["regions-example"][0](slide,!0,0),await options.builds["regions-example"][1](slide,!0,0),await options.builds["regions-example"][2](slide,!0,0),await options.builds["regions-example"][3](slide,!0,0)),await changeOpacity(canvasBundle,1,duration/2)},0:async(slide,forward,duration=600)=>{applet.animationTime=duration;var a=[[0,5,0],[1,6,0],[2,7,0],[0,2,0],[1,3,0],[2,4,0],[3,5,0],[1,0,0],[2,1,0],[3,2,0],[4,3,0],[5,4,0],[3,0,0],[4,1,0],[5,2,0],[6,3,0],[6,0,0],[7,1,0]];forward?await applet.colorCubes(applet.arrays[0],a,.6):await applet.uncolorCubes(applet.arrays[0],a)},1:async(slide,forward,duration=600)=>{applet.animationTime=duration;var a=[[0,3,0],[1,4,0],[2,5,0],[0,1,0],[1,2,0],[2,3,0],[3,4,0],[2,0,0],[3,1,0],[4,2,0],[5,3,0],[5,0,0],[6,1,0]];forward?await applet.colorCubes(applet.arrays[0],a,.16):await applet.uncolorCubes(applet.arrays[0],a)},2:async(slide,forward,duration=600)=>{applet.animationTime=duration;var a=[[0,4,0],[1,5,0],[2,6,0],[4,0,0],[5,1,0],[6,2,0],[7,0,0]];forward?await applet.colorCubes(applet.arrays[0],a,0):await applet.uncolorCubes(applet.arrays[0],a)},3:async(slide,forward,duration=600)=>{applet.animationTime=duration;var a=[[0,7,0],[0,6,0],[1,7,0],[0,0,0],[1,1,0],[2,2,0],[3,3,0],[4,4,0]];forward?await applet.colorCubes(applet.arrays[0],a,.33):await applet.uncolorCubes(applet.arrays[0],a)}},sulzgruber:{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]],!1,!1),applet.inExactHexView||await applet.showHexView(),await changeOpacity(canvasBundle,1,duration/2)},0:async(slide,forward,duration=600)=>{forward?(applet.animationTime=duration,await applet.runAlgorithm("sulzgruber",0)):(applet.animationTime=duration/6,await applet.runAlgorithm("sulzgruberInverse",0))},1:async(slide,forward,duration=600)=>{applet.animationTime=duration,forward?await applet.show2dView():await applet.showHexView()},2:async(slide,forward,duration=600)=>{applet.animationTime=duration,forward?await applet.showHexView():await applet.show2dView()},3:async(slide,forward,duration=150)=>{forward?(applet.animationTime=duration,await applet.runAlgorithm("sulzgruberInverse",0)):(applet.animationTime=duration/3,await applet.runAlgorithm("sulzgruber",0))}},"ps-rsk":{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[4,4,4],[4,3,2],[4,1,1]],!1,!1),await applet.addNewArray(1,[[4,4,4],[4,3,2],[4,1,1]],!1,!1),applet.inExactHexView||await applet.showHexView(),forward||(await options.builds["ps-rsk"][1](slide,!0,0),await options.builds["ps-rsk"][2](slide,!0,0),await options.builds["ps-rsk"][3](slide,!0,0),await options.builds["ps-rsk"][4](slide,!0,0),await options.builds["ps-rsk"][5](slide,!0,0)),await changeOpacity(canvasBundle,1,duration/2)},1:async(slide,forward,duration=300)=>{forward?(applet.animationTime=duration,await applet.showHexView(),await applet.runAlgorithm("sulzgruber",1),await applet.show2dView()):(applet.animationTime=duration/3,await applet.showHexView(),await applet.runAlgorithm("sulzgruberInverse",1))},2:async(slide,forward,duration=600)=>{var a;applet.animationTime=duration,forward?(await applet.removeArray(1),a=[[1,1,2],[0,1,0],[3,0,0]],await applet.addNewArray(1,a,!1,!1)):(await applet.removeArray(1),a=[[0,0,3],[0,1,0],[2,1,1]],await applet.addNewArray(1,a,!1,!1))},3:async(slide,forward,duration=400)=>{var a,e;applet.animationTime=duration,forward?(await applet.runAlgorithm("rskInverse",1),a=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,1],[1,2,2],[2,0,2]],e=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,2],[1,2,2],[2,0,2]],await applet.uncolorCubes(applet.arrays[1],a),await applet.uncolorCubes(applet.arrays[2],e)):await applet.runAlgorithm("rsk",1)},4:async(slide,forward,duration=600)=>{applet.animationTime=duration;var a=[[0,1,3],[1,2,1]],e=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,1]];forward?(await applet.colorCubes(applet.arrays[0],a,0),await applet.colorCubes(applet.arrays[1],e,0)):(await applet.uncolorCubes(applet.arrays[0],a),await applet.uncolorCubes(applet.arrays[1],e))},5:async(slide,forward,duration=600)=>{applet.animationTime=duration;var a=[[2,0,3]],e=[[0,0,0],[0,1,0],[0,2,0],[0,3,0]];forward?(await applet.colorCubes(applet.arrays[0],a,.6),await applet.colorCubes(applet.arrays[2],e,.6)):(await applet.uncolorCubes(applet.arrays[0],a),await applet.uncolorCubes(applet.arrays[2],e))}},"garver-patrias":{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[1,2,3],[4,5,6],[7,8,9]],!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,duration/2)}},"garver-patrias-2":{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[1,0,1],[1,2,0],[0,0,1]],!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,duration/2)}},"garver-patrias-3":{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[1,0,1],[1,2,0],[0,0,1]],!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,duration/2)}},"garver-patrias-4":{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[0,1,2],[0,1,4],[2,4,5]],!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,duration/2)}},app:{reset:async(slide,forward,duration)=>{await changeOpacity(canvasBundle,0,duration/2),slide.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();var a=[[1/0,1/0,1/0,9,5],[1/0,1/0,5,4,1],[6,4,4,3,0],[6,3,2,1,0],[4,1,1,0,0]];applet.animationTime=0;for(let e=applet.arrays.length-1;0<=e;e--)await applet.removeArray(0);await applet.addNewArray(0,a,!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,duration/2)}}}});new Lapsa(options);