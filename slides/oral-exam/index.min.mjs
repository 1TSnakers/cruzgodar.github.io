import{PlanePartitions}from"/applets/plane-partitions/scripts/class.min.mjs";import Lapsa from"/scripts/lapsa.min.mjs";import{changeOpacity}from"/scripts/src/animation.min.mjs";const applet=new PlanePartitions(document.body.querySelector("#output-canvas"),document.body.querySelector("#numbers-canvas"),!1),canvasBundle=document.body.querySelector("#canvas-bundle"),options=(document.body.querySelectorAll(".wilson-draggables-container").forEach(a=>a.classList.add("lapsa-interactable")),{shelfIconPaths:"/graphics/lapsa-icons/",builds:{title:{reset:async(a,e,t)=>{if(!a.contains(canvasBundle)){await changeOpacity(canvasBundle,0,t/2),applet.animationTime=0,a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[6,5,4,3,2,1],[5,4,3,2,1,0],[4,3,2,1,0,0],[3,2,1,0,0,0],[2,1,0,0,0,0],[1,0,0,0,0,0]],!1,!1),applet.inExactHexView||await applet.showHexView();let p=0;for(let t=0;t<6;t++)for(let e=0;e<=t;e++){for(let a=0;a<6-t;a++)applet.colorCubes(applet.arrays[0],[[t-e,e,a]],(p+2.5*(5-t-a))%21/21*6/7);p++}await changeOpacity(canvasBundle,1,t/2)}}},"young-diagram-example":{reset:async(a,e,t)=>{if(!a.contains(canvasBundle)){await changeOpacity(canvasBundle,0,t/2),applet.animationTime=0,a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=t;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[1,1,1,1,1],[1,1,1,0,0],[1,1,0,0,0],[1,1,0,0,0],[1,0,0,0,0]],!1,!1),await applet.hideFloor(),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,t/2)}}},"plane-partition-example":{reset:async(a,e,t)=>{if(!a.contains(canvasBundle)){await changeOpacity(canvasBundle,0,t/2),applet.animationTime=0,a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[6,4,3,1,1],[4,3,2,0,0],[3,2,0,0,0],[2,1,0,0,0],[1,0,0,0,0]],!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,t/2)}},0:async(a,e,t=600)=>{applet.animationTime=t,e?await applet.showHexView():await applet.show2dView()},1:async(a,e,t=600)=>{applet.animationTime=t,e?await applet.show2dView():await applet.showHexView()}},hooks:{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);var p=await applet.addNewArray(0,[[0,2,2,4],[1,2,3,0],[1,3,3,0],[2,3,0,0]],!1,!1);applet.removeOutsideFloor(p),applet.in2dView||await applet.show2dView(),e||await options.builds.hooks[0](a,!0,0),await changeOpacity(canvasBundle,1,t/2)},0:async(a,e,t=600)=>{applet.animationTime=t;t=[[3,0,1],[2,0,0],[1,0,0],[1,1,1],[1,2,2]];e?await applet.colorCubes(applet.arrays[0],t,.75):await applet.uncolorCubes(applet.arrays[0],t)}},"zigzag-paths":{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[0,0,2,3,3],[1,1,3,6,9],[1,2,4,8,9],[2,6,7,8,9],[5,6,8,8,9]],!1,!1),applet.in2dView||await applet.show2dView(),e||(await options.builds["zigzag-paths"][0](a,!0,0),await options.builds["zigzag-paths"][1](a,!0,0),await options.builds["zigzag-paths"][2](a,!0,0)),await changeOpacity(canvasBundle,1,t/2)},0:async(a,e,t=600)=>{applet.animationTime=t;const p=[[4,0,4],[4,1,5],[3,1,5],[3,2,6],[3,3,7],[2,3,7],[2,4,8],[1,4,8]];if(e)for(let a=0;a<p.length;a++)setTimeout(()=>applet.colorCubes(applet.arrays[0],[p[a]],0),a*applet.animationTime/2);else await applet.uncolorCubes(applet.arrays[0],p)},1:async(a,e,t=600)=>{applet.animationTime=t;t=[[1,0,0]];e?await applet.colorCubes(applet.arrays[0],t,.6):await applet.uncolorCubes(applet.arrays[0],t)},2:async(a,e,t=600)=>{applet.animationTime=t;var t=[[4,0,4],[4,1,5],[3,1,5],[3,2,6],[3,3,7],[2,3,7],[2,4,8],[1,4,8]],p=[[4,0,4],[3,0,5],[2,0,5],[1,0,6],[1,1,7],[1,2,7],[1,3,8],[1,4,8]];e?await applet.moveCubes(applet.arrays[0],t,applet.arrays[0],p):await applet.moveCubes(applet.arrays[0],p,applet.arrays[0],t)}},"hillman-grassl":{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]],!1,!1),applet.inExactHexView||await applet.showHexView(),await changeOpacity(canvasBundle,1,t/2)},0:async(a,e,t=600)=>{e?(applet.animationTime=t,await applet.runAlgorithm("hillmanGrassl",0)):(applet.animationTime=t/6,await applet.runAlgorithm("hillmanGrasslInverse",0))},1:async(a,e,t=600)=>{applet.animationTime=t,e?await applet.show2dView():await applet.showHexView()},2:async(a,e,t=600)=>{applet.animationTime=t,e?await applet.showHexView():await applet.show2dView()},3:async(a,e,t=150)=>{e?(applet.animationTime=t,await applet.runAlgorithm("hillmanGrasslInverse",0)):(applet.animationTime=t/3,await applet.runAlgorithm("hillmanGrassl",0))}},pak:{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]],!1,!1),applet.inExactHexView||await applet.showHexView(),await changeOpacity(canvasBundle,1,t/2)},0:async(a,e,t=600)=>{applet.animationTime=t,e?await applet.show2dView():await applet.showHexView()},1:async(a,e,t=600)=>{e?(applet.animationTime=t,await applet.runAlgorithm("pak",0)):(applet.animationTime=t/6,await applet.runAlgorithm("pakInverse",0))},2:async(a,e,t=150)=>{e?(applet.animationTime=t,await applet.runAlgorithm("pakInverse",0)):(applet.animationTime=t/3,await applet.runAlgorithm("pak",0))},3:async(a,e,t=600)=>{applet.animationTime=t,e?await applet.showHexView():await applet.show2dView()}},"regions-example":{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),applet.animationTime=0,a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=t;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,0,0],[1,1,1,1,1,0,0,0],[1,1,1,1,1,0,0,0],[1,1,1,1,0,0,0,0],[1,1,0,0,0,0,0,0]],!1,!1),await applet.hideFloor(),applet.in2dView||await applet.show2dView(),e||(await options.builds["regions-example"][0](a,!0,0),await options.builds["regions-example"][1](a,!0,0),await options.builds["regions-example"][2](a,!0,0),await options.builds["regions-example"][3](a,!0,0)),await changeOpacity(canvasBundle,1,t/2)},0:async(a,e,t=600)=>{applet.animationTime=t;t=[[0,5,0],[1,6,0],[2,7,0],[0,2,0],[1,3,0],[2,4,0],[3,5,0],[1,0,0],[2,1,0],[3,2,0],[4,3,0],[5,4,0],[3,0,0],[4,1,0],[5,2,0],[6,3,0],[6,0,0],[7,1,0]];e?await applet.colorCubes(applet.arrays[0],t,.6):await applet.uncolorCubes(applet.arrays[0],t)},1:async(a,e,t=600)=>{applet.animationTime=t;t=[[0,3,0],[1,4,0],[2,5,0],[0,1,0],[1,2,0],[2,3,0],[3,4,0],[2,0,0],[3,1,0],[4,2,0],[5,3,0],[5,0,0],[6,1,0]];e?await applet.colorCubes(applet.arrays[0],t,.16):await applet.uncolorCubes(applet.arrays[0],t)},2:async(a,e,t=600)=>{applet.animationTime=t;t=[[0,4,0],[1,5,0],[2,6,0],[4,0,0],[5,1,0],[6,2,0],[7,0,0]];e?await applet.colorCubes(applet.arrays[0],t,0):await applet.uncolorCubes(applet.arrays[0],t)},3:async(a,e,t=600)=>{applet.animationTime=t;t=[[0,7,0],[0,6,0],[1,7,0],[0,0,0],[1,1,0],[2,2,0],[3,3,0],[4,4,0]];e?await applet.colorCubes(applet.arrays[0],t,.33):await applet.uncolorCubes(applet.arrays[0],t)}},sulzgruber:{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[6,6,6,2],[4,2,2,0],[2,1,0,0],[1,1,0,0]],!1,!1),applet.inExactHexView||await applet.showHexView(),await changeOpacity(canvasBundle,1,t/2)},0:async(a,e,t=600)=>{e?(applet.animationTime=t,await applet.runAlgorithm("sulzgruber",0)):(applet.animationTime=t/6,await applet.runAlgorithm("sulzgruberInverse",0))},1:async(a,e,t=600)=>{applet.animationTime=t,e?await applet.show2dView():await applet.showHexView()},2:async(a,e,t=600)=>{applet.animationTime=t,e?await applet.showHexView():await applet.show2dView()},3:async(a,e,t=150)=>{e?(applet.animationTime=t,await applet.runAlgorithm("sulzgruberInverse",0)):(applet.animationTime=t/3,await applet.runAlgorithm("sulzgruber",0))}},"ps-rsk":{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[4,4,4],[4,3,2],[4,1,1]],!1,!1),await applet.addNewArray(1,[[4,4,4],[4,3,2],[4,1,1]],!1,!1),applet.inExactHexView||await applet.showHexView(),e||(await options.builds["ps-rsk"][1](a,!0,0),await options.builds["ps-rsk"][2](a,!0,0),await options.builds["ps-rsk"][3](a,!0,0),await options.builds["ps-rsk"][4](a,!0,0),await options.builds["ps-rsk"][5](a,!0,0)),await changeOpacity(canvasBundle,1,t/2)},1:async(a,e,t=300)=>{e?(applet.animationTime=t,await applet.showHexView(),await applet.runAlgorithm("sulzgruber",1),await applet.show2dView()):(applet.animationTime=t/3,await applet.showHexView(),await applet.runAlgorithm("sulzgruberInverse",1))},2:async(a,e,t=600)=>{applet.animationTime=t,e?(await applet.removeArray(1),t=[[1,1,2],[0,1,0],[3,0,0]],await applet.addNewArray(1,t,!1,!1)):(await applet.removeArray(1),e=[[0,0,3],[0,1,0],[2,1,1]],await applet.addNewArray(1,e,!1,!1))},3:async(a,e,t=400)=>{applet.animationTime=t,e?(await applet.runAlgorithm("rskInverse",1),t=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,1],[1,2,2],[2,0,2]],e=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,2],[1,2,2],[2,0,2]],await applet.uncolorCubes(applet.arrays[1],t),await applet.uncolorCubes(applet.arrays[2],e)):await applet.runAlgorithm("rsk",1)},4:async(a,e,t=600)=>{applet.animationTime=t;var t=[[0,1,3],[1,2,1]],p=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,0,1],[1,1,1]];e?(await applet.colorCubes(applet.arrays[0],t,0),await applet.colorCubes(applet.arrays[1],p,0)):(await applet.uncolorCubes(applet.arrays[0],t),await applet.uncolorCubes(applet.arrays[1],p))},5:async(a,e,t=600)=>{applet.animationTime=t;var t=[[2,0,3]],p=[[0,0,0],[0,1,0],[0,2,0],[0,3,0]];e?(await applet.colorCubes(applet.arrays[0],t,.6),await applet.colorCubes(applet.arrays[2],p,.6)):(await applet.uncolorCubes(applet.arrays[0],t),await applet.uncolorCubes(applet.arrays[2],p))}},"garver-patrias":{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[1,2,3],[4,5,6],[7,8,9]],!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,t/2)}},"garver-patrias-2":{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[1,0,1],[1,2,0],[0,0,1]],!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,t/2)}},"garver-patrias-3":{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[1,0,1],[1,2,0],[0,0,1]],!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,t/2)}},"garver-patrias-4":{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,[[0,1,2],[0,1,4],[2,4,5]],!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,t/2)}},app:{reset:async(a,e,t)=>{await changeOpacity(canvasBundle,0,t/2),a.appendChild(canvasBundle),applet.wilsonNumbers.draggables.onResize();a=[[1/0,1/0,1/0,9,5],[1/0,1/0,5,4,1],[6,4,4,3,0],[6,3,2,1,0],[4,1,1,0,0]];applet.animationTime=0;for(let a=applet.arrays.length-1;0<=a;a--)await applet.removeArray(0);await applet.addNewArray(0,a,!1,!1),applet.in2dView||await applet.show2dView(),await changeOpacity(canvasBundle,1,t/2)}}}});new Lapsa(options);