var settings_done,url_var_functions={animated:{theme:switch_theme,contrast:switch_contrast,font:switch_font,writing_style:switch_writing_style,comments:switch_comments,content_animation:switch_content_animation,banner_style:switch_banner_style},onload:{theme:switch_theme_on_load,contrast:switch_contrast_on_load,font:switch_font_on_load,writing_style:switch_writing_style_on_load,comments:switch_comments_on_load,content_animation:switch_content_animation_on_load,banner_style:switch_banner_style_on_load}};function get_url_var(t){for(var o=window.location.search.substring(1).split("&"),r=0;r<o.length;r++){var n=o[r].split("=");if(n[0]==t)return n[1]}return null}var url_vars={theme:get_url_var("theme"),contrast:get_url_var("contrast"),font:get_url_var("font"),writing_style:get_url_var("writing_style"),comments:get_url_var("comments"),content_animation:get_url_var("content_animation"),banner_style:get_url_var("banner_style")};function apply_settings(){for(key in url_vars)null==url_vars[key]&&(url_vars[key]=0),url_vars[key]=!url_vars[key],url_var_functions.onload[key]();settings_done=!0}function switch_theme(){0==url_vars.theme?($("html").css("background-color","rgb(24, 24, 24)"),1==url_vars.contrast?($(".section-text").css("color","rgb(232, 232, 232)"),$(".body-text").css("color","rgb(216, 216, 216)"),$(".body-text .link").css("color","rgb(216, 255, 216)"),$(".song-lyrics").css("color","rgb(216, 216, 216)"),$(".image-link-subtext").css("color","rgb(216, 216, 216)"),$(".quote-text").css("color","rgb(192, 192, 192"),$(".quote-attribution").css("color","rgb(234, 234, 234)"),$(".footer-button, .text-button, .nav-button").css("border-color","rgb(127, 127, 127)")):($(".section-text").css("color","rgb(184, 184, 184)"),$(".body-text").css("color","rgb(152, 152, 152)"),$(".body-text .link").css("color","rgb(152, 216, 152)"),$(".song-lyrics").css("color","rgb(152, 152, 152)"),$(".image-link-subtext").css("color","rgb(152, 152, 152)"),$(".quote-text").css("color","rgb(104, 104, 104)"),$(".quote-attribution").css("color","rgb(188, 188, 188)"),$("head").append('\n\t\t\t\t<style class="temporary-style">\n\t\t\t\t\t.line-break\n\t\t\t\t\t{\n\t\t\t\t\t\tbackground: rgb(24,24,24);\n\t\t\t\t\t\tbackground: -moz-linear-gradient(left, rgb(24,24,24) 0%, rgb(116,116,116) 50%, rgb(24,24,24) 100%);\n\t\t\t\t\t\tbackground: -webkit-linear-gradient(left, rgb(24,24,24) 0%,rgb(116,116,116) 50%,rgb(24,24,24) 100%);\n\t\t\t\t\t\tbackground: linear-gradient(to right, rgb(24,24,24) 0%,rgb(116,116,116) 50%,rgb(24,24,24) 100%);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.text-box\n\t\t\t\t\t{\n\t\t\t\t\t\tbackground-color: rgb(24, 24, 24);\n\t\t\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t\t\t\tborder-color: rgb(88, 88, 88);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.text-box:focus\n\t\t\t\t\t{\n\t\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t')),$(".heading-text").css("color","rgb(255, 255, 255)"),$(".date-text").css("color","rgb(255, 255, 255)"),$(".title-text").css("color","rgb(255, 255, 255)"),$("#theme-button-row").animate({opacity:0},300,"swing"),setTimeout(function(){try{$("#theme-button-text").html($("#theme-button-text").html().replace("light","dark"))}catch(t){}$("#theme-button-row").animate({opacity:1},300,"swing")},300),url_vars.theme=1,write_url_vars()):($("html").css("background-color","rgb(255, 255, 255)"),1==url_vars.contrast?($(".section-text").css("color","rgb(48, 48, 48)"),$(".body-text").css("color","rgb(64, 64, 64)"),$(".body-text .link").css("color","rgb(64, 128, 64)"),$(".song-lyrics").css("color","rgb(64, 64, 64)"),$(".image-link-subtext").css("color","rgb(64, 64, 64)"),$(".text-button").css("color","rgb(64, 64, 64)"),$(".quote-text").css("color","rgb(88, 88, 88"),$(".quote-attribution").css("color","rgb(46, 46, 46)"),$(".footer-button, .text-button, .nav-button").css("border-color","rgb(64, 64, 64)")):($(".section-text").css("color","rgb(96, 96, 96)"),$(".quote-text").css("color","rgb(176, 176, 176)"),$(".quote-attribution").css("color","rgb(92, 92, 92)")),$(".heading-text").css("color","rgb(0, 0, 0)"),$(".date-text").css("color","rgb(0, 0, 0)"),$(".title-text").css("color","rgb(0, 0, 0)"),$("#theme-button-row").animate({opacity:0},300,"swing"),setTimeout(function(){try{$("#theme-button-text").html($("#theme-button-text").html().replace("dark","light"))}catch(t){}$("#theme-button-row").animate({opacity:1},300,"swing")},300),url_vars.theme=0,write_url_vars())}function switch_theme_on_load(){page_settings.manual_dark_theme?url_vars.theme=1-url_vars.theme:switch_theme()}function switch_contrast(){$("#contrast-button-row").animate({opacity:0},300,"swing"),setTimeout(function(){switch_contrast_on_load(),$("#contrast-button-row").animate({opacity:1},300,"swing")},300)}function switch_contrast_on_load(){if(0==url_vars.contrast){try{$("#contrast-button-text").html($("#contrast-button-text").html().replace("normal","high"))}catch(t){}if(url_vars.contrast=1,write_url_vars(),1==url_vars.theme)$(".section-text").css("color","rgb(232, 232, 232)"),$(".body-text").css("color","rgb(216, 216, 216)"),$(".body-text .link").css("color","rgb(216, 255, 216)"),$(".song-lyrics").css("color","rgb(216, 216, 216)"),$(".image-link-subtext").css("color","rgb(216, 216, 216)"),$(".quote-text").css("color","rgb(192, 192, 192)"),$(".quote-attribution").css("color","rgb(234, 234, 234)"),$(".footer-button, .text-button, .nav-button").css("border-color","rgb(127, 127, 127)"),$("head").append('\n\t\t\t\t<style class="temporary-style">\n\t\t\t\t\t.line-break\n\t\t\t\t\t{\n\t\t\t\t\t\tbackground: rgb(24,24,24);\n\t\t\t\t\t\tbackground: -moz-linear-gradient(left, rgb(24,24,24) 0%, rgb(164,164,164) 50%, rgb(24,24,24) 100%);\n\t\t\t\t\t\tbackground: -webkit-linear-gradient(left, rgb(24,24,24) 0%,rgb(164,164,164) 50%,rgb(24,24,24) 100%);\n\t\t\t\t\t\tbackground: linear-gradient(to right, rgb(24,24,24) 0%,rgb(164,164,164) 50%,rgb(24,24,24) 100%);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.scroll-button\n\t\t\t\t\t{\n\t\t\t\t\t\tborder-color: rgb(88, 88, 88)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.text-box\n\t\t\t\t\t{\n\t\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t\t\tbackground-color: rgb(24, 24, 24);\n\t\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.text-box:focus\n\t\t\t\t\t{\n\t\t\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t');else{$(".section-text").css("color","rgb(48, 48, 48)"),$(".body-text").css("color","rgb(64, 64, 64)"),$(".body-text .link").css("color","rgb(64, 128, 64)"),$(".song-lyrics").css("color","rgb(64, 64, 64)"),$(".image-link-subtext").css("color","rgb(64, 64, 64)"),$(".text-button").css("color","rgb(64, 64, 64)"),$(".quote-text").css("color","rgb(88, 88, 88)"),$(".quote-attribution").css("color","rgb(46, 46, 46)"),$(".footer-button, .text-button, .nav-button").css("border-color","rgb(64, 64, 64)"),$("head").append('\n\t\t\t\t<style class="temporary-style">\n\t\t\t\t\t.line-break\n\t\t\t\t\t{\n\t\t\t\t\t\tbackground: rgb(255,255,255);\n\t\t\t\t\t\tbackground: -moz-linear-gradient(left, rgb(255,255,255) 0%, rgb(120,120,120) 50%, rgb(255,255,255) 100%);\n\t\t\t\t\t\tbackground: -webkit-linear-gradient(left, rgb(255,255,255) 0%,rgb(120,120,120) 50%,rgb(255,255,255) 100%);\n\t\t\t\t\t\tbackground: linear-gradient(to right, rgb(255,255,255) 0%,rgb(120,120,120) 50%,rgb(255,255,255) 100%);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.scroll-button\n\t\t\t\t\t{\n\t\t\t\t\t\tborder-color: rgb(64, 64, 64);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.text-box\n\t\t\t\t\t{\n\t\t\t\t\t\tborder-color: rgb(127, 127, 127);\n\t\t\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.text-box:focus\n\t\t\t\t\t{\n\t\t\t\t\t\tborder-color: rgb(64, 64, 64);\n\t\t\t\t\t\tcolor: rgb(0, 0, 0);\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t');try{$(".nav-button").each(function(t,o){$(this).attr("src",$(this).attr("src").replace("chevron-left","chevron-left-dark").replace("chevron-right","chevron-right-dark"))})}catch(t){}}$(".text-button").css("color","rgb(64, 64, 64)")}else{try{$("#contrast-button-text").html($("#contrast-button-text").html().replace("high","normal"))}catch(t){}url_vars.contrast=0,write_url_vars(),1==url_vars.theme?($(".section-text").css("color","rgb(184, 184, 184)"),$(".body-text").css("color","rgb(152, 152, 152)"),$(".body-text .link").css("color","rgb(152, 216, 152)"),$(".song-lyrics").css("color","rgb(152, 152, 152)"),$(".image-link-subtext").css("color","rgb(152, 152, 152)"),$(".text-button").css("color","rgb(152, 152, 152)"),$(".quote-text").css("color","rgb(104, 104, 104"),$(".quote-attribution").css("color","rgb(188, 188, 188)"),$(".footer-button, .text-button, .nav-button").css("border-color","rgb(127, 127, 127)")):($(".section-text").css("color","rgb(96, 96, 96)"),$(".body-text").css("color","rgb(127, 127, 127)"),$(".body-text .link").css("color","rgb(127, 192, 127)"),$(".song-lyrics").css("color","rgb(127, 127, 127)"),$(".image-link-subtext").css("color","rgb(127, 127, 127)"),$(".text-button").css("color","rgb(127, 127, 127)"),$(".quote-text").css("color","rgb(176, 176, 176"),$(".quote-attribution").css("color","rgb(92, 92, 92)"),$(".footer-button, .text-button, .nav-button").css("border-color","rgb(127, 127, 127)"))}}function switch_font(){$("#font-button-row").animate({opacity:0},300,"swing"),setTimeout(function(){switch_font_on_load(),setTimeout(function(){$("#font-button-row").animate({opacity:1},300,"swing")})},300)}function switch_font_on_load(){if(0==url_vars.font){try{$("#font-button-text").html($("#font-button-text").html().replace("always sans serif","serif on writing"))}catch(t){}url_vars.font=1,write_url_vars(),page_settings.writing_page&&$(".body-text").css("font-family","'Gentium Book Basic', serif")}else{try{$("#font-button-text").html($("#font-button-text").html().replace("serif on writing","always sans serif"))}catch(t){}url_vars.font=0,write_url_vars()}}function switch_writing_style(){$("#writing-style-button-row").animate({opacity:0},300,"swing"),setTimeout(function(){switch_writing_style_on_load(),setTimeout(function(){$("#writing-style-button-row").animate({opacity:1},300,"swing")})},300)}function switch_writing_style_on_load(){if(0==url_vars.writing_style){try{$("#writing-style-button-text").html($("#writing-style-button-text").html().replace("double-spaced","single-spaced and indented"))}catch(t){}url_vars.writing_style=1,write_url_vars(),page_settings.writing_page&&($("section div .body-text").parent().next("br").remove(),$("section div:not(:first-child) .body-text").css("text-indent","10pt"))}else{try{$("#writing-style-button-text").html($("#writing-style-button-text").html().replace("single-spaced and indented","double-spaced"))}catch(t){}url_vars.writing_style=0,write_url_vars()}}function switch_comments(){$("#comments-button-row").animate({opacity:0},300,"swing"),setTimeout(function(){switch_comments_on_load(),$("#comments-button-row").animate({opacity:1},300,"swing")},300)}function switch_comments_on_load(){if(0==url_vars.comments){try{$("#comments-button-text").html($("#comments-button-text").html().replace("enabled","disabled"))}catch(t){}try{$("#disqus_thread").prev().remove(),$("#disqus_thread").prev().remove(),$("#disqus_thread").prev().remove(),$("#disqus_thread").remove()}catch(t){}url_vars.comments=1,write_url_vars()}else{try{$("#comments-button-text").html($("#comments-button-text").html().replace("disabled","enabled"))}catch(t){}url_vars.comments=0,write_url_vars()}}function switch_content_animation(){$("#content-animation-button-row").animate({opacity:0},300,"swing"),setTimeout(function(){switch_content_animation_on_load(),$("#content-animation-button-row").animate({opacity:1},300,"swing")},300)}function switch_content_animation_on_load(){if(0==url_vars.content_animation){try{$("#content-animation-button-text").html($("#content-animation-button-text").html().replace("enabled","disabled"))}catch(t){}url_vars.content_animation=1,write_url_vars(),$("body").find("*[data-aos]").removeAttr("data-aos")}else{try{$("#content-animation-button-text").html($("#content-animation-button-text").html().replace("disabled","enabled"))}catch(t){}url_vars.content_animation=0,write_url_vars()}}function switch_banner_style(){$("#banner-style-button-row").animate({opacity:0},300,"swing"),setTimeout(function(){switch_banner_style_on_load(),$("#banner-style-button-row").animate({opacity:1},300,"swing")},300)}function switch_banner_style_on_load(){if(0==url_vars.banner_style){try{$("#banner-style-button-text").html($("#banner-style-button-text").html().replace("parallax","simple"))}catch(t){}url_vars.banner_style=1,write_url_vars();try{$("#background-image").addClass("bad-banner")}catch(t){}}else{try{$("#banner-style-button-text").html($("#banner-style-button-text").html().replace("simple","parallax"))}catch(t){}url_vars.banner_style=0,write_url_vars()}}window.matchMedia("(prefers-color-scheme: dark)").matches&&null==url_vars.theme&&(url_vars.theme=1);