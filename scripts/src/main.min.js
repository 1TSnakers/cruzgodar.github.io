let DEBUG=!1;Page.element=null;Page.lastElement=null;let $=a=>Page.element.querySelector(a),$$=a=>Page.element.querySelectorAll(a);Page.readyToShow=!1;Page.scroll=0;Page.settings={};Page.parentFolder="/";Site.manualHeaderPages=["/home/","/writing/caligo/"];Page.temporaryHandlers={scroll:[],resize:[],wheel:[],touchstart:[],touchmove:[],touchend:[],mousedown:[],mousemove:[],mouseup:[],keydown:[]};Page.temporaryIntervals=[];Page.temporaryWebWorkers=[];Page.backgroundColorChanged=!1;
Page.usingCustomScript=!0;Page.setElementStyles=function(a,b,c,d=!1){const e=d?"important":"";$$(a).forEach(f=>f.style.setProperty(b,c,e))};Site.vistedHomepage=!1;Site.scriptsLoaded={mathjax:!1,complexjs:!1,three:!1,lodash:!1,desmos:!1,glsl:0};Site.useJsAnimation=!1;Site.baseAnimationTime=250;Site.navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25);Site.navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25);Site.showingPresentation=!1;Site.appletProcessId=0;
let DESMOS_PURPLE="#772fbf",DESMOS_BLUE="#2f77bf",DESMOS_RED="#bf2f2f",DESMOS_GREEN="#2fbf2f",DESMOS_BLACK="#000000";
Site.load=async function(a){Site.sitemap["/slides/"].children.includes(Page.url)&&(DEBUG&&console.log("Showing a presentation!"),Site.showingPresentation=!0);Page.element=document.createElement("div");Page.element.classList.add("page");Site.showingPresentation&&(Page.element.style.display="none");document.body.insertBefore(Page.element,document.body.firstChild);const b=Browser.isIos();Site.useJsAnimation=b;Site.useJsAnimation?(DEBUG&&console.log("Using JS animation"),this.buttonAnimationTime=.5*this.baseAnimationTime,
this.opacityAnimationTime=.8*this.baseAnimationTime,this.pageAnimationTime=.55*this.baseAnimationTime,this.backgroundColorAnimationTime=2*this.baseAnimationTime,Page.Animate.changeOpacity=Page.Animate.changeOpacityJs,Page.Animate.changeScale=Page.Animate.changeScaleJs,Page.Animate.fadeLeft=Page.Animate.fadeLeftJs,Page.Animate.changeLeftSettingsButton=Page.Animate.changeLeftSettingsButtonJs,Page.Animate.changeRightSettingsButton=Page.Animate.changeRightSettingsButtonJs,Page.Animate.showSlideShelf=
Page.Animate.showSlideShelfJs,Page.Animate.hideSlideShelf=Page.Animate.hideSlideShelfJs,Page.Animate.changeFooterImageLinkText=Page.Animate.changeFooterImageLinkTextJs,Page.Animate.fadeUpIn=Page.Animate.fadeUpInJs,Page.Animate.fadeUpOut=Page.Animate.fadeUpOutJs,Page.Animate.fadeDownIn=Page.Animate.fadeDownInJs,Page.Animate.fadeDownOut=Page.Animate.fadeDownOutJs,Page.Animate.fadeLeftIn=Page.Animate.fadeLeftInJs,Page.Animate.fadeLeftOut=Page.Animate.fadeLeftOutJs,Page.Animate.fadeRightIn=Page.Animate.fadeRightInJs,
Page.Animate.fadeRightOut=Page.Animate.fadeRightOutJs,Page.Animate.fadeIn=Page.Animate.fadeInJs,Page.Animate.fadeOut=Page.Animate.fadeOutJs,Page.Animate.showFadeUpSection=Page.Animate.showFadeUpSectionJs,Page.Animate.showZoomOutSection=Page.Animate.showZoomOutSectionJs):(this.buttonAnimationTime=.45*this.baseAnimationTime,this.opacityAnimationTime=.75*this.baseAnimationTime,this.pageAnimationTime=.55*this.baseAnimationTime,this.backgroundColorAnimationTime=2*this.baseAnimationTime,Page.Animate.changeOpacity=
Page.Animate.changeOpacityCss,Page.Animate.changeScale=Page.Animate.changeScaleCss,Page.Animate.fadeLeft=Page.Animate.fadeLeftCss,Page.Animate.changeLeftSettingsButton=Page.Animate.changeLeftSettingsButtonCss,Page.Animate.changeRightSettingsButton=Page.Animate.changeRightSettingsButtonCss,Page.Animate.showSlideShelf=Page.Animate.showSlideShelfJs,Page.Animate.hideSlideShelf=Page.Animate.hideSlideShelfJs,Page.Animate.changeFooterImageLinkText=Page.Animate.changeFooterImageLinkTextCss,Page.Animate.fadeUpIn=
Page.Animate.fadeUpInCss,Page.Animate.fadeUpOut=Page.Animate.fadeUpOutCss,Page.Animate.fadeDownIn=Page.Animate.fadeDownInCss,Page.Animate.fadeDownOut=Page.Animate.fadeDownOutCss,Page.Animate.fadeLeftIn=Page.Animate.fadeLeftInCss,Page.Animate.fadeLeftOut=Page.Animate.fadeLeftOutCss,Page.Animate.fadeRightIn=Page.Animate.fadeRightInCss,Page.Animate.fadeRightOut=Page.Animate.fadeRightOutCss,Page.Animate.fadeIn=Page.Animate.fadeInCss,Page.Animate.fadeOut=Page.Animate.fadeOutCss,Page.Animate.showFadeUpSection=
Page.Animate.showFadeUpSectionCss,Page.Animate.showZoomOutSection=Page.Animate.showZoomOutSectionCss);Page.Layout.aspectRatio=window.innerWidth/window.innerHeight;window.addEventListener("scroll",()=>{Page.Banner.onScroll(0);window.requestAnimationFrame(Page.Load.lazyLoadScroll)});window.addEventListener("resize",()=>{Page.Layout.onResize()});Browser.detect();Site.Interaction.setUpListeners();window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]}};await new Promise(async(c,d)=>{await Site.loadScript("https://polyfill.io/v3/polyfill.min.js?features=es6");
await Site.loadScript("https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js");c()});"scrollRestoration"in history&&(history.scrollRestoration="manual");window.matchMedia("(display-mode: standalone)").matches&&(document.documentElement.style.WebkitUserSelect="none",document.documentElement.style.userSelect="none",document.documentElement.style.WebkitTouchCallout="none",$$("body *").forEach(c=>c.setAttribute("draggable","false")),this.addStyle("\n\t\t\t#logo, .name-text-container, .empty-top\n\t\t\t{\n\t\t\t\tmargin-top: 2vh;\n\t\t\t}\n\t\t",
!1));window.addEventListener("popstate",c=>{-1===window.location.href.indexOf("#")&&Page.Navigation.redirect(c.state.url,!1,!0,!0)});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")});Page.Cards.closeButton.addEventListener("click",Page.Cards.hide);Page.Banner.ScrollButton.exists=!1;Site.Settings.setUp();Site.showingPresentation||Page.Load.addHeader();Page.Load.HoverEvents.add(Page.Cards.closeButton);Page.Cards.closeButton.addEventListener("click",
Page.Cards.hide);-1!==a.indexOf(".")?window.location.href=a:Page.Navigation.redirect(a,!1,!0,!1,!0)};Site.loadScript=function(a,b=!1){return new Promise((c,d)=>{const e=document.createElement("script");b&&e.setAttribute("type","module");document.body.appendChild(e);e.onload=c;e.onerror=d;e.async=!0;e.src=a})};Site.loadStyle=function(a){const b=document.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");document.head.appendChild(b);b.setAttribute("href",a);return b};
Site.addStyle=function(a,b=!0,c=!1){const d=document.createElement("style");d.textContent=a;b&&d.classList.add("temporary-style");c?document.head.insertBefore(d,document.head.firstChild):document.head.appendChild(d);return d};
Site.Interaction={currentlyTouchDevice:"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,lastMousemoveEvent:0,lastTouchX:0,lastTouchY:0,setUpListeners:function(){const a=this.handleTouchEvent.bind(this);document.documentElement.addEventListener("touchstart",a,!1);document.documentElement.addEventListener("touchmove",a,!1);document.documentElement.addEventListener("mousemove",()=>{if(this.currentlyTouchDevice){const b=Date.now()-this.lastMousemoveEvent;this.lastMousemoveEvent=
Date.now();3<=b&&50>=b&&33!==b&&(this.currentlyTouchDevice=!1)}});document.documentElement.addEventListener("keydown",b=>{13===b.keyCode?document.activeElement.classList.contains("click-on-child")?document.activeElement.children[0].click():"BUTTON"===document.activeElement.tagName||"INPUT"===document.activeElement.tagName&&"button"!==document.activeElement.getAttribute("type")||document.activeElement.click():27===b.keyCode&&Page.Cards.isOpen&&Page.Cards.hide()});document.documentElement.addEventListener("mousedown",
()=>{if("INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName&&"SELECT"!==document.activeElement.tagName)document.activeElement.blur();else if("SELECT"!==document.activeElement.tagName)try{element.previousElementSibling.classList.remove("hover")}catch(b){}})},handleTouchEvent:function(a){this.lastTouchX=a.touches[0].clientX;this.lastTouchY=a.touches[0].clientY;"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName&&"SELECT"!==document.activeElement.tagName&&
document.activeElement.blur();this.currentlyTouchDevice||(Page.Load.HoverEvents.remove(),this.currentlyTouchDevice=!0)}};
