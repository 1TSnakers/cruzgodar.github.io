"use strict";Page.element=null,Page.lastElement=null;let $=e=>Page.element.querySelector(e),$$=e=>Page.element.querySelectorAll(e),DESMOS_PURPLE=(Page.readyToShow=!1,Page.scroll=0,Page.settings={},Page.parentFolder="/",Site.manualHeaderPages=["/home/","/writing/caligo/"],Page.temporaryHandlers={scroll:[],resize:[],wheel:[],touchstart:[],touchmove:[],touchend:[],mousedown:[],mousemove:[],mouseup:[],keydown:[]},Page.temporaryIntervals=[],Page.temporaryWebWorkers=[],Page.backgroundColorChanged=!1,Page.usingCustomScript=!0,Page.setElementStyles=function(e,t,n,i=!1){const o=i?"important":"";$$(e).forEach(e=>e.style.setProperty(t,n,o))},Site.vistedHomepage=!1,Site.scriptsLoaded={mathjax:!1,complexjs:!1,three:!1,lodash:!1,desmos:!1,glsl:0},Site.useJsAnimation=!1,Site.baseAnimationTime=250,Site.navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),Site.navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25),Site.showingPresentation=!1,Site.appletProcessId=0,"#772fbf"),DESMOS_BLUE="#2f77bf",DESMOS_RED="#bf2f2f",DESMOS_GREEN="#2fbf2f",DESMOS_BLACK="#000000";Site.load=async function(e){Site.sitemap["/slides/"].children.includes(Page.url)&&(Site.showingPresentation=!0),Page.element=document.createElement("div"),Page.element.classList.add("page"),Site.showingPresentation&&(Page.element.style.display="none"),document.body.insertBefore(Page.element,document.body.firstChild),Site.useJsAnimation=browserIsIos,Site.useJsAnimation?(this.buttonAnimationTime=.5*this.baseAnimationTime,this.opacityAnimationTime=.8*this.baseAnimationTime):(this.buttonAnimationTime=.45*this.baseAnimationTime,this.opacityAnimationTime=.75*this.baseAnimationTime),this.pageAnimationTime=.55*this.baseAnimationTime,this.backgroundColorAnimationTime=2*this.baseAnimationTime,window.addEventListener("scroll",()=>{bannerOnScroll(0)}),Site.Interaction.setUpListeners(),window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]}},await new Promise(async(e,t)=>{await Site.loadScript("https://polyfill.io/v3/polyfill.min.js?features=es6"),await Site.loadScript("https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"),e()}),"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.matchMedia("(display-mode: standalone)").matches&&(document.documentElement.style.WebkitUserSelect="none",document.documentElement.style.userSelect="none",document.documentElement.style.WebkitTouchCallout="none",$$("body *").forEach(e=>e.setAttribute("draggable","false")),this.addStyle(`
			#logo, .name-text-container, .empty-top
			{
				margin-top: 2vh;
			}
		`,!1)),window.addEventListener("popstate",e=>{-1===window.location.href.indexOf("#")&&redirect({url:e.state.url,noStatePush:!0,restoreScroll:!0})}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")}),Page.Cards.closeButton.addEventListener("click",Page.Cards.hide),setScrollButtonExists(!1),Site.Settings.setUp(),Site.showingPresentation||Page.Load.addHeader(),Page.Load.HoverEvents.add(Page.Cards.closeButton),Page.Cards.closeButton.addEventListener("click",Page.Cards.hide),-1!==e.indexOf(".")?window.location.href=e:redirect({url:e,noStatePush:!0,noFadeOut:!0})},Site.loadScript=function(i,o=!1){return new Promise((e,t)=>{var n=document.createElement("script");o&&n.setAttribute("type","module"),document.body.appendChild(n),n.onload=e,n.onerror=t,n.async=!0,n.src=i})},Site.loadStyle=function(e){var t=document.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),document.head.appendChild(t),t.setAttribute("href",e),t},Site.addStyle=function(e,t=!0,n=!1){var i=document.createElement("style");return i.textContent=e,t&&i.classList.add("temporary-style"),n?document.head.insertBefore(i,document.head.firstChild):document.head.appendChild(i),i},Site.Interaction={currentlyTouchDevice:"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,lastMousemoveEvent:0,lastTouchX:0,lastTouchY:0,setUpListeners:function(){var e=this.handleTouchEvent.bind(this);document.documentElement.addEventListener("touchstart",e,!1),document.documentElement.addEventListener("touchmove",e,!1),document.documentElement.addEventListener("mousemove",()=>{var e;this.currentlyTouchDevice&&(e=Date.now()-this.lastMousemoveEvent,this.lastMousemoveEvent=Date.now(),3<=e)&&e<=50&&33!=e&&(this.currentlyTouchDevice=!1)}),document.documentElement.addEventListener("keydown",e=>{13===e.keyCode?document.activeElement.classList.contains("click-on-child")?document.activeElement.children[0].click():"BUTTON"===document.activeElement.tagName||"INPUT"===document.activeElement.tagName&&"button"!==document.activeElement.getAttribute("type")||document.activeElement.click():27===e.keyCode&&Page.Cards.isOpen&&Page.Cards.hide()}),document.documentElement.addEventListener("mousedown",()=>{if("INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName&&"SELECT"!==document.activeElement.tagName)document.activeElement.blur();else if("SELECT"!==document.activeElement.tagName)try{element.previousElementSibling.classList.remove("hover")}catch(e){}})},handleTouchEvent:function(e){this.lastTouchX=e.touches[0].clientX,this.lastTouchY=e.touches[0].clientY,"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName&&"SELECT"!==document.activeElement.tagName&&document.activeElement.blur(),this.currentlyTouchDevice||(Page.Load.HoverEvents.remove(),this.currentlyTouchDevice=!0)}};