let desmosLoaded=!1,desmosGraphs={},getDesmosData=()=>{};function setGetDesmosData(s){getDesmosData=s}async function createDesmosGraphs(a=1===Site.Settings.urlVars.theme){for(var s in desmosLoaded||(await Site.loadScript("https://www.desmos.com/api/v1.7/calculator.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"),desmosLoaded=!0),desmosGraphs)try{desmosGraphs[s].destroy()}catch(s){}desmosGraphs={};var e,t=a?"#60c000":"#772fbf",o=a?"#c06000":"#2f77bf",r=a?"#00c0c0":"#bf2f2f",i=a?"#c000c0":"#2fbf2f";const d=getDesmosData(t,o,r,i,"#000000");for(e in d)d[e].expressions.forEach(s=>{s.latex=s.latex.replace(/\(/g,String.raw`\left(`),s.latex=s.latex.replace(/\)/g,String.raw`\right)`),s.latex=s.latex.replace(/\[/g,String.raw`\left[`),s.latex=s.latex.replace(/\]/g,String.raw`\right]`)});$$(".desmos-container").forEach(s=>{var e={keypad:!1,settingsMenu:!1,zoomButtons:!1,showResetButtonOnGraphpaper:!0,border:!1,expressionsCollapsed:!0,invertedColors:a,xAxisMinorSubdivisions:1,yAxisMinorSubdivisions:1};if(d[s.id].options)for(var t in d[s.id].options)e[t]=d[s.id].options[t];desmosGraphs[s.id]=Desmos.GraphingCalculator(s,e),desmosGraphs[s.id].setMathBounds(d[s.id].bounds),desmosGraphs[s.id].setExpressions(d[s.id].expressions),desmosGraphs[s.id].setDefaultState(desmosGraphs[s.id].getState())})}function getDesmosScreenshot(s,e=!1){desmosGraphs[s].updateSettings({showGrid:e,xAxisNumbers:e,yAxisNumbers:e});var t=desmosGraphs[s].getExpressions();for(let s=0;s<t.length;s++)t[s].lineWidth=e?5:7.5,t[s].pointSize=e?15:27,t[s].dragMode="NONE";desmosGraphs[s].setExpressions(t),desmosGraphs[s].asyncScreenshot({width:500,height:500,targetPixelRatio:8},s=>{var e=document.createElement("img");e.width=4e3,e.height=4e3,e.style.width="50vmin",e.style.height="50vmin",e.src=s,document.body.appendChild(e)})}export{setGetDesmosData,createDesmosGraphs,getDesmosScreenshot};