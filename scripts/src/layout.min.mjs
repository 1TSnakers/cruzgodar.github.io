import{bannerOnScroll,setBannerMaxScroll}from"./banners.min.mjs";import{resizeCard}from"./cards.min.mjs";import{headerElement}from"./header.min.mjs";import{$,$$}from"./main.min.mjs";import{siteSettings}from"./settings.min.mjs";let aspectRatio=window.innerWidth/window.innerHeight,navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25);function onResize(){setBannerMaxScroll(document.body.offsetHeight>1.5*window.innerHeight?window.innerHeight/2:document.body.offsetHeight-window.innerHeight),navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25),1<(aspectRatio=window.innerWidth/window.innerHeight)&&!appletColumnsAreEqualized?equalizeAppletColumns():aspectRatio<=1&&appletColumnsAreEqualized&&destroyAppletColumns(),resizeCard();try{var e=headerElement.children[0].children[0];e.style.width=e.getBoundingClientRect().height+"px"}catch(e){}$$(".one-image-link").forEach(e=>{var t=e.children[0].getBoundingClientRect();e.style.margin=0,330<window.innerWidth&&(e.style.marginLeft=(window.innerWidth-t.width)/2+"px")}),bannerOnScroll(0)}window.addEventListener("resize",onResize);let appletColumnsAreEqualized=!1;function equalizeAppletColumns(){if(!(siteSettings.condensedApplets||aspectRatio<1)){let i=null,l=null;try{i=$("#canvas-landscape-left"),l=$("#canvas-landscape-right")}catch(e){}if(i&&l){var a=[],o=i.children.length,r=l.children.length;for(let e=0;e<o;e++)a.push(i.children[e]);for(let e=0;e<r;e++)a.push(l.children[e]);var s=[a[0].clientHeight];for(let e=1;e<a.length;e++)s.push(s[e-1]+a[e].clientHeight);let t=1/0,n=0;if(1<a.length)for(let e=0;e<a.length;e++){var d=Math.abs(s[e]-(s[s.length-1]-s[e]));d<t&&(t=d,n=e+1)}if(n<o){for(let e=n;e<o;e++)i.children[e].classList.add("move-to-right");var h=$$(".move-to-right");for(let e=h.length-1;0<=e;e--)l.insertBefore(h[e],l.firstElementChild)}else{for(let e=0;e<n-o;e++)l.children[e].classList.add("move-to-left");var c=$$(".move-to-left");for(let e=0;e<c.length;e++)i.appendChild(c[e])}appletColumnsAreEqualized=!0}}}function destroyAppletColumns(){let n=null,i=null;try{n=$("#canvas-landscape-left"),i=$("#canvas-landscape-right")}catch(e){}if(n&&i){let t=$$(".move-to-left");for(let e=t.length-1;0<=e;e--)i.insertBefore(t[e],i.firstElementChild),t[e].classList.remove("move-to-left");t=$$(".move-to-right");for(let e=0;e<t.length;e++)n.appendChild(t[e]),t[e].classList.remove("move-to-right");appletColumnsAreEqualized=!1}}export{aspectRatio,navigationAnimationDistanceVertical,navigationAnimationDistanceHorizontal,onResize,equalizeAppletColumns};