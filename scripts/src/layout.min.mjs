import{bannerOnScroll,setBannerMaxScroll}from"./banners.min.mjs";import{resizeCard}from"./cards.min.mjs";import{headerElement}from"./header.min.mjs";import{$,$$}from"./main.min.mjs";import{siteSettings}from"./settings.min.mjs";let aspectRatio=window.innerWidth/window.innerHeight,navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25),appletColumnsAreEqualized=!1;function onResize(){setBannerMaxScroll(document.body.offsetHeight>1.5*window.innerHeight?window.innerHeight/2:document.body.offsetHeight-window.innerHeight),navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25),1<(aspectRatio=window.innerWidth/window.innerHeight)&&!appletColumnsAreEqualized?equalizeAppletColumns():aspectRatio<=1&&appletColumnsAreEqualized&&destroyAppletColumns(),resizeCard();var element=headerElement?.children[0]?.children[0];element&&(element.style.width=element.getBoundingClientRect().height+"px"),$$(".one-image-link").forEach(element=>{var childRect=element.children[0].getBoundingClientRect();element.style.margin=0,330<window.innerWidth&&(element.style.marginLeft=(window.innerWidth-childRect.width)/2+"px")}),bannerOnScroll(0)}function setUpOnResize(){window.addEventListener("resize",onResize)}function equalizeAppletColumns(){if(!(siteSettings.condensedApplets||aspectRatio<1)){var leftColumn=$("#canvas-landscape-left"),rightColumn=$("#canvas-landscape-right");if(leftColumn&&rightColumn){var elements=[],numLeftChildren=leftColumn.children.length,numRightChildren=rightColumn.children.length;for(let i=0;i<numLeftChildren;i++)elements.push(leftColumn.children[i]);for(let i=0;i<numRightChildren;i++)elements.push(rightColumn.children[i]);var heightSums=[elements[0].clientHeight];for(let i=1;i<elements.length;i++)heightSums.push(heightSums[i-1]+elements[i].clientHeight);let minHeightDifference=1/0,midpointIndex=0;if(1<elements.length)for(let i=0;i<elements.length;i++){var heightDifference=Math.abs(heightSums[i]-(heightSums[heightSums.length-1]-heightSums[i]));heightDifference<minHeightDifference&&(minHeightDifference=heightDifference,midpointIndex=i+1)}if(midpointIndex<numLeftChildren){for(let i=midpointIndex;i<numLeftChildren;i++)leftColumn.children[i].classList.add("move-to-right");var elementsToMove=$$(".move-to-right");for(let i=elementsToMove.length-1;0<=i;i--)rightColumn.insertBefore(elementsToMove[i],rightColumn.firstElementChild)}else{for(let i=0;i<midpointIndex-numLeftChildren;i++)rightColumn.children[i].classList.add("move-to-left");const elementsToMove=$$(".move-to-left");for(let i=0;i<elementsToMove.length;i++)leftColumn.appendChild(elementsToMove[i])}appletColumnsAreEqualized=!0}}}function destroyAppletColumns(){var leftColumn=$("#canvas-landscape-left"),rightColumn=$("#canvas-landscape-right");if(leftColumn&&rightColumn){let elementsToMove=$$(".move-to-left");for(let i=elementsToMove.length-1;0<=i;i--)rightColumn.insertBefore(elementsToMove[i],rightColumn.firstElementChild),elementsToMove[i].classList.remove("move-to-left");elementsToMove=$$(".move-to-right");for(let i=0;i<elementsToMove.length;i++)leftColumn.appendChild(elementsToMove[i]),elementsToMove[i].classList.remove("move-to-right");appletColumnsAreEqualized=!1}}export{aspectRatio,navigationAnimationDistanceVertical,navigationAnimationDistanceHorizontal,onResize,setUpOnResize,equalizeAppletColumns};