import{bannerOnScroll}from"./banners.min.mjs";import{resizeCard}from"./cards.min.mjs";import{headerElement}from"./load-page.min.mjs";let aspectRatio=window.innerWidth/window.innerHeight;function onResize(){setBannerMaxScroll(document.body.offsetHeight>1.5*window.innerHeight?window.innerHeight/2:document.body.offsetHeight-window.innerHeight),Site.navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),Site.navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25),1<(aspectRatio=window.innerWidth/window.innerHeight)&&!appletColumnsAreEqualized?equalizeAppletColumns():aspectRatio<=1&&appletColumnsAreEqualized&&destroyAppletColumns(),resizeCard();try{var e=headerElement.children[0].children[0];e.style.width=e.getBoundingClientRect().height+"px"}catch(e){}$$(".one-image-link").forEach(e=>{var t=e.children[0].getBoundingClientRect();e.style.margin=0,330<window.innerWidth&&(e.style.marginLeft=(window.innerWidth-t.width)/2+"px")}),bannerOnScroll(0)}window.addEventListener("resize",onResize);let appletColumnsAreEqualized=!1;function equalizeAppletColumns(){if(!(1===Site.Settings.urlVars.condensedApplets||aspectRatio<1)){let i=null,l=null;try{i=$("#canvas-landscape-left"),l=$("#canvas-landscape-right")}catch(e){}if(i&&l){var o=[],r=i.children.length,a=l.children.length;for(let e=0;e<r;e++)o.push(i.children[e]);for(let e=0;e<a;e++)o.push(l.children[e]);var s=[o[0].clientHeight];for(let e=1;e<o.length;e++)s.push(s[e-1]+o[e].clientHeight);let t=1/0,n=0;if(1<o.length)for(let e=0;e<o.length;e++){var d=Math.abs(s[e]-(s[s.length-1]-s[e]));d<t&&(t=d,n=e+1)}if(n<r){for(let e=n;e<r;e++)i.children[e].classList.add("move-to-right");var h=$$(".move-to-right");for(let e=h.length-1;0<=e;e--)l.insertBefore(h[e],l.firstElementChild)}else{for(let e=0;e<n-r;e++)l.children[e].classList.add("move-to-left");var c=$$(".move-to-left");for(let e=0;e<c.length;e++)i.appendChild(c[e])}appletColumnsAreEqualized=!0}}}function destroyAppletColumns(){let t=null,n=null;try{t=$("#canvas-landscape-left"),n=$("#canvas-landscape-right")}catch(e){}if(t&&n){const i=$$(".move-to-left");for(let e=i.length-1;0<=e;e--)n.insertBefore(i[e],n.firstElementChild),i[e].classList.remove("move-to-left");i=$$(".move-to-right");for(let e=0;e<i.length;e++)t.appendChild(i[e]),i[e].classList.remove("move-to-right");appletColumnsAreEqualized=!1}}export{aspectRatio,equalizeAppletColumns};