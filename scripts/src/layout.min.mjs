import{bannerOnScroll,setBannerMaxScroll}from"./banners.min.mjs";import{resizeCard}from"./cards.min.mjs";import{headerElement}from"./header.min.mjs";import{$,$$}from"./main.min.mjs";import{siteSettings}from"./settings.min.mjs";let aspectRatio=window.innerWidth/window.innerHeight,navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25),appletColumnsAreEqualized=!1;function onResize(){setBannerMaxScroll(document.body.offsetHeight>1.5*window.innerHeight?window.innerHeight/2:document.body.offsetHeight-window.innerHeight),navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25),1<(aspectRatio=window.innerWidth/window.innerHeight)&&!appletColumnsAreEqualized?equalizeAppletColumns():aspectRatio<=1&&appletColumnsAreEqualized&&destroyAppletColumns(),resizeCard();var e=headerElement?.children[0]?.children[0];e&&(e.style.width=e.getBoundingClientRect().height+"px"),$$(".one-image-link").forEach(e=>{var n=e.children[0].getBoundingClientRect();e.style.margin=0,330<window.innerWidth&&(e.style.marginLeft=(window.innerWidth-n.width)/2+"px")}),bannerOnScroll(0)}function setUpOnResize(){window.addEventListener("resize",onResize)}function equalizeAppletColumns(){if(!(siteSettings.condensedApplets||aspectRatio<1)){var i=$("#canvas-landscape-left"),o=$("#canvas-landscape-right");if(i&&o){var a=[],l=i.children.length,r=o.children.length;for(let e=0;e<l;e++)a.push(i.children[e]);for(let e=0;e<r;e++)a.push(o.children[e]);var s=[a[0].clientHeight];for(let e=1;e<a.length;e++)s.push(s[e-1]+a[e].clientHeight);let n=1/0,t=0;if(1<a.length)for(let e=0;e<a.length;e++){var d=Math.abs(s[e]-(s[s.length-1]-s[e]));d<n&&(n=d,t=e+1)}if(t<l){for(let e=t;e<l;e++)i.children[e].classList.add("move-to-right");var h=$$(".move-to-right");for(let e=h.length-1;0<=e;e--)o.insertBefore(h[e],o.firstElementChild)}else{for(let e=0;e<t-l;e++)o.children[e].classList.add("move-to-left");var m=$$(".move-to-left");for(let e=0;e<m.length;e++)i.appendChild(m[e])}appletColumnsAreEqualized=!0}}}function destroyAppletColumns(){var t=$("#canvas-landscape-left"),i=$("#canvas-landscape-right");if(t&&i){let n=$$(".move-to-left");for(let e=n.length-1;0<=e;e--)i.insertBefore(n[e],i.firstElementChild),n[e].classList.remove("move-to-left");n=$$(".move-to-right");for(let e=0;e<n.length;e++)t.appendChild(n[e]),n[e].classList.remove("move-to-right");appletColumnsAreEqualized=!1}}export{aspectRatio,navigationAnimationDistanceVertical,navigationAnimationDistanceHorizontal,onResize,setUpOnResize,equalizeAppletColumns};