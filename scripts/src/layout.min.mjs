import{bannerOnScroll,setBannerMaxScroll}from"./banners.min.mjs";import{resizeCard}from"./cards.min.mjs";import{headerElement}from"./header.min.mjs";import{$,$$}from"./main.min.mjs";import{siteSettings}from"./settings.min.mjs";let aspectRatio=window.innerWidth/window.innerHeight,navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25),appletColumnsAreEqualized=!1;function onResize(){setBannerMaxScroll(document.body.offsetHeight>1.5*window.innerHeight?window.innerHeight/2:document.body.offsetHeight-window.innerHeight),navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25),1<(aspectRatio=window.innerWidth/window.innerHeight)&&!appletColumnsAreEqualized?equalizeAppletColumns():aspectRatio<=1&&appletColumnsAreEqualized&&destroyAppletColumns(),resizeCard();var e=headerElement?.children[0]?.children[0];e&&(e.style.width=e.getBoundingClientRect().height+"px"),$$(".one-image-link").forEach(element=>{var e=element.children[0].getBoundingClientRect();element.style.margin=0,330<window.innerWidth&&(element.style.marginLeft=(window.innerWidth-e.width)/2+"px")}),bannerOnScroll(0)}function setUpOnResize(){window.addEventListener("resize",onResize)}function equalizeAppletColumns(){if(!(siteSettings.condensedApplets||aspectRatio<1)){var a=$("#canvas-landscape-left"),l=$("#canvas-landscape-right");if(a&&l){var r=[],s=a.children.length,d=l.children.length;for(let e=0;e<s;e++)r.push(a.children[e]);for(let i=0;i<d;i++)r.push(l.children[i]);var h=[r[0].clientHeight];for(let o=1;o<r.length;o++)h.push(h[o-1]+r[o].clientHeight);let n=1/0,t=0;if(1<r.length)for(let e=0;e<r.length;e++){var m=Math.abs(h[e]-(h[h.length-1]-h[e]));m<n&&(n=m,t=e+1)}if(t<s){for(let e=t;e<s;e++)a.children[e].classList.add("move-to-right");var c=$$(".move-to-right");for(let n=c.length-1;0<=n;n--)l.insertBefore(c[n],l.firstElementChild)}else{for(let e=0;e<t-s;e++)l.children[e].classList.add("move-to-left");var p=$$(".move-to-left");for(let n=0;n<p.length;n++)a.appendChild(p[n])}appletColumnsAreEqualized=!0}}}function destroyAppletColumns(){var i=$("#canvas-landscape-left"),o=$("#canvas-landscape-right");if(i&&o){let e=$$(".move-to-left");for(let n=e.length-1;0<=n;n--)o.insertBefore(e[n],o.firstElementChild),e[n].classList.remove("move-to-left");e=$$(".move-to-right");for(let t=0;t<e.length;t++)i.appendChild(e[t]),e[t].classList.remove("move-to-right");appletColumnsAreEqualized=!1}}export{aspectRatio,navigationAnimationDistanceVertical,navigationAnimationDistanceHorizontal,onResize,setUpOnResize,equalizeAppletColumns};