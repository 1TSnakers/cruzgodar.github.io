import{setBannerMaxScroll}from"./banners.min.js";import{resizeCard}from"./cards.min.js";import{headerElement}from"./header.min.js";import{$,$$,pageElement}from"./main.min.js";import{siteSettings}from"./settings.min.js";let aspectRatio=window.innerWidth/window.innerHeight,navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25),appletColumnsAreEqualized=!1;function onResize(){setBannerMaxScroll(document.body.offsetHeight>1.5*window.innerHeight?window.innerHeight/3:document.body.offsetHeight-window.innerHeight),navigationAnimationDistanceVertical=Math.min(window.innerHeight/20,25),navigationAnimationDistanceHorizontal=Math.min(window.innerWidth/20,25),1<(aspectRatio=window.innerWidth/window.innerHeight)&&!appletColumnsAreEqualized?equalizeAppletColumns():aspectRatio<=1&&appletColumnsAreEqualized&&destroyAppletColumns(),resizeCard();const e=headerElement?.children[0]?.children[0];e&&(e.style.width=e.getBoundingClientRect().height+"px");var t=$$(".one-image-link .image-link"),i=$(".image-links:not(.one-image-link) .image-link");if(!i){const e=document.createElement("div");e.classList.add("image-links"),e.style.opacity=0,e.style.position="fixed",e.style.top="-1000px",e.style.left="0",pageElement.appendChild(e),(i=document.createElement("div")).classList.add("image-link"),e.appendChild(i)}if(t.length){const n=$(".image-links:not(.one-image-link) .image-link").getBoundingClientRect().width;t.forEach(element=>{element.style.width=n+"px"})}}function setUpOnResize(){window.addEventListener("resize",onResize)}function equalizeAppletColumns(){if(!(siteSettings.condensedApplets||aspectRatio<1)){var l=$("#canvas-landscape-left"),o=$("#canvas-landscape-right");if(l&&o){var s=[],r=l.children.length,d=o.children.length;for(let e=0;e<r;e++)s.push(l.children[e]);for(let n=0;n<d;n++)s.push(o.children[n]);var m=[s[0].clientHeight];for(let a=1;a<s.length;a++)m.push(m[a-1]+s[a].clientHeight);let t=1/0,i=0;if(1<s.length)for(let e=0;e<s.length;e++){var h=Math.abs(m[e]-(m[m.length-1]-m[e]));h<t&&(t=h,i=e+1)}if(i<r){for(let e=i;e<r;e++)l.children[e].classList.add("move-to-right");var c=$$(".move-to-right");for(let t=c.length-1;0<=t;t--)o.insertBefore(c[t],o.firstElementChild)}else{for(let e=0;e<i-r;e++)o.children[e].classList.add("move-to-left");var p=$$(".move-to-left");for(let t=0;t<p.length;t++)l.appendChild(p[t])}appletColumnsAreEqualized=!0}}}function destroyAppletColumns(){var n=$("#canvas-landscape-left"),a=$("#canvas-landscape-right");if(n&&a){let e=$$(".move-to-left");for(let t=e.length-1;0<=t;t--)a.insertBefore(e[t],a.firstElementChild),e[t].classList.remove("move-to-left");e=$$(".move-to-right");for(let i=0;i<e.length;i++)n.appendChild(e[i]),e[i].classList.remove("move-to-right");appletColumnsAreEqualized=!1}}export{aspectRatio,navigationAnimationDistanceVertical,navigationAnimationDistanceHorizontal,onResize,setUpOnResize,equalizeAppletColumns};