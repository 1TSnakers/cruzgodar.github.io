let used_fullscreen_for_first_time=!1,canvas_is_fullscreen=!1,canvas_is_animating=!1,applet_canvases_to_resize=[],applet_canvas_true_fullscreen=!1,applet_canvas_resize_callback=null,last_tap_time=0,fullscreen_canvas_timeout_id=null,fullscreen_canvas_old_scroll=0,fullscreen_canvas_locked_scroll=0;function set_up_canvas_resizer(){for(let t=0;t<applet_canvases_to_resize.length;t++)applet_canvases_to_resize[t].addEventListener("click",function(t){t.preventDefault();let e=Date.now()-last_tap_time;e<300&&e>50&&switch_canvas_fullscreen(),last_tap_time=Date.now(),document.body.style.userSelect="none",document.body.style.WebkitUserSelect="none",setTimeout(function(){document.body.style.userSelect="auto",document.body.style.WebkitUserSelect="auto"},500)}),applet_canvases_to_resize[t].addEventListener("touchstart",function(t){t.preventDefault()}),applet_canvases_to_resize[t].addEventListener("touchend",function(t){t.preventDefault();let e=Date.now()-last_tap_time;e<300&&e>50&&switch_canvas_fullscreen(),last_tap_time=Date.now(),document.body.style.userSelect="none",document.body.style.WebkitUserSelect="none",setTimeout(function(){document.body.style.userSelect="auto",document.body.style.WebkitUserSelect="auto"},500)});if(used_fullscreen_for_first_time)try{document.querySelector("#fullscreen-message").parentNode.previousElementSibling.remove(),document.querySelector("#fullscreen-message").parentNode.remove(),aos_resize()}catch(t){}else if(currently_touch_device)try{document.querySelector("#fullscreen-message p").textContent="Double-tap canvas to enter fullscreen",aos_resize()}catch(t){}window.addEventListener("resize",fullscreen_canvas_resize),temporary_handlers.resize.push(fullscreen_canvas_resize),window.addEventListener("scroll",fullscreen_canvas_scroll),temporary_handlers.scroll.push(fullscreen_canvas_scroll)}function switch_canvas_fullscreen(){if(canvas_is_fullscreen){if(canvas_is_animating)return;canvas_is_fullscreen=!1,canvas_is_animating=!0,document.body.style.opacity=0,setTimeout(function(){document.documentElement.style.overflowY="visible",document.body.style.overflowY="visible",window.scroll(0,fullscreen_canvas_old_scroll);for(let t=0;t<applet_canvases_to_resize.length;t++){applet_canvases_to_resize[t].classList.remove("true-fullscreen-canvas"),applet_canvases_to_resize[t].classList.remove("letterboxed-fullscreen-canvas"),document.querySelector(".applet-canvas-container").classList.remove("black-background");try{let t=document.querySelectorAll(".letterboxed-canvas-background");for(let e=0;e<t.length;e++)t[e].remove()}catch(t){}try{applet_canvas_resize_callback()}catch(t){}aos_resize()}document.body.style.opacity=1,setTimeout(function(){canvas_is_animating=!1},300)},300)}else{if(canvas_is_animating)return;canvas_is_fullscreen=!0,canvas_is_animating=!0,document.body.style.opacity=0,setTimeout(function(){if(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="hidden",fullscreen_canvas_old_scroll=window.scrollY,applet_canvas_true_fullscreen){for(let t=0;t<applet_canvases_to_resize.length;t++){applet_canvases_to_resize[t].classList.add("true-fullscreen-canvas"),document.querySelector(".applet-canvas-container").classList.add("black-background");try{applet_canvas_resize_callback()}catch(t){}aos_resize()}window.scroll(0,window.scrollY+applet_canvases_to_resize[0].getBoundingClientRect().top+2),fullscreen_canvas_locked_scroll=window.scrollY}else{for(let t=0;t<applet_canvases_to_resize.length;t++){applet_canvases_to_resize[t].classList.add("letterboxed-fullscreen-canvas");try{applet_canvas_resize_callback()}catch(t){}aos_resize()}document.querySelector(".applet-canvas-container").insertAdjacentHTML("beforebegin",'<div class="letterboxed-canvas-background no-floating-footer"></div>'),document.querySelector(".applet-canvas-container").insertAdjacentHTML("afterend",'<div class="letterboxed-canvas-background no-floating-footer"></div>'),document.querySelector(".applet-canvas-container").classList.add("black-background"),document.querySelector(".applet-canvas-container").classList.add("no-floating-footer"),fullscreen_canvas_resize()}document.body.style.opacity=1,setTimeout(function(){canvas_is_animating=!1,fullscreen_canvas_resize()},300);let t=document.querySelectorAll(".applet-canvas-container, .letterboxed-canvas-background");for(let e=0;e<t.length;e++)t[e].addEventListener("click",function(t){if(!canvas_is_fullscreen)return;t.preventDefault();let e=Date.now()-last_tap_time;e<300&&e>50&&switch_canvas_fullscreen(),last_tap_time=Date.now(),document.body.style.userSelect="none",document.body.style.WebkitUserSelect="none",setTimeout(function(){document.body.style.userSelect="auto",document.body.style.WebkitUserSelect="auto"},500)}),t[e].addEventListener("touchstart",function(t){canvas_is_fullscreen&&t.preventDefault()}),t[e].addEventListener("touchend",function(t){if(!canvas_is_fullscreen)return;t.preventDefault();let e=Date.now()-last_tap_time;e<300&&e>50&&switch_canvas_fullscreen(),last_tap_time=Date.now(),document.body.style.userSelect="none",document.body.style.WebkitUserSelect="none",setTimeout(function(){document.body.style.userSelect="auto",document.body.style.WebkitUserSelect="auto"},500)});if(!used_fullscreen_for_first_time){used_fullscreen_for_first_time=!0;try{document.querySelector("#fullscreen-message").parentNode.previousElementSibling.remove(),document.querySelector("#fullscreen-message").parentNode.remove(),aos_resize()}catch(t){}}},300)}}function fullscreen_canvas_resize(){if(canvas_is_fullscreen){aspect_ratio<1&&!applet_canvas_true_fullscreen?window.scroll(0,window.scrollY+applet_canvases_to_resize[0].getBoundingClientRect().top-(window_height-applet_canvases_to_resize[0].offsetHeight)/2+2):window.scroll(0,window.scrollY+applet_canvases_to_resize[0].getBoundingClientRect().top+2),fullscreen_canvas_locked_scroll=window.scrollY;try{applet_canvas_resize_callback()}catch(t){}setTimeout(function(){aspect_ratio<1&&!applet_canvas_true_fullscreen?window.scroll(0,window.scrollY+applet_canvases_to_resize[0].getBoundingClientRect().top-(window_height-applet_canvases_to_resize[0].offsetHeight)/2+2):window.scroll(0,window.scrollY+applet_canvases_to_resize[0].getBoundingClientRect().top+2),fullscreen_canvas_locked_scroll=window.scrollY;try{applet_canvas_resize_callback()}catch(t){}},500)}}function fullscreen_canvas_scroll(){canvas_is_fullscreen&&window.scroll(0,fullscreen_canvas_locked_scroll)}function equalize_text_buttons(){let t=document.querySelectorAll(".linked-text-button"),e=[],n=0;for(let o=0;o<t.length;o++)t[o].style.height="auto",e.push(t[o].offsetHeight),e[o]>n&&(n=e[o]);for(let o=0;o<t.length;o++)e[o]<n&&(t[o].style.height=n+"px");t=document.querySelectorAll(".text-button:not(.linked-text-button)");for(let e=0;e<t.length;e++)t[e].parentNode.style.margin="0 auto"}let scroll=0,banner_done=!1,scroll_button_done=!1,banner_extension="",banner_name="",banner_path="",scroll_button_exists=!1,scroll_button_timeout=null,banner_pages=["/home/home.html","/bio/bio.html","/writing/mist/mist.html","/writing/desolation-point/desolation-point.html"],multibanner_pages={"/home/home.html":{current_banner:Math.floor(16*Math.random()),num_banners:16}},banner_pages_already_fetched=[];function load_banner(){return new Promise(function(t,e){banner_pages.includes(current_url)?(banner_name=window_width/window_height<1?"portrait."+banner_extension:"landscape."+banner_extension,banner_path="",multibanner_pages.hasOwnProperty(current_url)?(multibanner_pages[current_url].current_banner++,multibanner_pages[current_url].current_banner===multibanner_pages[current_url].num_banners+1&&(multibanner_pages[current_url].current_banner=1),banner_path=parent_folder+"banners/"+multibanner_pages[current_url].current_banner+"/"):banner_path=parent_folder+"banners/",fetch(banner_path+banner_name).then(function(e){let n=new Image;n.onload=function(){scroll_button_timeout=setTimeout(add_scroll_button,5e3),t()},n.style.display="hidden",n.style.opacity=0,document.body.appendChild(n),setTimeout(function(){n.src=banner_path+banner_name},20)}).catch(function(e){document.querySelector("#banner").remove(),document.querySelector("#banner-cover").remove(),AOS.init({duration:1200,once:!1,offset:100}),t()})):t()})}function scroll_update(t){if(0===t?scroll=window.scrollY:(scroll=t,banner_done=!1,scroll_button_done=!1),scroll>=0){if(1!==url_vars.banner_style)if(scroll<=window_height){let t=.5+.5*Math.sin(Math.PI*Math.max(1-scroll/window_height,0)-Math.PI/2);try{document.querySelector("#banner").style.opacity=t}catch(t){}banner_done=0===t}else if(!1===banner_done){try{document.querySelector("#banner").style.opacity=0}catch(t){}banner_done=!0}if(scroll<=window_height/3){let t=.5+.5*Math.sin(Math.PI*Math.max(1-3*scroll/window_height,0)-Math.PI/2);scroll_button_exists&&(document.querySelector("#scroll-button").style.opacity=t);try{1!==url_vars.banner_style&&set_element_styles(".name-text","opacity",t)}catch(t){}0===t?(scroll_button_exists&&(document.querySelector("#scroll-button").remove(),scroll_button_exists=!1),scroll_button_done=!0):scroll_button_done=!1}else null!==scroll_button_timeout?(clearTimeout(scroll_button_timeout),scroll_button_timeout=null):!1===scroll_button_done&&(1!==url_vars.banner_style&&set_element_styles(".name-text","opacity",0),scroll_button_exists&&(document.querySelector("#scroll-button").remove(),scroll_button_exists=!1),scroll_button_done=!0)}}function add_scroll_button(){let t=.5+.5*Math.sin(Math.PI*Math.max(1-3*scroll/window_height,0)-Math.PI/2);if(scroll<=window_height/3){let e="chevron-down";1===url_vars.contrast&&(e+="-dark");try{document.querySelector("#banner-cover").insertAdjacentHTML("beforebegin",`\n\t\t\t\t<div id="new-banner-cover" data-aos="fade-down">\n\t\t\t\t\t<input type="image" id="scroll-button" src="/graphics/general-icons/${e}.png" style="opacity: ${t}" alt="Scroll down" onclick="smooth_scroll_to(document.querySelector('#scroll-to'))">\n\t\t\t\t</div>\n\t\t\t`),scroll_button_exists=!0,setTimeout(function(){try{add_hover_event(document.querySelector("#scroll-button"))}catch(t){}},100),document.querySelector("#banner-cover").remove()}catch(t){}}}function smooth_scroll_to(t){t.scrollIntoView({behavior:"smooth"})}window.addEventListener("scroll",function(){scroll_update(0)});let browser_detect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(t){for(let e=0;e<t.length;e++){let n=t[e].string;if(this.versionSearchString=t[e].subString,-1!==n.indexOf(t[e].subString))return t[e].identity}},searchVersion:function(t){let e=t.indexOf(this.versionSearchString);if(-1===e)return;let n=t.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==n?parseFloat(t.substring(n+3)):parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"MS Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}]};browser_detect.init();let browser_name=browser_detect.browser,disqus_config=null;function load_disqus(){if(scripts_loaded.disqus)DISQUS.reset({reload:!0,config:disqus_config});else{let t=document,e=t.createElement("script");e.src="https://cruzgodar.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e),scripts_loaded.disqus=!0}}function insert_footer(){let t=100,e=supports_webp?"webp":"jpg",n=concat_url_vars(!1);n=-1===n.indexOf("&")?"":n.substring(n.indexOf("&"));let o=concat_url_vars(!0);if(o=-1===o.indexOf("&")?"":o.substring(o.indexOf("&")),document.querySelector("#spawn-footer").insertAdjacentHTML("beforebegin",'\n\t\t<div style="position: relative">\n\t\t\t<div class="new-aos-section" data-aos="fade-in" data-aos-offset="0" style="position: absolute; bottom: 5px"></div>\n\t\t</div>\n\t'),""===page_settings.footer_exclusion?document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t\t<div style="height: 30vh"></div>\n\t\t\t\n\t\t\t<div data-aos="fade-in" data-aos-duration="500" data-aos-offset="0">\n\t\t\t\t<div class="line-break footer-line-break-big"></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<nav class="footer-image-links footer-image-links-big"></nav>\n\t\t'):document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t\t<div style="height: 30vh"></div>\n\t\t\t\n\t\t\t<div data-aos="fade-in" data-aos-duration="500" data-aos-offset="0">\n\t\t\t\t<div class="line-break footer-line-break"></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<nav class="footer-image-links"></nav>\n\t\t'),"writing"!==page_settings.footer_exclusion){let o=document.createElement("div");document.querySelector(".footer-image-links").appendChild(o),o.outerHTML=`\n\t\t\t<div id="writing-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t<a href="/index.html?page=%2Fwriting%2Fwriting.html${n}" tabindex="-1">\n\t\t\t\t\t<img onclick="redirect('/writing/writing.html')" src="/writing/cover.${e}" alt="Writing" tabindex="2"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,t+=100}if("teaching"!==page_settings.footer_exclusion){let o=document.createElement("div");document.querySelector(".footer-image-links").appendChild(o),o.outerHTML=`\n\t\t\t<div id="teaching-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t<a class="focus-on-child" href="/index.html?page=%2Fteaching%2Fteaching.html${n}" tabindex="-1">\n\t\t\t\t\t<img onclick="redirect('/teaching/teaching.html')" src="/teaching/cover.${e}" alt="Teaching" tabindex="2"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,t+=100}if("applets"!==page_settings.footer_exclusion){let o=document.createElement("div");document.querySelector(".footer-image-links").appendChild(o),o.outerHTML=`\n\t\t\t<div id="applets-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t<a class="focus-on-child" href="index.html?page=%2Fapplets%2Fapplets.html${n}" tabindex="-1">\n\t\t\t\t\t<img onclick="redirect('/applets/applets.html')" src="/applets/cover.${e}" alt="Applets" tabindex="2"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,t+=100}if("bio"!==page_settings.footer_exclusion){let o=document.createElement("div");document.querySelector(".footer-image-links").appendChild(o),o.outerHTML=`\n\t\t\t<div id="bio-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t<a class="focus-on-child" href="/index.html?page=%2Fbio%2Fbio.html${n}" tabindex="-1">\n\t\t\t\t\t<img onclick="redirect('/bio/bio.html')" src="/bio/cover.${e}" alt="Me" tabindex="2"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,t+=100}document.querySelector(".footer-image-links").insertAdjacentHTML("afterend",`\n\t\t<div class="footer-buttons" style="position: relative">\n\t\t\t<div class="focus-on-child" data-aos="zoom-out" data-aos-delay="0" data-aos-offset="10" data-aos-once="false" style="position: absolute; bottom: 6.25px; left: 10px" tabindex="3">\n\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/gear.png" alt="Change Theme" onclick="show_floating_settings()" tabindex="-1">\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="focus-on-child" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="10" data-aos-once="false" style="position: absolute; bottom: 6.25px; right: 10px" tabindex="3">\n\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/question.png" alt="About" onclick="redirect('/about/about.html')" tabindex="-1">\n\t\t\t</div>\n\t\t</div>\n\t`),document.body.clientHeight<window_height&&document.querySelector("#spawn-footer").insertAdjacentHTML("beforebegin",`\n\t\t\t<div style="height: ${window_height-document.body.clientHeight}px"></div>\n\t\t`),set_up_floating_footer(),setTimeout(function(){try{let t=document.querySelectorAll(".footer-button, .footer-image-link img");for(let e=0;e<t.length;e++)add_hover_event(t[e])}catch(t){}},100),scroll>0&&window.scrollTo(0,scroll)}function set_up_floating_footer(){let t=document.createElement("footer");t.id="floating-footer",document.body.insertBefore(t,document.body.firstChild),t.innerHTML='\n\t\t<div id="floating-footer-gradient"></div>\n\t\t\n\t\t<div id="floating-footer-content">\n\t\t\t<div id="floating-footer-bottom-margin"></div>\n\t\t</div>\n\t';try{let t=document.querySelector("#spawn-footer").parentNode.querySelector(".footer-image-links").cloneNode(!0);for(let e=0;e<t.children.length;e++)t.children[e].removeAttribute("data-aos"),t.children[e].removeAttribute("data-aos-anchor");document.querySelector("#floating-footer-content").appendChild(t)}catch(t){}let e=document.querySelector("#spawn-footer").parentNode.querySelector(".footer-buttons").cloneNode(!0);for(let t=0;t<e.children.length;t++)e.children[t].removeAttribute("data-aos"),e.children[t].removeAttribute("data-aos-anchor");document.querySelector("#floating-footer-content").appendChild(e),(e=document.createElement("div")).id="floating-footer-button-background",document.querySelector("#floating-footer-content").appendChild(e),fit_floating_footer_to_window_width(),window.addEventListener("resize",fit_floating_footer_to_window_width),temporary_handlers.resize.push(fit_floating_footer_to_window_width),window.addEventListener("scroll",floating_footer_scroll),temporary_handlers.scroll.push(floating_footer_scroll),document.querySelector("#floating-footer").style.display="block",floating_footer_height=document.querySelector("#floating-footer-content").offsetHeight,document.querySelector("#floating-footer").style.display="none",window.addEventListener("resize",function(){try{document.querySelector("#floating-footer").style.display="block",floating_footer_height=document.querySelector("#floating-footer-content").offsetHeight,document.querySelector("#floating-footer").style.display="none"}catch(t){}}),init_floating_footer_listeners_touch(),init_floating_footer_listeners_no_touch()}function fit_floating_footer_to_window_width(){document.querySelector("#floating-footer").style.width=document.documentElement.clientWidth+"px"}function floating_footer_scroll(){window.innerHeight+window.pageYOffset>=document.body.offsetHeight&&(floating_footer_is_visible=!1,document.querySelector("#floating-footer").style.opacity=0,setTimeout(function(){document.querySelector("#floating-footer").style.display="none"},300))}let floating_footer_is_visible=!1;function init_floating_footer_listeners_no_touch(){floating_footer_is_visible=!1,document.body.addEventListener("mousemove",function(t){let e=document.elementFromPoint(t.clientX,t.clientY);!1===floating_footer_is_visible&&t.clientY>=window.innerHeight-75&&t.clientY>=window.innerHeight-floating_footer_height&&!(window.innerHeight+window.pageYOffset>=document.body.offsetHeight)&&!1===e.classList.contains("no-floating-footer")?(floating_footer_is_visible=!0,document.querySelector("#floating-footer").style.display="block",setTimeout(function(){document.querySelector("#floating-footer").style.opacity=1},20)):floating_footer_is_visible&&t.clientY<window.innerHeight-floating_footer_height-20&&(document.querySelector("#floating-footer").style.opacity=0,floating_footer_is_visible=!1,setTimeout(function(){document.querySelector("#floating-footer").style.display="none"},300))})}function init_floating_footer_listeners_touch(){floating_footer_is_visible=!1,document.documentElement.addEventListener("touchend",footer_process_touchend,!1),temporary_handlers.touchend.push(footer_process_touchend),document.documentElement.addEventListener("touchstart",footer_process_touchstart,!1),temporary_handlers.touchstart.push(footer_process_touchstart)}function footer_process_touchend(){let t=document.elementFromPoint(last_touch_x,last_touch_y);!1===floating_footer_is_visible&&last_touch_y>=window.innerHeight-75&&last_touch_y>=window.innerHeight-floating_footer_height&&!(window.innerHeight+window.pageYOffset>=document.body.offsetHeight)&&!1===t.classList.contains("no-floating-footer")&&(document.querySelector("#floating-footer").style.display="block",floating_footer_is_visible=!0,setTimeout(function(){document.querySelector("#floating-footer").style.opacity=1},20))}function footer_process_touchstart(t){floating_footer_is_visible&&last_touch_y<window.innerHeight-floating_footer_height-20&&(document.querySelector("#floating-footer").style.opacity=0,floating_footer_is_visible=!1,setTimeout(function(){document.querySelector("#floating-footer").style.display="none"},300))}function insert_images(){return new Promise(function(t,e){currently_fetching=!0;let n=document.querySelectorAll(".check-webp"),o=supports_webp?"webp":"non-webp",r=0;fetch(parent_folder+"images.json").then(t=>t.json()).then(function(e){for(let a=0;a<n.length;a++){let s=e[n[a].getAttribute("id")][o];"https"===s.slice(0,5)?n[a].setAttribute("src",s):n[a].setAttribute("src",parent_folder+s),n[a].onload=function(){++r===n.length&&(console.log("Fetched "+n.length+" images on the page."),currently_fetching=!1,fetch_item_from_queue(),t())}}}).catch(function(t){console.error("Could not load images.json")})})}function check_webp(){return new Promise(function(t,e){load_script("/scripts/modernizr-webp.min.js").then(function(){Modernizr.on("webp",function(e){e?(supports_webp=!0,banner_extension="webp"):(supports_webp=!1,banner_extension="jpg"),t()})}).catch(function(e){console.error("Could not load Modernizr"),supports_webp=!1,banner_extension="jpg",t()})})}let old_layout="";window.addEventListener("resize",resize_update);let resize_time=0,new_window_width=0,new_window_height=0,window_width_step_distance=0,window_height_step_distance=0;function resize_update(){let t=window.innerWidth,e=window.innerHeight;aspect_ratio=t/e,(old_layout=layout_string)!==(layout_string=t/e<9/16||t<=700?"compact":t/e>16/9||t>=1400?"ultrawide":"default")&&page_settings.small_margins_on_ultrawide&&reduce_page_margins(),banner_name=t/e<1?"portrait."+banner_extension:"landscape."+banner_extension,resize_time=0,window_width_step_distance=8/300*(e-window_height),window_height_step_distance=8/300*(e-window_height);let n=setInterval(function(){resize_step(),resize_time>=300&&(clearInterval(n),window_width=t,window_height=e,scroll_update(0))},8)}function resize_step(){window_width+=window_width_step_distance,window_height+=window_height_step_distance,resize_time+=8,scroll_update(0)}let DEBUG=!1,window_width=null,window_height=null,aspect_ratio=null,page_settings={},current_url=decodeURIComponent(get_url_var("page")),parent_folder="/",currently_touch_device=!0,last_mousemove_event=0,floating_footer_height=0,supports_webp=null,scripts_loaded={disqus:!1,mathjax:!1,complexjs:!1},temporary_handlers={scroll:[],resize:[],wheel:[],touchstart:[],touchmove:[],touchend:[],mousedown:[],mousemove:[],mouseup:[]},temporary_intervals=[],temporary_web_workers=[],layout_string="",background_color_changed=!1;const hover_elements="\n\t#scroll-button,\n\t\n\t.text-button,\n\t.checkbox-container,\n\t.radio-button-container,\n\t\n\t.footer-button,\n\t.footer-image-link img,\n\t#scroll-up-button,\n\t\n\t.image-link img,\n\t\n\t#logo img,\n\t\n\t.nav-button,\n\t.big-image-horizontal,\n\t.small-image-horizontal,\n\t.big-image-vertical,\n\t.small-image-vertical,\n\t\n\t\n\t\n\t.root-marker\n";let aos_elements=[],aos_anchor_positions=[],aos_anchor_offsets=[],aos_anchors_shown=[],aos_currently_animating=[],fetch_queue=[],currently_fetching=!1,last_touch_x=null,last_touch_y=null;function handle_touch_event(t){last_touch_x=t.touches[0].clientX,last_touch_y=t.touches[0].clientY,document.activeElement.blur(),!1===currently_touch_device&&(remove_hover_events(),currently_touch_device=!0)}async function entry_point(t){if(window_width=window.innerWidth,window_height=window.innerHeight,aspect_ratio=window_width/window_height,resize_update(),"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.matchMedia("(display-mode: standalone)").matches){document.documentElement.style.WebkitUserSelect="none",document.documentElement.style.userSelect="none",document.documentElement.style.WebkitTouchCallout="none";let t=document.querySelectorAll("body *");for(let e=0;e<t.length;e++)t[e].setAttribute("draggable","false");add_style("\n\t\t\t#logo, .name-text-container, .empty-top\n\t\t\t{\n\t\t\t\tmargin-top: 2vh;\n\t\t\t}\n\t\t",!1)}scroll_button_exists=!1,AOS.init({duration:1200,once:!1,offset:100}),window.addEventListener("scroll",aos_scroll),window.addEventListener("resize",aos_resize),init_settings(),check_webp().then(function(){"html"!==t.substring(t.lastIndexOf(".")+1,t.length)?window.location.href=t:redirect(t,!1,!0)})}function load_script(t){return new Promise(function(e,n){const o=document.createElement("script");document.body.appendChild(o),o.onload=e,o.onerror=n,o.async=!0,o.src=t})}function add_style(t,e=!0,n=!1){let o=document.createElement("style");return o.textContent=t,e&&o.classList.add("temporary-style"),n?document.head.insertBefore(o,document.head.firstChild):document.head.appendChild(o),o}function set_element_styles(t,e,n){let o=document.querySelectorAll(t);for(let t=0;t<o.length;t++)o[t].style.setProperty(e,n)}document.documentElement.addEventListener("touchstart",handle_touch_event,!1),document.documentElement.addEventListener("touchmove",handle_touch_event,!1),document.documentElement.addEventListener("mousemove",function(){if(currently_touch_device){let t=Date.now()-last_mousemove_event;last_mousemove_event=Date.now(),t>=3&&t<=50&&33!==t&&(currently_touch_device=!1)}}),document.documentElement.addEventListener("keydown",function(t){13===t.keyCode&&(document.activeElement.classList.contains("click-on-child")?document.activeElement.children[0].click():"BUTTON"===document.activeElement.tagName||"INPUT"===document.activeElement.tagName&&"button"!==document.activeElement.getAttribute("type")||document.activeElement.click())}),document.documentElement.addEventListener("mousedown",function(){document.activeElement.blur()});let new_page_data=null,currently_changing_page=!1,last_page_scroll=0;function set_links(){let t=document.querySelectorAll("a"),e=concat_url_vars(!1);e=-1===e.indexOf("&")?"":e.substring(e.indexOf("&"));let n=concat_url_vars(!0);n=-1===n.indexOf("&")?"":n.substring(n.indexOf("&"));for(let o=0;o<t.length;o++){let r=t[o].getAttribute("href");"https"===r.slice(0,5)||"data"===r.slice(0,4)||t[o].parentNode.classList.contains("footer-image-link")||("/settings/settings.html"===r?t[o].setAttribute("href","/index.html?page="+encodeURIComponent(r)+n):t[o].setAttribute("href","/index.html?page="+encodeURIComponent(r)+e))}}function redirect(t,e=!1,n=!1,o=!1){if(currently_changing_page)return;if(e)return void window.open(t,"_blank");currently_changing_page=!0;let r=window.scrollY,a=!1;"/settings/settings.html"===t&&(a=!0),current_url=t,parent_folder=t.slice(0,t.lastIndexOf("/")+1);let s=document.documentElement.style.backgroundColor;Promise.all([fetch(t),fade_out(),load_banner()]).then(function(t){if(t[0].ok)return t[0].text();window.location.replace("/404.html")}).then(function(t){on_page_unload(),!1===n?history.pushState({},document.title,"/index.html"+concat_url_vars(a)):history.replaceState({},document.title,"/index.html"+concat_url_vars(a)),document.body.innerHTML=t,o?(window.scrollTo(0,last_page_scroll),scroll_update(last_page_scroll)):(window.scrollTo(0,0),scroll=0),last_page_scroll=r,parse_scripts()}).catch(function(t){console.log("Failed to load new page -- reversing fade-out."),currently_changing_page=!1,setTimeout(function(){!1===background_color_changed?document.body.style.opacity=1:setTimeout(function(){document.documentElement.classList.add("background-transition"),document.body.classList.add("background-transition"),document.documentElement.style.backgroundColor=s,document.body.style.backgroundColor=s,setTimeout(function(){document.documentElement.classList.remove("background-transition"),document.body.classList.remove("background-transition"),document.body.style.backgroundColor="",setTimeout(function(){document.body.style.opacity=1},300)},450)},450)},300)})}function fade_out(){return new Promise(function(t,e){try{hide_floating_settings(),document.querySelector("#floating-footer").style.opacity=0,floating_footer_is_visible=!1}catch(t){}1===url_vars.content_animation?(background_color_changed&&(1===url_vars.theme?1===url_vars.dark_theme_color?document.documentElement.style.backgroundColor="rgb(0, 0, 0)":document.documentElement.style.backgroundColor="rgb(24, 24, 24)":document.documentElement.style.backgroundColor="rgb(255, 255, 255)"),t()):(document.body.style.opacity=0,setTimeout(function(){!1===background_color_changed?t():(document.documentElement.classList.add("background-transition"),document.body.classList.add("background-transition"),1===url_vars.theme?1===url_vars.dark_theme_color?(document.documentElement.style.backgroundColor="rgb(0, 0, 0)",document.body.style.backgroundColor="rgb(0, 0, 0)"):(document.documentElement.style.backgroundColor="rgb(24, 24, 24)",document.body.style.backgroundColor="rgb(24, 24, 24)"):(document.documentElement.style.backgroundColor="rgb(255, 255, 255)",document.body.style.backgroundColor="rgb(255, 255, 255)"),setTimeout(function(){document.body.style.backgroundColor="",document.documentElement.classList.remove("background-transition"),document.body.classList.remove("background-transition"),t()},450))},300))})}function parse_scripts(){var t=document.querySelectorAll("script");for(let e=0;e<t.length;e++){let n=document.createElement("script");n.innerHTML=t[e].textContent,document.body.appendChild(n),t[e].remove()}}function on_page_unload(){let t=document.querySelectorAll("style.temporary-style, link.temporary-style, script.temporary-script");for(let e=0;e<t.length;e++)t[e].remove();t=document.querySelectorAll("body > *:not(script)");for(let e=0;e<t.length;e++)t[e].remove();for(let t in temporary_handlers)for(let e=0;e<temporary_handlers[t].length;e++)window.removeEventListener(t,temporary_handlers[t][e]),document.documentElement.removeEventListener(t,temporary_handlers[t][e]);for(let t=0;t<temporary_intervals.length;t++)clearInterval(temporary_intervals[t]);temporary_intervals=[];for(let t=0;t<temporary_web_workers.length;t++)temporary_web_workers[t].terminate();temporary_web_workers=[]}function concat_url_vars(t){let e="?page="+encodeURIComponent(current_url),n="";for(var o=0;o<Object.keys(url_vars).length;o++)n=Object.keys(url_vars)[o],(1===url_vars[n]||window.matchMedia("(prefers-color-scheme: dark)").matches&&0===url_vars.theme&&"theme"===n)&&(e+="&"+n+"="+url_vars[n]);return t&&(e+="&return="+get_url_var("page")),e}function write_url_vars(){window.location.href.includes("settings")||history.replaceState({},document.title,window.location.pathname+concat_url_vars(!1))}function on_page_load(){currently_changing_page=!1,parse_page_specific_style(),parse_page_specific_scripts(),document.querySelector("title").innerHTML=page_settings.title,!1===page_settings.no_footer&&(insert_footer(),setTimeout(floating_footer_scroll,50)),set_up_aos(),setTimeout(aos_resize,1e3),!1===page_settings.no_footer&&setTimeout(fix_footer_aos_anchor,50),fade_in(),insert_images().then(aos_resize),fetch_other_page_banners_in_background(),set_links(),disable_links(),set_up_hover_events(),set_up_equalize_text_buttons(),setTimeout(set_up_weird_focus_elements,50),background_color_changed=!1,floating_settings_is_visible=!1,page_settings.banner_page&&fetch_other_banner_size_in_background(),1===url_vars.contrast&&set_img_button_contrast(),page_settings.writing_page&&1===url_vars.font&&set_writing_page_font(),page_settings.small_margins_on_ultrawide&&"ultrawide"===layout_string&&reduce_page_margins(),1===url_vars.comments&&remove_disqus(),1===url_vars.content_animation&&remove_animation(),page_settings.math_page&&typeset_math(),1!==url_vars.comments&&page_settings.comments&&load_disqus()}function parse_page_specific_style(){let t=current_url.split("/");t=(t=(t=t[t.length-1]).split("."))[0];try{fetch(parent_folder+"style/"+t+".css").then(function(e){let n=document.createElement("link");n.setAttribute("rel","stylesheet"),DEBUG?n.setAttribute("href",parent_folder+"style/"+t+".css"):n.setAttribute("href",parent_folder+"style/"+t+".min.css"),n.classList.add("temporary-style"),document.head.insertBefore(n,document.head.firstChild)})}catch(t){}}function parse_page_specific_scripts(){let t=current_url.split("/");t=(t=(t=t[t.length-1]).split("."))[0];try{fetch(parent_folder+"scripts/"+t+".js").then(function(e){let n=document.createElement("script");DEBUG?n.setAttribute("src",parent_folder+"scripts/"+t+".js"):n.setAttribute("src",parent_folder+"scripts/"+t+".min.js"),n.classList.add("temporary-script"),document.body.appendChild(n)})}catch(t){}}function fade_in(){page_settings.banner_page?(add_style(`\n\t\t\t#banner\n\t\t\t{\n\t\t\t\tbackground: url(${banner_path}landscape.${banner_extension}) no-repeat center center;\n\t\t\t\tbackground-size: cover;\n\t\t\t}\n\t\t\t\n\t\t\t@media (max-aspect-ratio: 1/1)\n\t\t\t{\n\t\t\t\t#banner\n\t\t\t\t{\n\t\t\t\t\tbackground: url(${banner_path}portrait.${banner_extension}) no-repeat center center;\n\t\t\t\t\tbackground-size: cover;\n\t\t\t\t}\n\t\t\t}\n\t\t`),document.body.style.opacity=1):(document.body.classList.remove("animated-opacity"),document.body.style.opacity=1,document.body.classList.add("animated-opacity"))}function set_up_aos(){aos_elements=[];let t=document.querySelectorAll("[data-aos]"),e=0,n=0;for(let o=0;o<t.length;o++)t[o].classList.contains("new-aos-section")?(aos_elements.push([]),aos_currently_animating.push([]),e++,n=null!==t[o].getAttribute("data-aos-delay")?parseInt(t[o].getAttribute("data-aos-delay")):0,null!==t[o].getAttribute("data-aos-offset")?aos_anchor_offsets[e-1]=parseInt(t[o].getAttribute("data-aos-offset")):aos_anchor_offsets[e-1]=100,t[o].setAttribute("data-aos-offset",1e6),t[o].setAttribute("data-aos-delay",0),aos_elements[e-1].push([t[o],n]),aos_anchor_positions[e-1]=t[o].getBoundingClientRect().top+window.scrollY,aos_anchors_shown[e-1]=!1):(null!==t[o].getAttribute("data-aos-delay")?n=parseInt(t[o].getAttribute("data-aos-delay")):n+=100,t[o].setAttribute("data-aos-offset",1e6),t[o].setAttribute("data-aos-delay",0),aos_elements[e-1].push([t[o],n]));aos_resize(),aos_scroll()}function aos_resize(){console.log("Updated AOS anchors");for(let t=0;t<aos_elements.length;t++)aos_anchor_positions[t]=aos_elements[t][0][0].getBoundingClientRect().top+window.scrollY;fix_footer_aos_anchor()}function fix_footer_aos_anchor(){aos_anchor_positions[aos_elements.length-1]=document.body.clientHeight-10}function aos_scroll(){for(let t=0;t<aos_elements.length;t++)scroll+window_height>=aos_anchor_positions[t]+aos_anchor_offsets[t]&&!1===aos_anchors_shown[t]?show_aos_section(t):scroll+window_height<aos_anchor_positions[t]+aos_anchor_offsets[t]&&!0===aos_anchors_shown[t]&&hide_aos_section(t)}function show_aos_section(t){for(let e=0;e<aos_elements[t].length;e++){let n=setTimeout(function(){aos_elements[t][e][0].setAttribute("data-aos-offset",-1e6),AOS.refresh()},aos_elements[t][e][1]);aos_currently_animating[t].push(n)}aos_anchors_shown[t]=!0}function hide_aos_section(t){try{for(let e=0;e<aos_currently_animating[t].length;e++)clearTimeout(aos_currently_animating[t][e])}catch(t){}aos_currently_animating[t]=[];for(let e=0;e<aos_elements[t].length;e++)aos_elements[t][e][0].setAttribute("data-aos-offset",1e6),AOS.refresh();aos_anchors_shown[t]=!1}function fetch_item_from_queue(){0===fetch_queue.length||currently_fetching||(currently_fetching=!0,console.log("Now fetching "+fetch_queue[0]),fetch(fetch_queue[0]).then(function(){currently_fetching=!1,fetch_queue.shift(),fetch_item_from_queue()}))}function fetch_other_banner_size_in_background(){"landscape.webp"===banner_name||"landscape.jpg"===banner_name?(fetch_queue.push(banner_path+"portrait."+banner_extension),fetch_item_from_queue()):(fetch_queue.push(banner_path+"landscape."+banner_extension),fetch_item_from_queue())}function fetch_other_page_banners_in_background(){let t=document.querySelectorAll("a");for(let e=0;e<t.length;e++){let n=t[e].getAttribute("href");if(banner_pages.includes(n)&&!banner_pages_already_fetched.includes(n))if(multibanner_pages.hasOwnProperty(n)){let t=multibanner_pages[n].current_banner%(multibanner_pages[n].current_banner+1)+1;fetch_queue.push(n.slice(0,n.lastIndexOf("/")+1)+"banners/"+t+"/"+banner_name),fetch_item_from_queue()}else banner_pages_already_fetched.push(n),fetch_queue.push(n.slice(0,n.lastIndexOf("/")+1)+"banners/"+banner_name),fetch_item_from_queue()}}function set_up_hover_events(){let t=document.querySelectorAll(hover_elements);for(let e=0;e<t.length;e++)add_hover_event(t[e])}function add_hover_event(t){t.addEventListener("mouseenter",function(){!1===currently_touch_device&&t.classList.add("hover")}),t.addEventListener("mouseleave",function(){!1===currently_touch_device&&(t.classList.remove("hover"),t.blur())})}function remove_hover_events(){let t=document.querySelectorAll(hover_elements);for(let e=0;e<t.length;e++)t[e].classList.remove("hover")}function set_up_weird_focus_elements(){let t=document.querySelectorAll(".focus-on-child");for(let e=0;e<t.length;e++)t[e].addEventListener("focus",function(){t[e].children[0].focus()})}function set_up_equalize_text_buttons(){window.addEventListener("resize",equalize_text_buttons),temporary_handlers.resize.push(equalize_text_buttons),equalize_text_buttons()}function disable_links(){let t=document.querySelectorAll("a:not(.real-link)");for(let e=0;e<t.length;e++)t[e].addEventListener("click",function(t){t.preventDefault()})}function typeset_math(){!1===scripts_loaded.mathjax?(load_script("https://polyfill.io/v3/polyfill.min.js?features=es6"),load_script("https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js").then(function(){scripts_loaded.mathjax=!0}).catch(function(t){console.error("Could not load MathJax")})):MathJax.typeset(),setTimeout(function(){let t=document.querySelectorAll("mjx-container");for(let e=0;e<t.length;e++)t[e].setAttribute("tabindex",-1)},500)}function set_img_button_contrast(){let t=document.querySelectorAll(".nav-button, .scroll-button");for(let e=0;e<t.length;e++)t[e].setAttribute("src",t[e].getAttribute("src").replace("chevron-left","chevron-left-dark").replace("chevron-right","chevron-right-dark").replace("chevron-down","chevron-down-dark"))}function set_writing_page_font(){set_element_styles(".body-text","font-family","'Gentium Book Basic', serif")}function reduce_page_margins(){try{document.querySelector("#ultrawide-margin-adjust").remove()}catch(t){}if("ultrawide"===layout_string){add_style("\n\t\t\t.body-text, #disqus_thread, .nav-buttons, .line-break\n\t\t\t{\n\t\t\t\twidth: 50vw;\n\t\t\t}\n\t\t").id="ultrawide-margin-adjust"}}function remove_disqus(){try{document.querySelector("#disqus_thread").previousElementSibling.remove(),document.querySelector("#disqus_thread").previousElementSibling.remove(),document.querySelector("#disqus_thread").previousElementSibling.remove(),document.querySelector("#disqus_thread").remove()}catch(t){}}function remove_animation(){let t=document.body.querySelectorAll("[data-aos]");for(let e=0;e<t.length;e++)t[e].removeAttribute("data-aos")}function get_url_var(t){let e=window.location.search.substring(1).split("&"),n=[];for(let o=0;o<e.length;o++)if((n=e[o].split("="))[0]===t)return n[1];return null}window.addEventListener("popstate",function(t){let e=get_url_var("page");null!==e&&decodeURIComponent(e)!==current_url?redirect(decodeURIComponent(e),!1,!0,!0):redirect("/home/home.html",!1,!0)}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js")});let url_vars={theme:get_url_var("theme"),dark_theme_color:get_url_var("dark_theme_color"),contrast:get_url_var("contrast"),text_size:get_url_var("text_size"),font:get_url_var("font"),comments:get_url_var("comments"),content_animation:get_url_var("content_animation"),banner_style:get_url_var("banner_style")};window.matchMedia("(prefers-color-scheme: dark)").addListener(function(t){t.matches&&1!==url_vars.theme?switch_setting("theme"):t.matches||1!==url_vars.theme||switch_setting("theme")}),window.matchMedia("(prefers-color-scheme: dark)").matches&&null===url_vars.theme&&(url_vars.theme=1);let settings_texts={theme:["Theme: light","Theme: dark"],dark_theme_color:["Dark theme color: dark gray","Dark theme color: black"],contrast:["Contrast: normal","Contrast: high"],text_size:["Text size: normal","Text size: large"],font:["Font: always sans serif","Font: serif on writing"],comments:["Comments: enabled","Comments: disabled"],content_animation:["Content animation: enabled","Content animation: disabled"],banner_style:["Banners: parallax","Banners: simple"]},dark_theme_background_color="rgb(24, 24, 24)",dark_theme_background_color_rgba="rgba(24, 24, 24, ";function init_settings(){for(let t in url_vars)null==url_vars[t]?url_vars[t]=0:1==url_vars[t]&&(url_vars[t]=0,switch_setting(t,!0));let t=null;1===url_vars.theme&&1!==url_vars.contrast?t=add_style(get_settings_style("dark"),!1):1!==url_vars.theme&&1===url_vars.contrast?t=add_style(get_settings_style("contrast"),!1):1===url_vars.theme&&1===url_vars.contrast&&(t=add_style(get_settings_style("dark_contrast"),!1));try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}}1===url_vars.dark_theme_color&&(dark_theme_background_color="rgb(0, 0, 0)",dark_theme_background_color_rgba="rgba(0, 0, 0, ");let floating_settings_is_visible=!1;function show_floating_settings(){floating_settings_is_visible||(floating_settings_is_visible=!0,document.body.firstElementChild.insertAdjacentHTML("beforebegin",'\n\t\t<div id="floating-settings" tabindex="-1">\n\t\t\t<div class="floating-settings-page">\n\t\t\t\t<div id="theme-button-row" class="floating-settings-button-row"></div>\n\t\t\t\t<div id="dark-theme-color-button-row" class="floating-settings-button-row"></div>\n\t\t\t\t<div id="contrast-button-row" class="floating-settings-button-row"></div>\n\t\t\t\t<div id="text-size-button-row" class="floating-settings-button-row"></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="floating-settings-scroll-snap"></div>\n\t\t\t\n\t\t\t<div class="floating-settings-page">\n\t\t\t\t<div id="font-button-row" class="floating-settings-button-row"></div>\n\t\t\t\t<div id="comments-button-row" class="floating-settings-button-row"></div>\n\t\t\t\t<div id="content-animation-button-row" class="floating-settings-button-row"></div>\n\t\t\t\t<div id="banner-style-button-row" class="floating-settings-button-row"></div>\n\t\t\t\t<div style="margin-top: -6px"></div>\n\t\t\t</div>\n\t\t</div>\n\t'),setTimeout(function(){document.querySelector("#floating-settings").style.opacity=1,!1===currently_touch_device&&(document.querySelector("#floating-settings").style.scrollSnapType="y proximity",document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll",document.querySelector("#floating-settings").addEventListener("mouseenter",function(){document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll"}),document.querySelector("#floating-settings").addEventListener("mouseleave",function(){document.documentElement.style.overflowY="scroll",document.body.style.overflowY="hidden"}))},10),floating_footer_is_visible&&(document.querySelector("#floating-footer").style.opacity=0,floating_footer_is_visible=!1,setTimeout(function(){document.querySelector("#floating-footer").style.display="none",document.querySelector("#floating-footer-touch-target").style.display="block"},300)),setTimeout(function(){document.querySelector("#floating-settings").scrollTop=0;let t=Object.keys(url_vars);document.querySelector("#theme-button-row").innerHTML=`\n\t\t\t<div class="focus-on-child" data-aos="zoom-out" data-aos-anchor="body" tabindex="2">\n\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/moon.png" alt="Change Theme" onclick="switch_setting('theme')" tabindex="-1">\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="floating-settings-button-text-container" data-aos="fade-left" data-aos-anchor="body">\n\t\t\t\t<p id="theme-button-text" class="floating-settings-button-text">\n\t\t\t\t\t${settings_texts[t[0]][url_vars[t[0]]]}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t`,setTimeout(function(){document.querySelector("#dark-theme-color-button-row").innerHTML=`\n\t\t\t\t<div class="focus-on-child" data-aos="zoom-out" data-aos-anchor="body" tabindex="2">\n\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/moon-stars.png" alt="Change Theme" onclick="switch_setting('dark_theme_color')" tabindex="-1">\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="floating-settings-button-text-container" data-aos="fade-left" data-aos-anchor="body">\n\t\t\t\t\t<p id="dark-theme-color-button-text" class="floating-settings-button-text">\n\t\t\t\t\t\t${settings_texts[t[1]][url_vars[t[1]]]}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t`},100),setTimeout(function(){document.querySelector("#contrast-button-row").innerHTML=`\n\t\t\t\t<div class="focus-on-child" data-aos="zoom-out" data-aos-anchor="body" tabindex="2">\n\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/contrast.png" alt="Change Theme" onclick="switch_setting('contrast')" tabindex="-1">\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="floating-settings-button-text-container" data-aos="fade-left" data-aos-anchor="body">\n\t\t\t\t\t<p id="contrast-button-text" class="floating-settings-button-text">\n\t\t\t\t\t\t${settings_texts[t[2]][url_vars[t[2]]]}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t`},200),setTimeout(function(){document.querySelector("#text-size-button-row").innerHTML=`\n\t\t\t\t<div class="focus-on-child" data-aos="zoom-out" data-aos-anchor="body" tabindex="2">\n\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/text-size.png" alt="Change Theme" onclick="switch_setting('text_size')" tabindex="-1">\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="floating-settings-button-text-container" data-aos="fade-left" data-aos-anchor="body">\n\t\t\t\t\t<p id="text-size-button-text" class="floating-settings-button-text">\n\t\t\t\t\t\t${settings_texts[t[3]][url_vars[t[3]]]}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t`},300),setTimeout(function(){document.querySelector("#font-button-row").innerHTML=`\n\t\t\t\t<div class="focus-on-child" data-aos="zoom-out" data-aos-anchor="body" tabindex="2">\n\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/font.png" alt="Change Theme" onclick="switch_setting('font')" tabindex="-1">\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="floating-settings-button-text-container" data-aos="fade-left" data-aos-anchor="body">\n\t\t\t\t\t<p id="font-button-text" class="floating-settings-button-text">\n\t\t\t\t\t\t${settings_texts[t[4]][url_vars[t[4]]]}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t`,document.querySelector("#comments-button-row").innerHTML=`\n\t\t\t\t<div class="focus-on-child" data-aos="zoom-out" data-aos-anchor="body" tabindex="2">\n\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/comment.png" alt="Change Theme" onclick="switch_setting('comments')" tabindex="-1">\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="floating-settings-button-text-container" data-aos="fade-left" data-aos-anchor="body">\n\t\t\t\t\t<p id="comments-button-text" class="floating-settings-button-text">\n\t\t\t\t\t\t${settings_texts[t[5]][url_vars[t[5]]]}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t`,document.querySelector("#content-animation-button-row").innerHTML=`\n\t\t\t\t<div class="focus-on-child" data-aos="zoom-out" data-aos-anchor="body" tabindex="2">\n\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/pop.png" alt="Change Theme" onclick="switch_setting('content_animation')" tabindex="-1">\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="floating-settings-button-text-container" data-aos="fade-left" data-aos-anchor="body">\n\t\t\t\t\t<p id="content-animation-button-text" class="floating-settings-button-text">\n\t\t\t\t\t\t${settings_texts[t[6]][url_vars[t[6]]]}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t`,document.querySelector("#banner-style-button-row").innerHTML=`\n\t\t\t\t<div class="focus-on-child" data-aos="zoom-out" data-aos-anchor="body" tabindex="2">\n\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/picture.png" alt="Change Theme" onclick="switch_setting('banner_style')" tabindex="-1">\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="floating-settings-button-text-container" data-aos="fade-left" data-aos-anchor="body">\n\t\t\t\t\t<p id="banner-style-button-text" class="floating-settings-button-text">\n\t\t\t\t\t\t${settings_texts[t[7]][url_vars[t[7]]]}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t`},400),setTimeout(function(){let t=document.querySelectorAll(".floating-settings-button-row div .footer-button");for(let e=0;e<t.length;e++)add_hover_event(t[e]);t=document.querySelectorAll(".floating-settings-button-row .focus-on-child");for(let e=0;e<t.length;e++)t[e].addEventListener("focus",function(){t[e].children[0].focus()});document.querySelector("#floating-settings").focus()},500)},100))}function hide_floating_settings(){document.querySelector("#floating-settings").style.opacity=0,document.documentElement.style.overflowY="scroll",setTimeout(function(){document.querySelector("#floating-settings").remove(),floating_settings_is_visible=!1},300)}function switch_setting(t,e=!1){let n=null;if(!1===e&&("theme"===t||"dark_theme_color"===t||"contrast"===t)){n=add_style("\n\t\t\thtml\n\t\t\t{\n\t\t\t\ttransition: background-color .6s ease !important;\n\t\t\t}\n\t\t\t\n\t\t\tp, span, h1, h2, a, q, em, strong, dfn\n\t\t\t{\n\t\t\t\ttransition: color .6s ease !important;\n\t\t\t}\n\t\t\t\n\t\t\t.text-box, .checkbox-container, .checkbox-container > input ~ .checkbox, .radio-button-container, .radio-button-container > input ~ .radio-button, .loading-spinner:after, #floating-footer-content, #floating-footer-button-background, .footer-button, .text-button, .nav-button\n\t\t\t{\n\t\t\t\ttransition: background-color .6s ease, border-color .6s ease, color .6s ease !important;\n\t\t\t}\n\t\t");let t=document.querySelectorAll(".line-break, #banner-gradient");for(let e=0;e<t.length;e++)t[e].classList.add("animated-opacity"),t[e].style.opacity=0,setTimeout(function(){t[e].style.opacity=1,setTimeout(function(){t[e].classList.remove("animated-opacity")},300)},600);let e=add_style("\n\t\t\t.loading-spinner:after\n\t\t\t{\n\t\t\t\topacity: 0 !important;\n\t\t\t}\n\t\t");setTimeout(function(){e.remove()},600)}"theme"===t?switch_theme():"dark_theme_color"===t?switch_dark_theme_color():"contrast"===t?switch_contrast():"text_size"===t?switch_text_size():"font"===t?switch_font():"comments"===t?switch_comments():"content_animation"===t?switch_content_animation():"banner_style"===t?switch_banner_style():console.log("Unknown setting"),write_url_vars(),!1!==e||"theme"!==t&&"dark_theme_color"!==t&&"contrast"!==t||setTimeout(function(){n.remove()},600)}function switch_theme(){try{document.querySelector("#theme-button-row").style.opacity=0}catch(t){}if(0===url_vars.theme){page_settings.manual_dark_theme||(1!==url_vars.dark_theme_color?document.documentElement.style.backgroundColor="rgb(24, 24, 24)":document.documentElement.style.backgroundColor="rgb(0, 0, 0)"),1===url_vars.contrast?(page_settings.manual_dark_theme||animate_theme_contrast("dark_contrast"),setTimeout(function(){let t=add_style(get_settings_style("dark_contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}clear_weird_inline_styles()},600)):(page_settings.manual_dark_theme||animate_theme_contrast("dark"),setTimeout(function(){let t=add_style(get_settings_style("dark"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}clear_weird_inline_styles()},600));try{document.querySelector("#theme-button-row").style.opacity=0}catch(t){}setTimeout(function(){try{document.querySelector("#theme-button-text").textContent=settings_texts.theme[1]}catch(t){}},300),url_vars.theme=1}else page_settings.manual_dark_theme||(document.documentElement.style.backgroundColor="rgb(255, 255, 255)"),1===url_vars.contrast?(page_settings.manual_dark_theme||animate_theme_contrast("contrast"),setTimeout(function(){let t=add_style(get_settings_style("contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}clear_weird_inline_styles()},600)):(page_settings.manual_dark_theme||animate_theme_contrast(""),setTimeout(function(){try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}clear_weird_inline_styles()},600)),setTimeout(function(){try{document.querySelector("#theme-button-text").textContent=settings_texts.theme[0]}catch(t){}},300),url_vars.theme=0;setTimeout(function(){try{setTimeout(function(){document.querySelector("#theme-button-row").style.opacity=1},50)}catch(t){}},300)}function switch_dark_theme_color(){try{document.querySelector("#dark-theme-color-button-row").style.opacity=0}catch(t){}0===url_vars.dark_theme_color?(dark_theme_background_color="rgb(0, 0, 0)",dark_theme_background_color_rgba="rgba(0, 0, 0, ",1===url_vars.theme&&(document.documentElement.style.backgroundColor="rgb(0, 0, 0)",1==url_vars.contrast?animate_theme_contrast("dark_contrast"):animate_theme_contrast("dark")),setTimeout(function(){let t=null;1===url_vars.theme?t=1===url_vars.contrast?add_style(get_settings_style("dark_contrast"),!1):add_style(get_settings_style("dark"),!1):1===url_vars.contrast&&(t=add_style(get_settings_style("contrast"),!1));try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}clear_weird_inline_styles()},600),setTimeout(function(){try{document.querySelector("#dark-theme-color-button-text").textContent=settings_texts.dark_theme_color[1]}catch(t){}},300),url_vars.dark_theme_color=1):(dark_theme_background_color="rgb(24, 24, 24)",dark_theme_background_color_rgba="rgba(24, 24, 24, ",1===url_vars.theme&&(document.documentElement.style.backgroundColor="rgb(24, 24, 24)",1==url_vars.contrast?animate_theme_contrast("dark_contrast"):animate_theme_contrast("dark")),setTimeout(function(){let t=null;1===url_vars.theme?t=1===url_vars.contrast?add_style(get_settings_style("dark_contrast"),!1):add_style(get_settings_style("dark"),!1):1===url_vars.contrast&&(t=add_style(get_settings_style("contrast"),!1));try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}clear_weird_inline_styles()},600),setTimeout(function(){try{document.querySelector("#dark-theme-color-button-text").textContent=settings_texts.dark_theme_color[0]}catch(t){}},300),url_vars.dark_theme_color=0),setTimeout(function(){try{setTimeout(function(){document.querySelector("#dark-theme-color-button-row").style.opacity=1},50)}catch(t){}},300)}function switch_contrast(){try{document.querySelector("#contrast-button-row").style.opacity=0}catch(t){}0===url_vars.contrast?(1===url_vars.theme?(animate_theme_contrast("dark_contrast"),setTimeout(function(){let t=add_style(get_settings_style("dark_contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}clear_weird_inline_styles()},600)):(animate_theme_contrast("contrast"),setTimeout(function(){let t=add_style(get_settings_style("contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}clear_weird_inline_styles()},600)),setTimeout(function(){try{document.querySelector("#contrast-button-text").textContent=settings_texts.contrast[1]}catch(t){}},300),url_vars.contrast=1):(1===url_vars.theme?(animate_theme_contrast("dark"),setTimeout(function(){let t=add_style(get_settings_style("dark"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}clear_weird_inline_styles()},600)):(animate_theme_contrast(""),setTimeout(function(){try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}clear_weird_inline_styles()},600)),setTimeout(function(){try{document.querySelector("#contrast-button-text").textContent=settings_texts.contrast[0]}catch(t){}},300),url_vars.contrast=0),setTimeout(function(){try{setTimeout(function(){document.querySelector("#contrast-button-row").style.opacity=1},50)}catch(t){}},300)}function switch_text_size(){document.body.classList.add("animated-opacity"),document.body.style.opacity=0,0===url_vars.text_size?(setTimeout(function(){try{document.querySelector("#text-size-adjust").remove()}catch(t){}add_style("\n\t\t\t\thtml\n\t\t\t\t{\n\t\t\t\t\tfont-size: 18px;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t@media (min-width: 1000px)\n\t\t\t\t{\n\t\t\t\t\thtml\n\t\t\t\t\t{\n\t\t\t\t\t\tfont-size: 22px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t",!1).id="text-size-adjust";try{document.querySelector("#text-size-button-text").textContent=settings_texts.text_size[1]}catch(t){}},300),url_vars.text_size=1):(setTimeout(function(){try{document.querySelector("#text-size-adjust").remove()}catch(t){}try{document.querySelector("#text-size-button-text").textContent=settings_texts.text_size[0]}catch(t){}},300),url_vars.text_size=0),setTimeout(function(){setTimeout(function(){document.body.style.opacity=1},50)},300)}function switch_font(){page_settings.writing_page&&(document.body.style.opacity=0);try{document.querySelector("#font-button-row").style.opacity=0}catch(t){}0===url_vars.font?(setTimeout(function(){page_settings.writing_page&&set_element_styles(".body-text","font-family","'Gentium Book Basic', serif");try{document.querySelector("#font-button-text").textContent=settings_texts.font[1]}catch(t){}},300),url_vars.font=1):(setTimeout(function(){page_settings.writing_page&&set_element_styles(".body-text","font-family","'Rubik', sans-serif");try{document.querySelector("#font-button-text").textContent=settings_texts.font[0]}catch(t){}},300),url_vars.font=0),page_settings.writing_page&&setTimeout(function(){setTimeout(function(){document.body.style.opacity=1},50)},300),setTimeout(function(){try{setTimeout(function(){document.querySelector("#font-button-row").style.opacity=1},50)}catch(t){}},300)}function switch_comments(){try{document.querySelector("#comments-button-row").style.opacity=0}catch(t){}if(0===url_vars.comments){if(page_settings.comments){let t=document.querySelector("#disqus_thread");t.previousElementSibling.previousElementSibling.previousElementSibling.style.setProperty("transition","opacity .3s ease-in-out","important"),t.previousElementSibling.previousElementSibling.style.setProperty("transition","opacity .3s ease-in-out","important"),t.previousElementSibling.style.setProperty("transition","opacity .3s ease-in-out","important"),t.style.setProperty("transition","opacity .3s ease-in-out","important"),t.previousElementSibling.previousElementSibling.previousElementSibling.style.opacity=0,t.previousElementSibling.previousElementSibling.style.opacity=0,t.previousElementSibling.style.opacity=0,t.style.opacity=0,setTimeout(remove_disqus,300)}setTimeout(function(){try{document.querySelector("#comments-button-text").textContent=settings_texts.comments[1]}catch(t){}},300),url_vars.comments=1}else setTimeout(function(){try{document.querySelector("#comments-button-text").textContent=settings_texts.comments[0]}catch(t){}},300),url_vars.comments=0;setTimeout(function(){try{setTimeout(function(){document.querySelector("#comments-button-row").style.opacity=1},50)}catch(t){}},300)}function switch_content_animation(){0===url_vars.content_animation?(document.body.style.opacity=0,setTimeout(function(){remove_animation(),document.body.classList.add("animated-opacity"),setTimeout(function(){document.body.style.opacity=1,setTimeout(function(){document.body.classList.remove("animated-opacity")},300)},50)},300),setTimeout(function(){try{document.querySelector("#content-animation-button-text").textContent=settings_texts.content_animation[1]}catch(t){}},300),url_vars.content_animation=1):(url_vars.content_animation=0,document.body.classList.add("animated-opacity"),last_page_scroll=window.scrollY,redirect(current_url,!1,!0,!0))}function switch_banner_style(){document.body.style.opacity=0,setTimeout(function(){if(0===url_vars.banner_style){try{document.querySelector("#banner-adjust").remove()}catch(t){}add_style('\n\t\t\t\t#banner, .name-text-container\n\t\t\t\t{\n\t\t\t\t\tposition: absolute !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t#banner-gradient\n\t\t\t\t{\n\t\t\t\t\tcontent: "";\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\n\t\t\t\t\twidth: 100vw;\n\t\t\t\t\theight: 30vh;\n\t\t\t\t\tmargin-top: 70vh;\n\t\t\t\t\t\n\t\t\t\t\tbackground: -moz-linear-gradient(top, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%);\n\t\t\t\t\tbackground: -webkit-linear-gradient(top, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);\n\t\t\t\t\tbackground: linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);\n\t\t\t\t}\n\t\t\t',!1).id="banner-adjust";try{document.querySelector("#banner").style.opacity=1}catch(t){}set_element_styles(".name-text","opacity",1);try{document.querySelector("#banner-style-button-text").textContent=settings_texts.banner_style[1]}catch(t){}url_vars.banner_style=1}else{try{document.querySelector("#banner-adjust").remove()}catch(t){}try{document.querySelector("#banner-style-button-text").textContent=settings_texts.banner_style[0]}catch(t){}url_vars.banner_style=0,scroll_update(window.scrollY)}setTimeout(function(){document.body.style.opacity=1},50)},300)}function animate_theme_contrast(t){""===t?(set_element_styles(".heading-text, .date-text, .title-text","color","rgb(0, 0, 0)"),set_element_styles(".section-text","color","rgb(96, 96, 96)"),set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext, .floating-settings-button-text","color","rgb(127, 127, 127)"),set_element_styles(".body-text .link","color","rgb(127, 192, 127)"),set_element_styles(".quote-text q","color","rgb(176, 176, 176)"),set_element_styles(".quote-attribution","color","rgb(92, 92, 92)"),set_element_styles(".text-box","background-color","rgb(255, 255, 255)"),set_element_styles(".text-box","color","rgb(127, 127, 127)"),set_element_styles(".text-box","border-color","rgb(192, 192, 192)"),set_element_styles(".checkbox-container > input ~ .checkbox","background-color","rgb(255, 255, 255)"),set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(127, 127, 127)"),set_element_styles(".radio-button-container > input ~ .radio-button","background-color","rgb(255, 255, 255)"),set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(127, 127, 127)"),set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color","rgb(255, 255, 255)"),set_element_styles(".footer-button, .text-button, .nav-button, .checkbox-container, #output-canvas","border-color","rgb(127, 127, 127)")):"dark"===t?(set_element_styles(".heading-text, .date-text, .title-text","color","rgb(255, 255, 255)"),set_element_styles(".section-text","color","rgb(184, 184, 184)"),set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext, .floating-settings-button-text","color","rgb(152, 152, 152)"),set_element_styles(".body-text .link","color","rgb(152, 216, 152)"),set_element_styles(".quote-text q","color","rgb(104, 104, 104)"),set_element_styles(".quote-attribution","color","rgb(188, 188, 188)"),set_element_styles(".text-box","background-color",dark_theme_background_color),set_element_styles(".text-box","color","rgb(152, 152, 152)"),set_element_styles(".text-box","border-color","rgb(88, 88, 88)"),set_element_styles(".checkbox-container > input ~ .checkbox","background-color",dark_theme_background_color),set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(152, 152, 152)"),set_element_styles(".radio-button-container > input ~ .radio-button","background-color",dark_theme_background_color),set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(152, 152, 152)"),set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color",dark_theme_background_color),set_element_styles(".footer-button, .text-button, .nav-button, #output-canvas","border-color","rgb(152, 152, 152)")):"contrast"===t?(set_element_styles(".heading-text, .date-text, .title-text","color","rgb(0, 0, 0)"),set_element_styles(".section-text","color","rgb(48, 48, 48)"),set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext, .floating-settings-button-text","color","rgb(64, 64, 64)"),set_element_styles(".body-text .link","color","rgb(64, 128, 64)"),set_element_styles(".quote-text q","color","rgb(88, 88, 88)"),set_element_styles(".quote-attribution","color","rgb(46, 46, 46)"),set_element_styles(".text-box","background-color","rgb(255, 255, 255)"),set_element_styles(".text-box","color","rgb(64, 64, 64)"),set_element_styles(".text-box","border-color","rgb(96, 96, 96)"),set_element_styles(".checkbox-container > input ~ .checkbox","background-color","rgb(255, 255, 255)"),set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(64, 64, 64)"),set_element_styles(".radio-button-container > input ~ .radio-button","background-color","rgb(255, 255, 255)"),set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(64, 64, 64)"),set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color","rgb(255, 255, 255)"),set_element_styles(".footer-button, .text-button, .nav-button, #output-canvas","border-color","rgb(64, 64, 64)")):"dark_contrast"===t&&(set_element_styles(".heading-text, .date-text, .title-text","color","rgb(255, 255, 255)"),set_element_styles(".section-text","color","rgb(232, 232, 232)"),set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext","color","rgb(216, 216, 216)"),set_element_styles(".body-text .link","color","rgb(216, 255, 216)"),set_element_styles(".floating-settings-button-text","color","rgb(64, 64, 64)"),set_element_styles(".quote-text q","color","rgb(192, 192, 192)"),set_element_styles(".quote-attribution","color","rgb(234, 234, 234)"),set_element_styles(".text-box","background-color",dark_theme_background_color),set_element_styles(".text-box","color","rgb(216, 216, 216)"),set_element_styles(".text-box","border-color","rgb(152, 152, 152)"),set_element_styles(".checkbox-container","border-color","rgb(216, 216, 216)"),set_element_styles(".checkbox-container > input ~ .checkbox","background-color",dark_theme_background_color),set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(216, 216, 216)"),set_element_styles(".radio-button-container","border-color","rgb(216, 216, 216)"),set_element_styles(".radio-button-container > input ~ .radio-button","background-color",dark_theme_background_color),set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(216, 216, 216)"),set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color",dark_theme_background_color),set_element_styles(".footer-button, .text-button, .nav-button, #output-canvas","border-color","rgb(152, 152, 152)"))}function clear_weird_inline_styles(){set_element_styles(".checkbox-container > input ~ .checkbox","background-color",""),set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color",""),set_element_styles(".radio-button-container > input ~ .radio-button","background-color",""),set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color",""),set_element_styles(".text-box","background-color",""),set_element_styles(".text-box","color",""),set_element_styles(".text-box","border-color","")}function get_settings_style(t){return"dark"===t?`\n\t\t\t.heading-text, .date-text, .title-text\n\t\t\t{\n\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t}\n\t\t\t\n\t\t\t.section-text\n\t\t\t{\n\t\t\t\tcolor: rgb(184, 184, 184);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text, .body-text span, .song-lyrics, .image-link-subtext\n\t\t\t{\n\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text .link\n\t\t\t{\n\t\t\t\tcolor: rgb(152, 216, 152);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.quote-text\n\t\t\t{\n\t\t\t\tcolor: rgb(104, 104, 104);\n\t\t\t}\n\t\t\t\n\t\t\t.quote-attribution\n\t\t\t{\n\t\t\t\tcolor: rgb(188, 188, 188);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.line-break\n\t\t\t{\n\t\t\t\tbackground: -moz-linear-gradient(left, ${dark_theme_background_color} 0%, rgb(116,116,116) 50%, ${dark_theme_background_color} 100%);\n\t\t\t\tbackground: -webkit-linear-gradient(left, ${dark_theme_background_color} 0%,rgb(116,116,116) 50%,${dark_theme_background_color}) 100%);\n\t\t\t\tbackground: linear-gradient(to right, ${dark_theme_background_color} 0%,rgb(116,116,116) 50%,${dark_theme_background_color} 100%);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t\tborder-color: rgb(88, 88, 88);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box:focus\n\t\t\t{\n\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.checkbox-container > input ~ .checkbox\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t}\n\n\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t{\n\t\t\t\tbackground-color: rgb(152, 152, 152);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.radio-button-container > input ~ .radio-button\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t}\n\n\t\t\t.radio-button-container > input:checked ~ .radio-button\n\t\t\t{\n\t\t\t\tbackground-color: rgb(152, 152, 152);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.loading-spinner:after\n\t\t\t{\n\t\t\t\tborder: 2px solid rgb(152, 152, 152);\n\t\t\t\tborder-color: rgb(152, 152, 152) transparent rgb(152, 152, 152) transparent;\n\t\t\t}\n\t\t\t\n\t\t\t\t\t\t\n\t\t\t\n\t\t\t#floating-footer-content, #floating-footer-button-background\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t#banner-gradient, #floating-footer-gradient\n\t\t\t{\n\t\t\t\tbackground: -moz-linear-gradient(top, ${dark_theme_background_color_rgba}0) 0%, ${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\tbackground: -webkit-linear-gradient(top, ${dark_theme_background_color_rgba}0) 0%,${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\tbackground: linear-gradient(to bottom, ${dark_theme_background_color_rgba}0) 0%,${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.footer-button, .text-button, .nav-button, .checkbox-container, #output-canvas\n\t\t\t{\n\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t}\n\t\t`:"contrast"===t?"\n\t\t\t.heading-text, .date-text, .title-text\n\t\t\t{\n\t\t\t\tcolor: rgb(0, 0, 0);\n\t\t\t}\n\t\t\t\n\t\t\t.section-text\n\t\t\t{\n\t\t\t\tcolor: rgb(48, 48, 48);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text, .body-text span, .song-lyrics, .image-link-subtext, .text-button\n\t\t\t{\n\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text .link\n\t\t\t{\n\t\t\t\tcolor: rgb(64, 128, 64);\n\t\t\t}\n\t\t\t\n\t\t\t.floating-settings-button-text\n\t\t\t{\n\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.quote-text\n\t\t\t{\n\t\t\t\tcolor: rgb(88, 88, 88);\n\t\t\t}\n\t\t\t\n\t\t\t.quote-attribution\n\t\t\t{\n\t\t\t\tcolor: rgb(46, 46, 46);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.line-break\n\t\t\t{\n\t\t\t\tbackground: rgb(255, 255, 255);\n\t\t\t\tbackground: -moz-linear-gradient(left, rgb(255, 255, 255) 0%, rgb(120,120,120) 50%, rgb(255, 255, 255) 100%);\n\t\t\t\tbackground: -webkit-linear-gradient(left, rgb(255, 255, 255) 0%,rgb(120,120,120) 50%,rgb(255, 255, 255)) 100%);\n\t\t\t\tbackground: linear-gradient(to right, rgb(255, 255, 255) 0%,rgb(120,120,120) 50%,rgb(255, 255, 255) 100%);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box\n\t\t\t{\n\t\t\t\tbackground-color: rgb(255, 255, 255);\n\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\tborder-color: rgb(96, 96, 96);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box:focus\n\t\t\t{\n\t\t\t\tborder-color: rgb(48, 48, 48);\n\t\t\t\tcolor: rgb(0, 0, 0);\n\t\t\t}\n\t\t\t\n\t\t\t\n\n\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t{\n\t\t\t\tbackground-color: rgb(64, 64, 64);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.radio-button-container > input:checked ~ .radio-button\n\t\t\t{\n\t\t\t\tbackground-color: rgb(64, 64, 64);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.loading-spinner:after\n\t\t\t{\n\t\t\t\tborder: 2px solid rgb(64, 64, 64);\n\t\t\t\tborder-color: rgb(64, 64, 64) transparent rgb(64, 64, 64) transparent;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.footer-button, .text-button, .nav-button, .checkbox-container, #output-canvas\n\t\t\t{\n\t\t\t\tborder-color: rgb(64, 64, 64);\n\t\t\t}\n\t\t":"dark_contrast"===t?`\n\t\t\t.heading-text, .date-text, .title-text\n\t\t\t{\n\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t}\n\t\t\t\n\t\t\t.section-text\n\t\t\t{\n\t\t\t\tcolor: rgb(232, 232, 232);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text, .body-text span, .song-lyrics, .image-link-subtext\n\t\t\t{\n\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text .link\n\t\t\t{\n\t\t\t\tcolor: rgb(216, 255, 216);\n\t\t\t}\n\t\t\t\n\t\t\t.floating-settings-button-text\n\t\t\t{\n\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.quote-text\n\t\t\t{\n\t\t\t\tcolor: rgb(192, 192, 192);\n\t\t\t}\n\t\t\t\n\t\t\t.quote-attribution\n\t\t\t{\n\t\t\t\tcolor: rgb(234, 234, 234);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.line-break\n\t\t\t{\n\t\t\t\tbackground: ${dark_theme_background_color};\n\t\t\t\tbackground: -moz-linear-gradient(left, ${dark_theme_background_color} 0%, rgb(164,164,164) 50%, ${dark_theme_background_color} 100%);\n\t\t\t\tbackground: -webkit-linear-gradient(left, ${dark_theme_background_color} 0%,rgb(164,164,164) 50%,${dark_theme_background_color}) 100%);\n\t\t\t\tbackground: linear-gradient(to right, ${dark_theme_background_color} 0%,rgb(164,164,164) 50%,${dark_theme_background_color} 100%);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box:focus\n\t\t\t{\n\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.checkbox-container\n\t\t\t{\n\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t}\n\t\t\t\n\t\t\t.checkbox-container > input ~ .checkbox\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t}\n\n\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t{\n\t\t\t\tbackground-color: rgb(216, 216, 216);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.radio-button-container\n\t\t\t{\n\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t}\n\t\t\t\n\t\t\t.radio-button-container > input ~ .radio-button\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t}\n\n\t\t\t.radio-button-container > input:checked ~ .radio-button\n\t\t\t{\n\t\t\t\tbackground-color: rgb(216, 216, 216);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.loading-spinner:after\n\t\t\t{\n\t\t\t\tborder: 2px solid rgb(216, 216, 216);\n\t\t\t\tborder-color: rgb(216, 216, 216) transparent rgb(216, 216, 216) transparent;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t#floating-footer-content, #floating-footer-button-background\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t#banner-gradient, #floating-footer-gradient\n\t\t\t{\n\t\t\t\tbackground: -moz-linear-gradient(top, ${dark_theme_background_color_rgba}0) 0%, ${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\tbackground: -webkit-linear-gradient(top, ${dark_theme_background_color_rgba}0) 0%,${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\tbackground: linear-gradient(to bottom, ${dark_theme_background_color_rgba}0) 0%,${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t}\n\t\t\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.footer-button, .text-button, .nav-button, #output-canvas\n\t\t\t{\n\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t}\n\t\t`:void 0}document.documentElement.addEventListener("touchstart",function(t){!1!==floating_settings_is_visible&&(document.querySelector("#floating-settings").contains(t.target)||hide_floating_settings())}),document.documentElement.addEventListener("mousedown",function(t){!1!==floating_settings_is_visible&&(document.querySelector("#floating-settings").contains(t.target)||hide_floating_settings())});