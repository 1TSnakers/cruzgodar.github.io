let scroll=0,banner_done=!1,scroll_button_done=!1,global_opacity=1,banner_extension="",scroll_button_exists=!1,scroll_button_timeout=null;function load_banner(){if(1!=page_settings.manual_banner){let t="";t=window_width/window_height<1||window_width<=700?"portrait."+banner_extension:"landscape."+banner_extension,fetch(parent_folder+"banners/"+t).then(function(e){add_style(`\n\t\t\t\t.banner:before\n\t\t\t\t{\n\t\t\t\t\tbackground: url("${parent_folder}banners/landscape.${banner_extension}") no-repeat center center;\n\t\t\t\t\t-webkit-background-size: cover;\n\t\t\t\t\tbackground-size: cover;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t@media screen and (max-aspect-ratio: 1), (max-width: 700px)\n\t\t\t\t{\n\t\t\t\t\t.banner:before\n\t\t\t\t\t{\n\t\t\t\t\t\tbackground: url("${parent_folder}banners/portrait.${banner_extension}") no-repeat center center;\n\t\t\t\t\t\t-webkit-background-size: cover;\n\t\t\t\t\t\tbackground-size: cover;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`,!0);let o=new Image;o.onload=function(){document.documentElement.style.opacity=1,scroll<=window_height/6&&(scroll_button_timeout=setTimeout(add_scroll_button,3e3))},o.src=parent_folder+"banners/"+t}).catch(function(t){document.querySelector("#background-image").remove(),document.querySelector("#banner-cover").remove(),document.documentElement.style.opacity=1,update_aos()})}}function scroll_update(){if((scroll=window.scrollY)>=0){if(1!=url_vars.banner_style)if(scroll<=window_height){let t=.5+.5*Math.sin(Math.PI*Math.max(1-scroll/initial_window_height,0)-.5*Math.PI);try{document.querySelector("#background-image").style.opacity=t}catch(t){}banner_done=0==t}else if(0==banner_done){try{document.querySelector("#background-image").style.opacity=0}catch(t){}banner_done=!0}if(scroll<=window_height/3)global_opacity=.5+.5*Math.sin(Math.PI*Math.max(1-3*scroll/initial_window_height,0)-.5*Math.PI),scroll_button_exists&&(document.querySelector("#scroll-button").style.opacity=global_opacity),0==global_opacity?(scroll_button_exists&&(document.querySelector("#scroll-button").remove(),scroll_button_exists=!1),scroll_button_done=!0):scroll_button_done=!1;else if(null!=scroll_button_timeout)clearTimeout(scroll_button_timeout),scroll_button_timeout=null;else if(0==scroll_button_done){if(1!=url_vars.banner_style){let t=document.querySelectorAll(".name-text");for(let e=0;e<t.length;e++)t[e].style.opacity=0}scroll_button_exists&&(document.querySelector("#scroll-button").remove(),scroll_button_exists=!1),scroll_button_done=!0}else global_opacity=0}}function add_scroll_button(){if(scroll<=window_height/3){let t="chevron-down";1==url_vars.contrast&&(t+="-dark");try{1==url_vars.content_animation?document.querySelector("#banner-cover").insertAdjacentHTML("beforebegin",`\n\t\t\t\t\t<div id="new-banner-cover">\n\t\t\t\t\t\t<input type="image" id="scroll-button" src="/graphics/general-icons/${t}.png" style="opacity: ${global_opacity}" alt="Scroll down" onclick="scroll_down()">\n\t\t\t\t\t</div>\n\t\t\t\t`):document.querySelector("#banner-cover").insertAdjacentHTML("beforebegin",`\n\t\t\t\t\t<div id="new-banner-cover" data-aos="fade-down">\n\t\t\t\t\t\t<input type="image" id="scroll-button" src="/graphics/general-icons/${t}.png" style="opacity: ${global_opacity}" alt="Scroll down" onclick="scroll_down()">\n\t\t\t\t\t</div>\n\t\t\t\t`),scroll_button_exists=!0,document.querySelector("#banner-cover").remove()}catch(t){}}}window.addEventListener("scroll",scroll_update),window.addEventListener("resize",scroll_update);let scroll_button_position=0,scroll_button_time=0,scroll_button_goal=0;function scroll_down(){scroll_button_goal=document.querySelector("#scroll-to").getBoundingClientRect().top,scroll_button_position=window.scrollY,scroll_button_time=0;let t=setInterval(function(){scroll_step(),scroll_button_time>=1e3&&clearInterval(t)},8)}function scroll_step(){let t=.5*scroll_button_goal*(Math.sin(Math.PI*(scroll_button_time+8)/1e3-Math.PI/2)-Math.sin(Math.PI*scroll_button_time/1e3-Math.PI/2));scroll_button_position+=t,scroll_button_time+=8,window.scrollTo(0,scroll_button_position)}var browser_detect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(t){for(var e=0;e<t.length;e++){var o=t[e].string;if(this.versionSearchString=t[e].subString,-1!==o.indexOf(t[e].subString))return t[e].identity}},searchVersion:function(t){var e=t.indexOf(this.versionSearchString);if(-1!==e){var o=t.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==o?parseFloat(t.substring(o+3)):parseFloat(t.substring(e+this.versionSearchString.length+1))}},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"MS Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}]};browser_detect.init();let browser_name=browser_detect.browser;function gimp_edge(){if("MS Edge"==browser_name)try{document.querySelector("#background-image").classList.add("bad-banner")}catch(t){}}function hasTouch(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function remove_hover_on_touch(){if(hasTouch())try{for(var t in document.styleSheets){var e=document.styleSheets[t];if(e.rules)for(var o=e.rules.length-1;o>=0;o--)e.rules[o].selectorText&&e.rules[o].selectorText.match(":hover")&&e.deleteRule(o)}}catch(t){}}"Explorer"==browser_name&&window.location.replace("/ie.html");let disqus_config=null;function load_disqus(){if(scripts_loaded.disqus)DISQUS.reset({reload:!0,config:disqus_config});else{let t=document,e=t.createElement("script");e.src="https://cruzgodar.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e),scripts_loaded.disqus=!0}}let footer_done=!1;function insert_footer(){let t="";page_settings.footer_from_nonstandard_color&&(t=", true");let e=100,o="";o=supports_webp?"webp":"jpg";let n=concat_url_vars(!1);n=-1==n.indexOf("&")?"":n.substring(n.indexOf("&"));let r=concat_url_vars(!0);if(r=-1==r.indexOf("&")?"":r.substring(r.indexOf("&")),document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",`\n\t\t<div style="position: relative">\n\t\t\t<div data-aos="zoom-out" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu" style="position: absolute; bottom: 6.5px; left: 10px">\n\t\t\t\t<a href="/index.html?page=%2Fsettings.html${r}">\n\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/gear.png" alt="Change Theme" onclick="redirect('/settings.html', 0${t})">\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div data-aos="zoom-out" data-aos-delay="1000" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu" style="position: absolute; bottom: 6.5px; right: 10px">\n\t\t\t\t<a href="/index.html?page=%2Fpwa.html${n}">\n\t\t\t\t\t<input type="image" id="pwa-button" class="footer-button" src="/graphics/button-icons/app.png" alt="Progressive Web App Info" onclick="redirect('/pwa.html', 0${t})">\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t`),document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t<div style="position: relative">\n\t\t\t<div id="trigger-menu" style="position: absolute; bottom: 5px"></div>\n\t\t</div>\n\t'),""==page_settings.footer_exclusion?document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t\t<div style="height: 30vh"></div>\n\t\t\t\t<div data-aos="fade-in" data-aos-duration="500" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t\t<div class="line-break" style="width: 80vw"></div>\n\t\t\t\t</div>\n\t\t\t<div style="height: 4vw"></div>\n\t\t\t\n\t\t\t<nav id="footer-image-links" style="width: 68vw"></nav>\n\t\t'):document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t\t<div style="height: 30vh"></div>\n\t\t\t\t<div data-aos="fade-in" data-aos-duration="500" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t\t<div class="line-break"></div>\n\t\t\t\t</div>\n\t\t\t<div style="height: 4vw"></div>\n\t\t\t\n\t\t\t<nav id="footer-image-links"></nav>\n\t\t'),"writing"!=page_settings.footer_exclusion){let r=document.createElement("div");document.querySelector("#footer-image-links").appendChild(r),r.outerHTML=`\n\t\t\t<div id="writing-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${e}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="/index.html?page=%2Fwriting%2Fwriting.html${n}">\n\t\t\t\t\t<img onclick="redirect('/writing/writing.html', 0${t})" src="/writing/cover.${o}" alt="Writing"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,e+=100}if("blog"!=page_settings.footer_exclusion){let r=document.createElement("div");document.querySelector("#footer-image-links").appendChild(r),r.outerHTML=`\n\t\t\t<div id="blog-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${e}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="/index.html?page=%2Fblog%2Fblog.html${n}">\n\t\t\t\t\t<img onclick="redirect('/blog/blog.html', 0${t})" src="/blog/cover.${o}" alt="Blog"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,e+=100}if("applets"!=page_settings.footer_exclusion){let r=document.createElement("div");document.querySelector("#footer-image-links").appendChild(r),r.outerHTML=`\n\t\t\t<div id="applets-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${e}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="index.html?page=%2Fapplets%2Fapplets.html${n}">\n\t\t\t\t\t<img onclick="redirect('/applets/applets.html', 0${t})" src="/applets/cover.${o}" alt="Applets"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,e+=100}if("research"!=page_settings.footer_exclusion){let r=document.createElement("div");document.querySelector("#footer-image-links").appendChild(r),r.outerHTML=`\n\t\t\t<div id="research-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${e}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="/index.html?page=%2Fresearch%2Fresearch.html${n}">\n\t\t\t\t\t<img onclick="redirect('/research/research.html', 0${t})" src="/research/cover.${o}" alt="Research"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,e+=100}if("notes"!=page_settings.footer_exclusion){let r=document.createElement("div");document.querySelector("#footer-image-links").appendChild(r),r.outerHTML=`\n\t\t\t<div id="notes-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${e}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="/index.html?page=%2Fnotes%2Fnotes.html${n}">\n\t\t\t\t\t<img onclick="redirect('/notes/notes.html', 0${t})" src="/notes/cover.${o}" alt="Notes"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,e+=100}if("bio"!=page_settings.footer_exclusion){let r=document.createElement("div");document.querySelector("#footer-image-links").appendChild(r),r.outerHTML=`\n\t\t\t<div id="bio-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${e}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="/index.html?page=%2Fbio%2Fbio.html${n}">\n\t\t\t\t\t<img onclick="redirect('/bio/bio.html', 0${t})" src="/bio/cover.${o}" alt="Me"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,e+=100}if(document.querySelector("#pwa-button").parentNode.parentNode.setAttribute("data-aos-delay",e),1==url_vars.content_animation){try{let t=document.querySelectorAll(".line-break");for(let e=0;e<t.length;e++)t[e].parentNode.removeAttribute("data-aos")}catch(t){}try{let t=document.querySelectorAll(".footer-image-link");for(let e=0;e<t.length;e++)t[e].removeAttribute("data-aos")}catch(t){}try{let t=document.querySelectorAll(".footer-button");for(let e=0;e<t.length;e++)t[e].parentNode.parentNode.removeAttribute("data-aos")}catch(t){}}document.body.clientHeight<window_height&&document.querySelector("#spawn-footer").insertAdjacentHTML("beforebegin",`\n\t\t\t<div style="height: ${window_height-document.body.clientHeight}px"></div>\n\t\t`),footer_done=!0}function insert_images(){let t=document.querySelectorAll(".check-webp"),e="";e=supports_webp?"webp":"non-webp",fetch(parent_folder+"images.json").then(t=>t.json()).then(function(o){let n="";for(let r=0;r<t.length;r++)"https"==(n=o[t[r].getAttribute("id")][e]).slice(0,5)?t[r].setAttribute("src",n):t[r].setAttribute("src",parent_folder+n)}).catch(function(t){console.error("Could not load images.json")})}function check_webp(){return new Promise(function(t,e){load_script("/scripts/modernizr-webp.min.js").then(function(){Modernizr.on("webp",function(e){e?(supports_webp=!0,banner_extension="webp"):(supports_webp=!1,banner_extension="jpg"),t()})}).catch(function(e){console.error("Could not load Modernizr"),supports_webp=!1,t()})})}let old_layout="";window.addEventListener("resize",function(){if(window_width=window.innerWidth,window_height=window.innerHeight,old_layout=layout_string,(layout_string=window_width/window_height<9/16||window_width<=700?"small-screen":"compact")!=old_layout&&1!=url_vars.content_layout)try{document.querySelector("#content-layout-button-text").textContent=`Content layout: automatic (currently ${layout_string})`}catch(t){}update_aos()});let window_width=null,window_height=null,initial_window_height=null,page_settings={},current_url="/",parent_folder="/",supports_webp=null,scripts_loaded={disqus:!1,mathjax:!1},temporary_handlers={scroll:[],resize:[]},layout_string="";function init(){if(window_width=window.innerWidth,window_height=window.innerHeight,layout_string=window_width/window_height<9/16||window_width<=700?"small-screen":"compact","scrollRestoration"in history&&(history.scrollRestoration="manual"),window.matchMedia("(display-mode: standalone)").matches){document.documentElement.style.WebkitUserSelect="none",document.documentElement.style.userSelect="none",document.documentElement.style.WebkitTouchCallout="none";let t=document.querySelectorAll("body *");for(let e=0;e<t.length;e++)t[e].setAttribute("draggable","false");add_style("\n\t\t\t#pwa-button\n\t\t\t{\n\t\t\t\tdisplay: none;\n\t\t\t\twidth: 0px;\n\t\t\t\theight: 0px;\n\t\t\t}\n\t\t\t\n\t\t\t.logo, .name-text-container, .empty-top\n\t\t\t{\n\t\t\t\tmargin-top: 2vh;\n\t\t\t}\n\t\t",!1)}scroll_button_exists=!1}async function entry_point(t){init(),check_webp().then(function(){"html"!=t.substring(t.lastIndexOf(".")+1,t.length)?window.location.href=t:redirect(t,!1,!1,!0)})}function update_aos(){AOS.disable,1!=url_vars.content_animation&&AOS.init({duration:1200,once:!1,offset:window_height/4})}function on_page_load(){window.scrollTo(0,0),document.querySelector("title").innerHTML=page_settings.title,fade_in(),update_aos(),set_links(),initial_window_height=window_height,0==page_settings.no_footer&&insert_footer(),insert_images(),apply_settings(),gimp_edge(),remove_hover_on_touch(),disable_links(),page_settings.math_page&&typeset_math(),1!=url_vars.comments&&page_settings.comments&&load_disqus()}function on_page_unload(){let t=document.querySelectorAll("style.temporary-style, script.temporary-script");for(let e=0;e<t.length;e++)t[e].remove();for(let t in temporary_handlers)for(let e=0;e<temporary_handlers[t].length;e++)window.removeEventListener(t,temporary_handlers[t][e])}function fade_in(){1==url_vars.content_animation?(document.documentElement.style.opacity=1,page_settings.banner_page&&load_banner()):page_settings.banner_page?load_banner():(document.documentElement.classList.remove("animated-opacity"),document.documentElement.style.opacity=1,document.documentElement.classList.add("animated-opacity"))}function disable_links(){let t=document.querySelectorAll("a:not(.real-link)");for(let e=0;e<t.length;e++)t[e].addEventListener("click",function(t){t.preventDefault()})}function typeset_math(){0==scripts_loaded.mathjax?load_script("https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML").then(function(){scripts_loaded.mathjax=!0}).catch(function(t){console.error("Could not load MathJax")}):MathJax.Hub.Queue(["Typeset",MathJax.Hub])}function load_script(t){return new Promise(function(e,o){const n=document.createElement("script");document.body.appendChild(n),n.onload=e,n.onerror=o,n.async=!0,n.src=t})}function add_style(t,e){let o=document.createElement("style");o.textContent=t,e&&o.classList.add("temporary-style"),document.head.appendChild(o)}let new_page_data=null;function set_links(){let t=document.querySelectorAll("a");for(let e=0;e<t.length;e++){let o=t[e].getAttribute("href");if("https"!=o.slice(0,5)&&"data"!=o.slice(0,4)&&!t[e].parentNode.classList.contains("footer-image-link")){let n=!1;"/settings.html"==o&&(n=!0);let r=concat_url_vars(n);r=-1==r.indexOf("&")?"":r.substring(r.indexOf("&")),t[e].setAttribute("href","/index.html?page="+encodeURIComponent(o)+r)}}}function redirect(t,e,o,n){new_page_data=null;let r=document.documentElement.style.backgroundColor;if(fetch(t).then(t=>t.text()).then(function(t){new_page_data=t}).catch(function(t){console.log("Failed to load new page -- reversing fade-out."),setTimeout(function(){document.documentElement.style.opacity=1,document.documentElement.style.backgroundColor=r},300)}),o=void 0!==o&&o,n=void 0!==n&&n,e=void 0!==e&&e)return void window.open(t,"_blank");let l=!1;"/settings.html"==t&&(l=!0),current_url=t,parent_folder=t.slice(0,t.lastIndexOf("/")+1),document.documentElement.classList.remove("color-transition"),1==url_vars.content_animation?load_html(t,l,n):(document.documentElement.style.opacity=0,o?setTimeout(function(){document.documentElement.classList.add("background-transition"),document.body.classList.add("background-transition"),1==url_vars.theme?1==url_vars.dark_theme_color?(document.documentElement.style.backgroundColor="rgb(0, 0, 0)",document.body.style.backgroundColor="rgb(0, 0, 0)"):(document.documentElement.style.backgroundColor="rgb(24, 24, 24)",document.body.style.backgroundColor="rgb(24, 24, 24)"):(document.documentElement.style.backgroundColor="rgb(255, 255, 255)",document.body.style.backgroundColor="rgb(255, 255, 255)"),setTimeout(function(){document.body.style.backgroundColor="",document.documentElement.classList.remove("background-transition"),document.body.classList.remove("background-transition"),load_html(t,l,n)},450)},300):setTimeout(function(){load_html(t,l,n)},300))}function load_html(t,e,o){null!=new_page_data?(on_page_unload(),0==o&&history.pushState({},document.title,"/index.html"+concat_url_vars(e)),document.body.innerHTML=new_page_data,parse_scripts()):fetch(t).then(t=>t.text()).then(function(t){on_page_unload(),0==o&&history.pushState({},document.title,"/index.html"+concat_url_vars(e)),document.body.innerHTML=t,parse_scripts()})}function parse_scripts(){var t=document.querySelectorAll("script");for(let e=0;e<t.length;e++){let o=document.createElement("script");o.innerHTML=t[e].textContent,document.body.appendChild(o),t[e].remove()}}function concat_url_vars(t){let e="?page="+encodeURIComponent(current_url),o="";for(var n=0;n<Object.keys(url_vars).length;n++)o=Object.keys(url_vars)[n],(1==url_vars[o]||window.matchMedia("(prefers-color-scheme: dark)").matches&&0==url_vars.theme&&"theme"==o)&&(e+="&"+o+"="+url_vars[o]);return t&&(e+="&return="+get_url_var("page")),e}function write_url_vars(){window.location.href.includes("settings")||history.replaceState({},document.title,window.location.href.split("?",1)+concat_url_vars(!1))}window.addEventListener("popstate",function(t){let e=get_url_var("page");redirect(null!=e?decodeURIComponent(e):"/home.html",!1,!1,!0)}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js")});let settings_done=!1,url_vars={theme:get_url_var("theme"),dark_theme_color:get_url_var("dark_theme_color"),contrast:get_url_var("contrast"),font:get_url_var("font"),writing_style:get_url_var("writing_style"),comments:get_url_var("comments"),content_animation:get_url_var("content_animation"),banner_style:get_url_var("banner_style"),content_layout:get_url_var("content_layout")};window.matchMedia("(prefers-color-scheme: dark)").matches&&null==url_vars.theme&&(url_vars.theme=1);let url_var_functions={animated:{theme:switch_theme,dark_theme_color:switch_dark_theme_color,contrast:switch_contrast,font:switch_font,writing_style:switch_writing_style,comments:switch_comments,content_animation:switch_content_animation,banner_style:switch_banner_style,content_layout:switch_content_layout},onload:{theme:switch_theme_on_load,dark_theme_color:switch_dark_theme_color_on_load,contrast:switch_contrast_on_load,font:switch_font_on_load,writing_style:switch_writing_style_on_load,comments:switch_comments_on_load,content_animation:switch_content_animation_on_load,banner_style:switch_banner_style_on_load,content_layout:switch_content_layout_on_load}},dark_theme_background_color="rgb(24, 24, 24)";function get_url_var(t){let e=window.location.search.substring(1).split("&"),o=[];for(let n=0;n<e.length;n++)if((o=e[n].split("="))[0]==t)return o[1];return null}function apply_settings(){for(key in url_vars)null==url_vars[key]&&(url_vars[key]=0),url_vars[key]=!url_vars[key],url_var_functions.onload[key]();settings_done=!0}function switch_theme(){if(0==url_vars.theme){if(1!=url_vars.dark_theme_color?document.documentElement.style.backgroundColor="rgb(24, 24, 24)":document.documentElement.style.backgroundColor="rgb(0, 0, 0)",1==url_vars.contrast){let t=document.querySelectorAll(".section-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(232, 232, 232)";t=document.querySelectorAll(".body-text, .song-lyrics, .image-link-subtext");for(let e=0;e<t.length;e++)t[e].style.color="rgb(216, 216, 216)";t=document.querySelectorAll(".body-text .link");for(let e=0;e<t.length;e++)t[e].style.color="rgb(216, 255, 216)";t=document.querySelectorAll(".quote-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(192, 192, 192)";t=document.querySelectorAll(".quote-attribution");for(let e=0;e<t.length;e++)t[e].style.color="rgb(234, 234, 234)";t=document.querySelectorAll(".footer-button, .text-button, .nav-button");for(let e=0;e<t.length;e++)t[e].style.borderColor="rgb(127, 127, 127)"}else{let t=document.querySelectorAll(".section-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(184, 184, 184)";t=document.querySelectorAll(".body-text, song-lyrics, .image-link-subtext");for(let e=0;e<t.length;e++)t[e].style.color="rgb(152, 152, 152)";t=document.querySelectorAll(".body-text .link");for(let e=0;e<t.length;e++)t[e].style.color="rgb(152, 216, 152)";t=document.querySelectorAll(".quote-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(104, 104, 104)";t=document.querySelectorAll(".quote-attribution");for(let e=0;e<t.length;e++)t[e].style.color="rgb(188, 188, 188)";add_style(`\n\t\t\t\t.line-break\n\t\t\t\t{\n\t\t\t\t\tbackground: ${dark_theme_background_color};\n\t\t\t\t\tbackground: -moz-linear-gradient(left, ${dark_theme_background_color} 0%, rgb(116,116,116) 50%, ${dark_theme_background_color} 100%);\n\t\t\t\t\tbackground: -webkit-linear-gradient(left, ${dark_theme_background_color} 0%,rgb(116,116,116) 50%,${dark_theme_background_color}) 100%);\n\t\t\t\t\tbackground: linear-gradient(to right, ${dark_theme_background_color} 0%,rgb(116,116,116) 50%,${dark_theme_background_color} 100%);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t\t\tborder-color: rgb(88, 88, 88);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t`,!0)}let t=document.querySelectorAll(".heading-text, .date-text, .title-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(255, 255, 255)";try{document.querySelector("#theme-button-row").style.opacity=0}catch(t){}setTimeout(function(){try{document.querySelector("#theme-button-text").textContent=document.querySelector("#theme-button-text").textContent.replace("light","dark")}catch(t){}try{document.querySelector("#theme-button-row").style.opacity=1}catch(t){}},300),url_vars.theme=1,write_url_vars()}else{if(document.documentElement.style.backgroundColor="rgb(255, 255, 255)",1==url_vars.contrast){let t=document.querySelectorAll(".section-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(48, 48, 48)";t=document.querySelectorAll(".body-text, .song-lyrics, .image-link-subtext, .text-button");for(let e=0;e<t.length;e++)t[e].style.color="rgb(64, 64, 64)";t=document.querySelectorAll(".body-text .link");for(let e=0;e<t.length;e++)t[e].style.color="rgb(64, 128, 64)";t=document.querySelectorAll(".quote-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(88, 88, 88)";t=document.querySelectorAll(".quote-attribution");for(let e=0;e<t.length;e++)t[e].style.color="rgb(46, 46, 46)";t=document.querySelectorAll(".footer-button, .text-button, .nav-button");for(let e=0;e<t.length;e++)t[e].style.borderColor="rgb(64, 64, 64)"}else{let t=document.querySelectorAll(".section-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(96, 96, 96)";t=document.querySelectorAll(".quote-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(176, 176, 176)";t=document.querySelectorAll(".quote-attribution");for(let e=0;e<t.length;e++)t[e].style.color="rgb(92, 92, 92)"}let t=document.querySelectorAll(".heading-text, .date-text, .title-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(0, 0, 0)";try{document.querySelector("#theme-button-row").style.opacity=0}catch(t){}setTimeout(function(){try{document.querySelector("#theme-button-text").textContent=document.querySelector("#theme-button-text").textContent.replace("dark","light")}catch(t){}try{document.querySelector("#theme-button-row").style.opacity=1}catch(t){}},300),url_vars.theme=0,write_url_vars()}}function switch_theme_on_load(){page_settings.manual_dark_theme?url_vars.theme=1-url_vars.theme:switch_theme()}function switch_dark_theme_color(){document.querySelector("#dark-theme-color-button-row").style.opacity=0,switch_dark_theme_color_on_load(),setTimeout(function(){document.querySelector("#dark-theme-color-button-row").style.opacity=1},300)}function switch_dark_theme_color_on_load(){0==url_vars.dark_theme_color?(setTimeout(function(){try{document.querySelector("#dark-theme-color-button-text").textContent=document.querySelector("#dark-theme-color-button-text").textContent.replace("dark gray","black")}catch(t){}},300),url_vars.dark_theme_color=1,write_url_vars(),dark_theme_background_color="rgb(0, 0, 0)",1==url_vars.theme&&(document.documentElement.style.backgroundColor="rgb(0, 0, 0)")):(setTimeout(function(){try{document.querySelector("#dark-theme-color-button-text").textContent=document.querySelector("#dark-theme-color-button-text").textContent.replace("black","dark gray")}catch(t){}},300),url_vars.dark_theme_color=0,write_url_vars(),dark_theme_background_color="rgb(24, 24, 24)",1==url_vars.theme&&(document.documentElement.style.backgroundColor="rgb(24, 24, 24)"))}function switch_contrast(){document.querySelector("#contrast-button-row").style.opacity=0,setTimeout(function(){switch_contrast_on_load(),document.querySelector("#contrast-button-row").style.opacity=1},300)}function switch_contrast_on_load(){if(0==url_vars.contrast){try{document.querySelector("#contrast-button-text").textContent=document.querySelector("#contrast-button-text").textContent.replace("normal","high")}catch(t){}if(url_vars.contrast=1,write_url_vars(),1==url_vars.theme){let t=document.querySelectorAll(".section-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(232, 232, 232)";t=document.querySelectorAll(".body-text, .song-lyrics, .image-link-subtext");for(let e=0;e<t.length;e++)t[e].style.color="rgb(216, 216, 216)";t=document.querySelectorAll(".body-text .link");for(let e=0;e<t.length;e++)t[e].style.color="rgb(216, 255, 216)";t=document.querySelectorAll(".quote-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(192, 192, 192)";t=document.querySelectorAll(".quote-attribution");for(let e=0;e<t.length;e++)t[e].style.color="rgb(234, 234, 234)";t=document.querySelectorAll(".footer-button, .text-button, .nav-button");for(let e=0;e<t.length;e++)t[e].style.borderColor="rgb(127, 127, 127)";add_style(`\n\t\t\t\t.line-break\n\t\t\t\t{\n\t\t\t\t\tbackground: ${dark_theme_background_color};\n\t\t\t\t\tbackground: -moz-linear-gradient(left, ${dark_theme_background_color} 0%, rgb(164,164,164) 50%, ${dark_theme_background_color} 100%);\n\t\t\t\t\tbackground: -webkit-linear-gradient(left, ${dark_theme_background_color} 0%,rgb(164,164,164) 50%,${dark_theme_background_color} 100%);\n\t\t\t\t\tbackground: linear-gradient(to right, ${dark_theme_background_color} 0%,rgb(164,164,164) 50%,${dark_theme_background_color} 100%);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.scroll-button\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(88, 88, 88)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t}\n\t\t\t`,!0)}else{let t=document.querySelectorAll(".section-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(48, 48, 48)";t=document.querySelectorAll(".body-text, .song-lyrics, .image-link-subtext, .text-button");for(let e=0;e<t.length;e++)t[e].style.color="rgb(64, 64, 64)";t=document.querySelectorAll(".body-text .link");for(let e=0;e<t.length;e++)t[e].style.color="rgb(64, 128, 64)";t=document.querySelectorAll(".quote-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(88, 88, 88)";t=document.querySelectorAll(".quote-attribution");for(let e=0;e<t.length;e++)t[e].style.color="rgb(46, 46, 46)";t=document.querySelectorAll(".footer-button, .text-button, .nav-button");for(let e=0;e<t.length;e++)t[e].style.borderColor="rgb(64, 64, 64)";for(add_style("\n\t\t\t\t.line-break\n\t\t\t\t{\n\t\t\t\t\tbackground: rgb(255,255,255);\n\t\t\t\t\tbackground: -moz-linear-gradient(left, rgb(255,255,255) 0%, rgb(120,120,120) 50%, rgb(255,255,255) 100%);\n\t\t\t\t\tbackground: -webkit-linear-gradient(left, rgb(255,255,255) 0%,rgb(120,120,120) 50%,rgb(255,255,255) 100%);\n\t\t\t\t\tbackground: linear-gradient(to right, rgb(255,255,255) 0%,rgb(120,120,120) 50%,rgb(255,255,255) 100%);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.scroll-button\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(127, 127, 127);\n\t\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(64, 64, 64);\n\t\t\t\t\tcolor: rgb(0, 0, 0);\n\t\t\t\t}\n\t\t\t",!0),t=document.querySelectorAll(".nav-button"),i=0;i<t.length;i++)t[i].setAttribute("src",t[i].getAttribute("src").replace("chevron-left","chevron-left-dark").replace("chevron-right","chevron-right-dark"))}let t=document.querySelectorAll(".text-button");for(let e=0;e<t.length;e++)t[e].style.color="rgb(64, 64, 64)"}else{try{document.querySelector("#contrast-button-text").textContent=document.querySelector("#contrast-button-text").textContent.replace("high","normal")}catch(t){}if(url_vars.contrast=0,write_url_vars(),1==url_vars.theme){let t=document.querySelectorAll(".section-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(184, 184, 184)";t=document.querySelectorAll(".body-text, song-lyrics, .image-link-subtext");for(let e=0;e<t.length;e++)t[e].style.color="rgb(152, 152, 152)";t=document.querySelectorAll(".body-text .link");for(let e=0;e<t.length;e++)t[e].style.color="rgb(152, 216, 152)";t=document.querySelectorAll(".quote-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(104, 104, 104)";t=document.querySelectorAll(".quote-attribution");for(let e=0;e<t.length;e++)t[e].style.color="rgb(188, 188, 188)";add_style(`\n\t\t\t\t.line-break\n\t\t\t\t{\n\t\t\t\t\tbackground: ${dark_theme_background_color};\n\t\t\t\t\tbackground: -moz-linear-gradient(left, ${dark_theme_background_color} 0%, rgb(116,116,116) 50%, ${dark_theme_background_color} 100%);\n\t\t\t\t\tbackground: -webkit-linear-gradient(left, ${dark_theme_background_color} 0%,rgb(116,116,116) 50%,${dark_theme_background_color} 100%);\n\t\t\t\t\tbackground: linear-gradient(to right, ${dark_theme_background_color} 0%,rgb(116,116,116) 50%,${dark_theme_background_color} 100%);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t\t\tborder-color: rgb(88, 88, 88);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t`,!0),t=document.querySelectorAll(".text-button");for(let e=0;e<t.length;e++)t[e].style.color="rgb(152, 152, 152)";t=document.querySelectorAll(".footer-button, .text-button, .nav-button");for(let e=0;e<t.length;e++)t[e].style.borderColor="rgb(127, 127, 127)"}else{let t=document.querySelectorAll(".section-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(96, 96, 96)";t=document.querySelectorAll(".body-text, song-lyrics, .image-link-subtext");for(let e=0;e<t.length;e++)t[e].style.color="rgb(127, 127, 127)";t=document.querySelectorAll(".body-text .link");for(let e=0;e<t.length;e++)t[e].style.color="rgb(127, 192, 127)";t=document.querySelectorAll(".quote-text");for(let e=0;e<t.length;e++)t[e].style.color="rgb(176, 176, 176)";t=document.querySelectorAll(".quote-attribution");for(let e=0;e<t.length;e++)t[e].style.color="rgb(92, 92, 92)";t=document.querySelectorAll(".text-button");for(let e=0;e<t.length;e++)t[e].style.color="rgb(127, 127, 127)";t=document.querySelectorAll(".footer-button, .text-button, .nav-button");for(let e=0;e<t.length;e++)t[e].style.borderColor="rgb(127, 127, 127)"}}}function switch_font(){document.querySelector("#font-button-row").style.opacity=0,setTimeout(function(){switch_font_on_load(),setTimeout(function(){document.querySelector("#font-button-row").style.opacity=1})},300)}function switch_font_on_load(){if(0==url_vars.font){try{document.querySelector("#font-button-text").textContent=document.querySelector("#font-button-text").textContent.replace("always sans serif","serif on writing")}catch(t){}if(url_vars.font=1,write_url_vars(),page_settings.writing_page){let t=document.querySelectorAll(".body-text");for(let e=0;e<t.length;e++)t[e].style.fontFamily="'Gentium Book Basic', serif"}}else{try{document.querySelector("#font-button-text").textContent=document.querySelector("#font-button-text").textContent.replace("serif on writing","always sans serif")}catch(t){}url_vars.font=0,write_url_vars()}}function switch_writing_style(){document.querySelector("#writing-style-button-row").style.opacity=0,setTimeout(function(){switch_writing_style_on_load(),setTimeout(function(){document.querySelector("#writing-style-button-row").style.opacity=1})},300)}function switch_writing_style_on_load(){if(0==url_vars.writing_style){try{document.querySelector("#writing-style-button-text").textContent=document.querySelector("#writing-style-button-text").textContent.replace("double-spaced","single-spaced and indented")}catch(t){}if(url_vars.writing_style=1,write_url_vars(),page_settings.writing_page){let t=document.querySelectorAll("section div .body-text");for(let e=0;e<t.length;e++)try{let o=t[e].parentNode.nextElementSibling;"br"==o.tagName.toLowerCase()&&o.remove()}catch(t){}t=document.querySelectorAll("section div:not(:first-child) .body-text");for(let e=0;e<t.length;e++)t[e].style.textIndent="10pt"}}else{try{document.querySelector("#writing-style-button-text").textContent=document.querySelector("#writing-style-button-text").textContent.replace("single-spaced and indented","double-spaced")}catch(t){}url_vars.writing_style=0,write_url_vars()}}function switch_comments(){document.querySelector("#comments-button-row").style.opacity=0,setTimeout(function(){switch_comments_on_load(),document.querySelector("#comments-button-row").style.opacity=1},300)}function switch_comments_on_load(){if(0==url_vars.comments){try{document.querySelector("#comments-button-text").textContent=document.querySelector("#comments-button-text").textContent.replace("enabled","disabled")}catch(t){}try{document.querySelector("#disqus_thread").previousElementSibling.remove(),document.querySelector("#disqus_thread").previousElementSibling.remove(),document.querySelector("#disqus_thread").previousElementSibling.remove(),document.querySelector("#disqus_thread").remove()}catch(t){}url_vars.comments=1,write_url_vars()}else{try{document.querySelector("#comments-button-text").textContent=document.querySelector("#comments-button-text").textContent.replace("disabled","enabled")}catch(t){}url_vars.comments=0,write_url_vars()}}function switch_content_animation(){document.querySelector("#content-animation-button-row").style.opacity=0,setTimeout(function(){switch_content_animation_on_load(),document.querySelector("#content-animation-button-row").style.opacity=1},300)}function switch_content_animation_on_load(){if(0==url_vars.content_animation){try{document.querySelector("#content-animation-button-text").textContent=document.querySelector("#content-animation-button-text").textContent.replace("enabled","disabled")}catch(t){}url_vars.content_animation=1,write_url_vars();let t=document.body.querySelectorAll("[data-aos]");for(let e=0;e<t.length;e++)t[e].removeAttribute("data-aos");document.documentElement.classList.remove("animated-opacity")}else{try{document.querySelector("#content-animation-button-text").textContent=document.querySelector("#content-animation-button-text").textContent.replace("disabled","enabled")}catch(t){}url_vars.content_animation=0,write_url_vars(),document.documentElement.classList.add("animated-opacity")}}function switch_banner_style(){document.querySelector("#banner-style-button-row").style.opacity=0,setTimeout(function(){switch_banner_style_on_load(),document.querySelector("#banner-style-button-row").style.opacity=1},300)}function switch_banner_style_on_load(){if(0==url_vars.banner_style){try{document.querySelector("#banner-style-button-text").textContent=document.querySelector("#banner-style-button-text").textContent.replace("parallax","simple")}catch(t){}url_vars.banner_style=1,write_url_vars();try{document.querySelector("#background-image").classList.add("bad-banner")}catch(t){}}else{try{document.querySelector("#banner-style-button-text").textContent=document.querySelector("#banner-style-button-text").textContent.replace("simple","parallax")}catch(t){}url_vars.banner_style=0,write_url_vars()}}function switch_content_layout(){"small-screen"==layout_string?(document.body.classList.add("animated-opacity"),document.body.style.opacity=0):document.querySelector("#content-layout-button-row").style.opacity=0,setTimeout(function(){switch_content_layout_on_load(),"small-screen"==layout_string?(document.body.style.opacity=1,setTimeout(function(){document.body.classList.remove("animated-opacity")},300)):document.querySelector("#content-layout-button-row").style.opacity=1},300)}function switch_content_layout_on_load(){if(0==url_vars.content_layout){try{document.querySelector("#content-layout-button-text").textContent=document.querySelector("#content-layout-button-text").textContent.replace(/automatic \(.+\)/,"always compact")}catch(t){}url_vars.content_layout=1,write_url_vars();let t=document.querySelectorAll("*");for(let e=0;e<t.length;e++)t[e].classList.add("layout-override")}else{try{document.querySelector("#content-layout-button-text").textContent=document.querySelector("#content-layout-button-text").textContent.replace("always compact",`automatic (currently ${layout_string})`)}catch(t){}url_vars.content_layout=0,write_url_vars();let t=document.querySelectorAll("*");for(let e=0;e<t.length;e++)t[e].classList.remove("layout-override")}}1==url_vars.dark_theme_color&&(dark_theme_background_color="rgb(0, 0, 0)");