"use strict";let Page={};Page.Applets={Canvases:{is_fullscreen:!1,is_animating:!1,to_resize:[],true_fullscreen:!1,resize_callback:null,last_tap_time:0,fullscreen_old_scroll:0,fullscreen_locked_scroll:0,old_footer_button_offset:0,set_up_resizer:function(){let t=document.createElement("input");t.type="image",t.id="enter-fullscreen-button",t.src="/graphics/general-icons/enter-fullscreen.png",t.alt="Enter Fullscreen",t.setAttribute("onclick","Page.Applets.Canvases.switch_fullscreen()"),t.setAttribute("tabindex","-1"),document.querySelector("#output-canvas-container").appendChild(t),Page.Load.HoverEvents.add(t),t.addEventListener("touchend",()=>{Page.Applets.Canvases.switch_fullscreen()}),window.addEventListener("resize",this.fullscreen_on_resize),Page.temporary_handlers.resize.push(this.fullscreen_on_resize),window.addEventListener("scroll",this.fullscreen_on_scroll),Page.temporary_handlers.scroll.push(this.fullscreen_on_scroll);let e=this.handle_keypress_event.bind(this);document.documentElement.addEventListener("keydown",e),Page.temporary_handlers.keydown.push(this.fullscreen_on_scroll)},switch_fullscreen:function(){if(this.is_fullscreen){if(this.is_animating)return;this.is_fullscreen=!1,this.is_animating=!0,document.body.style.opacity=0,setTimeout(()=>{document.querySelector("#output-canvas-container").classList.remove("fullscreen"),document.documentElement.style.overflowY="visible",document.body.style.overflowY="visible",window.scroll(0,this.fullscreen_old_scroll);try{document.querySelector("#exit-fullscreen-button").remove()}catch(t){}let t=document.createElement("input");t.type="image",t.id="enter-fullscreen-button",t.src="/graphics/general-icons/enter-fullscreen.png",t.alt="Enter Fullscreen",t.setAttribute("onclick","Page.Applets.Canvases.switch_fullscreen()"),t.setAttribute("tabindex","-1"),document.querySelector("#output-canvas-container").appendChild(t),Page.Load.HoverEvents.add(t),t.addEventListener("touchend",()=>{Page.Applets.Canvases.switch_fullscreen()}),Page.Footer.Floating.current_offset=this.old_footer_button_offset,document.querySelector("#show-footer-menu-button").style.bottom=this.old_footer_button_offset+"px";for(let t=0;t<this.to_resize.length;t++){this.to_resize[t].classList.remove("true-fullscreen-canvas"),this.to_resize[t].classList.remove("letterboxed-fullscreen-canvas"),document.querySelector(".applet-canvas-container").classList.remove("black-background");try{let t=document.querySelectorAll(".letterboxed-canvas-background");for(let e=0;e<t.length;e++)t[e].remove()}catch(t){}try{this.resize_callback()}catch(t){}Page.Load.AOS.on_resize()}document.body.style.opacity=1,setTimeout(()=>{this.is_animating=!1},300)},300)}else{if(this.is_animating)return;this.is_fullscreen=!0,this.is_animating=!0,document.body.style.opacity=0,setTimeout(()=>{document.querySelector("#output-canvas-container").classList.add("fullscreen");try{document.querySelector("#enter-fullscreen-button").remove()}catch(t){}let t=document.createElement("input");if(t.type="image",t.id="exit-fullscreen-button",t.src="/graphics/general-icons/exit-fullscreen.png",t.alt="Exit Fullscreen",t.setAttribute("onclick","Page.Applets.Canvases.switch_fullscreen()"),t.setAttribute("tabindex","-1"),document.body.appendChild(t),Page.Load.HoverEvents.add(t),t.addEventListener("touchend",()=>{Page.Applets.Canvases.switch_fullscreen()}),this.old_footer_button_offset=Page.Footer.Floating.current_offset,Page.Footer.Floating.current_offset=-43.75,document.querySelector("#show-footer-menu-button").style.bottom="-43.75px",document.documentElement.style.overflowY="hidden",document.body.style.overflowY="hidden",this.fullscreen_old_scroll=window.scrollY,this.true_fullscreen){for(let t=0;t<this.to_resize.length;t++){this.to_resize[t].classList.add("true-fullscreen-canvas"),document.querySelector(".applet-canvas-container").classList.add("black-background");try{this.resize_callback()}catch(t){}Page.Load.AOS.on_resize()}window.scroll(0,window.scrollY+this.to_resize[0].getBoundingClientRect().top+2),this.fullscreen_locked_scroll=window.scrollY}else{for(let t=0;t<this.to_resize.length;t++){this.to_resize[t].classList.add("letterboxed-fullscreen-canvas");try{this.resize_callback()}catch(t){}Page.Load.AOS.on_resize()}document.querySelector(".applet-canvas-container").insertAdjacentHTML("beforebegin",'<div class="letterboxed-canvas-background no-floating-footer"></div>'),document.querySelector(".applet-canvas-container").insertAdjacentHTML("afterend",'<div class="letterboxed-canvas-background no-floating-footer"></div>'),document.querySelector(".applet-canvas-container").classList.add("black-background"),document.querySelector(".applet-canvas-container").classList.add("no-floating-footer"),this.fullscreen_on_resize()}document.body.style.opacity=1,setTimeout(()=>{this.is_animating=!1,this.fullscreen_on_resize()},300)},300)}},fullscreen_on_resize:function(){if(this.is_fullscreen){Page.Layout.aspect_ratio<1&&!this.true_fullscreen?window.scroll(0,window.scrollY+this.to_resize[0].getBoundingClientRect().top-(Page.Layout.window_height-this.to_resize[0].offsetHeight)/2+2):window.scroll(0,window.scrollY+this.to_resize[0].getBoundingClientRect().top+2),this.fullscreen_locked_scroll=window.scrollY;try{this.resize_callback()}catch(t){}setTimeout(()=>{Page.Layout.aspect_ratio<1&&!this.true_fullscreen?window.scroll(0,window.scrollY+this.to_resize[0].getBoundingClientRect().top-(Page.Layout.window_height-this.to_resize[0].offsetHeight)/2+2):window.scroll(0,window.scrollY+this.to_resize[0].getBoundingClientRect().top+2),this.fullscreen_locked_scroll=window.scrollY;try{this.resize_callback()}catch(t){}},500)}},fullscreen_on_scroll:function(){this.is_fullscreen&&window.scroll(0,this.fullscreen_locked_scroll)},handle_keypress_event:function(t){27===t.keyCode&&this.is_fullscreen&&this.switch_fullscreen()}}},Page.Banner={done_loading:!1,file_name:"",file_path:"",preloadable_pages:["/home/home.html","/bio/bio.html","/writing/mist/mist.html","/writing/desolation-point/desolation-point.html"],multibanner_pages:{"/home/home.html":{current_banner:Math.floor(16*Math.random()),num_banners:16}},pages_already_fetched:[],load:function(){return new Promise((t,e)=>{this.preloadable_pages.includes(Page.url)?(Page.Layout.aspect_ratio<1?this.file_name="portrait."+Page.Images.file_extension:this.file_name="landscape."+Page.Images.file_extension,this.file_path="",this.multibanner_pages.hasOwnProperty(Page.url)?(this.multibanner_pages[Page.url].current_banner++,this.multibanner_pages[Page.url].current_banner===this.multibanner_pages[Page.url].num_banners+1&&(this.multibanner_pages[Page.url].current_banner=1),this.file_path=Page.parent_folder+"banners/"+this.multibanner_pages[Page.url].current_banner+"/"):this.file_path=Page.parent_folder+"banners/",fetch(this.file_path+this.file_name).then(e=>{let n=new Image;n.onload=(()=>{this.ScrollButton.timeout_id=setTimeout(()=>{this.ScrollButton.insert()},2500),t()}),n.style.display="hidden",n.style.opacity=0,document.body.appendChild(n),setTimeout(()=>{n.src=this.file_path+this.file_name},20)}).catch(e=>{document.querySelector("#banner").remove(),document.querySelector("#banner-cover").remove(),AOS.init({duration:1200,once:!1,offset:100}),t()})):t()})},on_scroll:function(t){if(0===t?Page.scroll=window.scrollY:(Page.scroll=t,this.done_loading=!1,this.ScrollButton.done_loading=!1),Page.scroll>=0){if(Page.scroll<=Page.Layout.window_height){let t=.5+.5*Math.sin(Math.PI*Math.max(1-Page.scroll/Page.Layout.window_height,0)-Math.PI/2);try{document.querySelector("#banner").style.opacity=t}catch(t){}this.done_loading=0===t}else if(!this.done_loading){try{document.querySelector("#banner").style.opacity=0}catch(t){}this.done_loading=!0}if(Page.scroll<=Page.Layout.window_height/3){let t=.5+.5*Math.sin(Math.PI*Math.max(1-3*Page.scroll/Page.Layout.window_height,0)-Math.PI/2);if(this.ScrollButton.exists)try{document.querySelector("#scroll-button").style.opacity=t}catch(t){}try{Page.set_element_styles(".name-text","opacity",t)}catch(t){}0===t?(this.ScrollButton.exists&&(document.querySelector("#scroll-button").remove(),this.ScrollButton.exists=!1),this.ScrollButton.done_loading=!0):this.ScrollButton.done_loading=!1}else null!==this.ScrollButton.timeout_id&&Page.scroll<=2*Page.Layout.window_height/3?(clearTimeout(this.ScrollButton.timeout_id),this.ScrollButton.timeout_id=null):!1===this.ScrollButton.done_loading&&(Page.set_element_styles(".name-text","opacity",0),this.ScrollButton.exists&&(document.querySelector("#scroll-button").remove(),this.ScrollButton.exists=!1),this.ScrollButton.done_loading=!0)}},fetch_other_size_in_background:function(){"landscape.webp"===this.file_name||"landscape.jpg"===this.file_name?(Site.Fetch.queue.push(this.file_path+"portrait."+Page.Images.file_extension),Site.Fetch.get_next_item_from_queue()):(Site.Fetch.queue.push(this.file_path+"landscape."+Page.Images.file_extension),Site.Fetch.get_next_item_from_queue())},fetch_other_page_banners_in_background:function(){let t=document.querySelectorAll("a");for(let e=0;e<t.length;e++){let n=t[e].getAttribute("href");if(this.preloadable_pages.includes(n)&&!this.pages_already_fetched.includes(n))if(this.multibanner_pages.hasOwnProperty(n)){let t=this.multibanner_pages[n].current_banner%(this.multibanner_pages[n].current_banner+1)+1;Site.Fetch.queue.push(n.slice(0,n.lastIndexOf("/")+1)+"banners/"+t+"/"+this.file_name),Site.Fetch.get_next_item_from_queue()}else this.pages_already_fetched.push(n),Site.Fetch.queue.push(n.slice(0,n.lastIndexOf("/")+1)+"banners/"+this.file_name),Site.Fetch.get_next_item_from_queue()}},ScrollButton:{done_loading:!1,exists:!1,timeout_id:null,insert:function(){let t=.5+.5*Math.sin(Math.PI*Math.max(1-3*Page.scroll/Page.Layout.window_height,0)-Math.PI/2);if(Page.scroll<=Page.Layout.window_height/3){let e="chevron-down";1===Site.Settings.url_vars.contrast&&(e+="-dark");try{document.querySelector("#banner-cover").insertAdjacentHTML("beforebegin",`\n\t\t\t\t\t\t<div id="new-banner-cover" data-aos="fade-down">\n\t\t\t\t\t\t\t<input type="image" id="scroll-button" src="/graphics/general-icons/${e}.png" style="opacity: ${t}" alt="Scroll down" onclick="Page.Banner.ScrollButton.animate_to(document.querySelector('#scroll-to'))">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`),this.exists=!0,setTimeout(()=>{try{Page.Load.HoverEvents.add(document.querySelector("#scroll-button"))}catch(t){}},100),document.querySelector("#banner-cover").remove()}catch(t){}}},animate_to:function(t){t.scrollIntoView({behavior:"smooth"})}}};let Browser={name:"",detect:function(){this.Detector.init(),this.name=this.Detector.browser},Detector:{init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(t){for(let e=0;e<t.length;e++){let n=t[e].string;if(this.versionSearchString=t[e].subString,-1!==n.indexOf(t[e].subString))return t[e].identity}},searchVersion:function(t){let e=t.indexOf(this.versionSearchString);if(-1===e)return;let n=t.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==n?parseFloat(t.substring(n+3)):parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"MS Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}]}};Page.Components={need_new_aos_section:!1,get_header:function(t,e){let n="";return e&&(n=' style="margin-bottom: 10vh"'),`\n\t\t\t<header${n}>\n\t\t\t\t<div class="new-aos-section" data-aos="fade-in">\n\t\t\t\t\t<div id="logo">\n\t\t\t\t\t\t<a href="/home/home.html" tabindex="-1">\n\t\t\t\t\t\t\t<img src="/graphics/general-icons/logo.png" alt="Logo" onclick="Page.Navigation.redirect('/home/home.html')" tabindex="1"></img>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div style="height: 2vh"></div>\n\t\t\t\t\n\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t<h1 class="heading-text">${t.join(" ")}</h1>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t\t\n\t\t\t<main>\n\t\t\t\t<section>\n\t\t`},get_footer:function(t){return t?'\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</main>\n\t\t\t\t\t\n\t\t\t\t\t<footer>\n\t\t\t\t\t\t<div id="spawn-footer"></div>\n\t\t\t\t\t</footer>\n\t\t\t\t</div>\n\t\t\t':'\n\t\t\t\t\t</section>\n\t\t\t\t</main>\n\t\t\t\t\n\t\t\t\t<footer>\n\t\t\t\t\t<div id="spawn-footer"></div>\n\t\t\t\t</footer>\n\t\t\t'},get_section:function(){return"\n\t\t\t</section>\n\t\t\t\n\t\t\t<section>\n\t\t"},get_text:function(t,e){let n="";if(e&&(n=' class="new-aos-section"'),"h"===t[0]){return`\n\t\t\t\t<div${n} data-aos="fade-up">\n\t\t\t\t\t<h1 class="heading-text">\n\t\t\t\t\t\t${t.slice(1).join(" ")}\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\n\t\t\t`}if("s"===t[0]){return`\n\t\t\t\t<div${n} data-aos="fade-up">\n\t\t\t\t\t<h2 class="section-text">\n\t\t\t\t\t\t${t.slice(1).join(" ")}\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t`}{let e=t.slice(2).join(" ");return"j"===t[1]?`\n\t\t\t\t\t<div${n} data-aos="fade-up">\n\t\t\t\t\t\t<p class="body-text">\n\t\t\t\t\t\t\t${e}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<br>\n\t\t\t\t`:`\n\t\t\t\t\t<div${n} data-aos="fade-up">\n\t\t\t\t\t\t<p class="body-text center-if-needed">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t${e}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t`}},get_image_link:function(t){let e=t[0];"/"!==e[0]&&(e=Page.parent_folder+t[0]);let n="",o="";"l"===t[1]?(o=" image-link-light",n=t.slice(2).join(" ")):n=t.slice(1).join(" ");let i=t[0].split(".")[0].split("/");return`\n\t\t\t<div class="image-link${o}" data-aos="fade-up">\n\t\t\t\t<a href="${e}" tabindex="-1">\n\t\t\t\t\t<img data-image-id="${i=i[i.length-1]}" class="check-webp no-floating-footer" onclick="Page.Navigation.redirect('${e}')" src="" alt="${n}" tabindex="1"></img>\n\t\t\t\t</a>\n\t\t\t\t\n\t\t\t\t<p class="image-link-subtext">${n}</p>\n\t\t\t</div>\n\t\t`},get_banner:function(){return'\n\t\t\t<div id="banner"></div>\n\t\t\t\n\t\t\t<div id="banner-gradient"></div>\n\n\t\t\t<div id="banner-cover"></div>\n\n\t\t\t<div id="content">\n\t\t\t\t<div id="scroll-to"></div>\n\t\t\t\t\n\t\t\t\t<div style="height: 5vh"></div>\n\t\t'},get_about_page_version:function(t){let e="medium-version",n="section-text",o=t[0].split(".");3===o.length?(e="minor-version",n="body-text"):"0"===o[1]&&(e="major-version",n="heading-text");let i=t.slice(1).join(" "),s=(i=i.split(":"))[1].slice(1);if(3===i.length){let o=i[2];i=i[0];let r=["January","February","March","April","May","June","July","August","September","October","November","December"],a=o.split("-"),l=parseInt(a[0]),c=r[parseInt(a[1])-1],d=parseInt(a[2]);return`\n\t\t\t\t<div class="${e}">\n\t\t\t\t\t<div class="new-aos-section" data-aos="fade-up">\n\t\t\t\t\t\t<h2 class="${n}">${t[0]}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t\t<h2 class="${n}">${i}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<br>\n\t\t\t\t\t\n\t\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t\t<p class="body-text center-if-needed"><span>${s}</span></p>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<br>\n\t\t\t\t\t\n\t\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t\t<p class="body-text center-if-needed">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<time datetime="${o}">${c} ${d}, ${l}</time>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`}return i=i[0],`\n\t\t\t\t<div class="${e}">\n\t\t\t\t\t<div class="new-aos-section" data-aos="fade-up">\n\t\t\t\t\t\t<h2 class="${n}">${t[0]}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t\t<h2 class="${n}">${i}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<br>\n\t\t\t\t\t\n\t\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t\t<p class="body-text center-if-needed"><span>${s}</span></p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`},get_text_box:function(t){let e=t[0];return`\n\t\t\t<div class="text-box-container" data-aos="fade-up">\n\t\t\t\t<input id="${e}-input" class="text-box no-floating-footer" type="text" value="${t[1]}" tabindex="1">\n\t\t\t\t<label for="${e}-input">\n\t\t\t\t\t<p class="body-text">${t.slice(2).join(" ")}</p>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t`},get_text_button:function(t,e){let n=t[0],o=t.slice(1).join(" "),i="";"l"===t[1]&&(i=" linked-text-button",o=t.slice(2).join(" "));let s="";return e&&(s=' data-aos-delay-increase="500"'),`\n\t\t\t<div class="focus-on-child" data-aos="zoom-out"${s} tabindex="1">\n\t\t\t\t<button class="text-button${i} no-floating-footer" type="button" id="${n}-button" tabindex="-1">${o}</button>\n\t\t\t</div>\n\t\t`},get_checkbox:function(t){return`\n\t\t\t<div class="checkbox-row">\n\t\t\t\t<div data-aos="zoom-out">\n\t\t\t\t\t<div class="checkbox-container click-on-child" tabindex="1">\n\t\t\t\t\t\t<input type="checkbox" id="${t[0]}-checkbox" class="no-floating-footer">\n\t\t\t\t\t\t<div class="checkbox no-floating-footer"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div style="margin-left: 10px" data-aos="fade-left">\n\t\t\t\t\t<p class="body-text">${t.slice(1).join(" ")}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`},get_radio_button:function(t){return`\n\t\t\t<div class="radio-button-row">\n\t\t\t\t<div data-aos="zoom-out">\n\t\t\t\t\t<div class="radio-button-container click-on-child" tabindex="1">\n\t\t\t\t\t\t<input type="radio" name="${t[0]}" id="${t[1]}-radio-button" class="no-floating-footer">\n\t\t\t\t\t\t<div class="radio-button no-floating-footer"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div style="margin-left: 10px" data-aos="fade-left">\n\t\t\t\t\t<p class="body-text">${t.slice(2).join(" ")}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`},get_canvas:function(){return'\n\t\t\t<div class="center-content applet-canvas-container" data-aos="fade-in" data-aos-delay-increase="500">\n\t\t\t\t<div id="output-canvas-container">\n\t\t\t\t\t<canvas id="output-canvas" class="no-floating-footer"></canvas>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'},get_line_break:function(){return'\n\t\t\t<div class="line-break line-break-0-0"></div>\n\t\t\t<div class="line-break line-break-1-0"></div>\n\t\t\t<div class="line-break line-break-0-1"></div>\n\t\t\t<div class="line-break line-break-1-1"></div>\n\t\t'},decode:function(t){let e=!1,n=!1,o=t.replace(/\t/g,"").replace(/    /g,"").replace(/\r/g,"").split("\n");for(let t=0;t<o.length;t++)if("!"===o[t][0]){let i=o[t].split(" ");if("!begin-text-block"===i[0]){for(o[t]="",i=o[t+=2].split(" ");"!end-text-block"!==i[0];)o[t]=this.get_text(["b","j"].concat(i)),i=o[t+=2].split(" ");o[t]=""}else if("!begin-image-links"===i[0]){for(o[t]='<div class="image-links">',i=o[t+=2].split(" ");"!end-image-links"!==i[0];)o[t]=this.get_image_link(i),i=o[t+=2].split(" ");o[t]="</div>"}else if("!section"===i[0])e=!0,o[t]=this.get_section();else if("!text"===i[0])o[t]=this.get_text(i.slice(1),e);else if("!banner"===i[0])n=!0,o[t]=this.get_banner();else if("!footer"===i[0])o[t]=this.get_footer(n);else if("!header"===i[0])o[t]=this.get_header(i.slice(1),n);else if("!version"===i[0])o[t]=this.get_about_page_version(i.slice(1));else if("!begin-text-boxes"===i[0]){for(o[t]='<div class="text-boxes">',i=o[t+=2].split(" ");"!end-text-boxes"!==i[0];)o[t]=this.get_text_box(i),i=o[t+=2].split(" ");o[t]="</div>"}else if("!begin-text-buttons"===i[0]){o[t]='<div class="text-buttons">';let e=!0;for(i=o[t+=2].split(" ");"!end-text-buttons"!==i[0];)o[t]=this.get_text_button(i,e),i=o[t+=2].split(" "),e=!1;o[t]="</div>"}else"!checkbox"===i[0]?o[t]=this.get_checkbox(i.slice(1)):"!radio-button"===i[0]?o[t]=this.get_radio_button(i.slice(1)):"!canvas"===i[0]?o[t]=this.get_canvas():"!line-break"===i[0]&&(o[t]=this.get_line_break())}return t=o.join("\n")}},Page.Footer={load:function(){let t=100,e=Page.Navigation.concat_url_vars();if(document.querySelector("#spawn-footer").insertAdjacentHTML("beforebegin",'\n\t\t\t<div style="position: relative">\n\t\t\t\t<div class="new-aos-section" data-aos="fade-in" data-aos-offset="0" style="position: absolute; bottom: 5px"></div>\n\t\t\t</div>\n\t\t'),"footer_exclusion"in Page.settings&&""!==Page.settings.footer_exclusion?document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t\t\t<div data-aos="fade-in" data-aos-duration="500" data-aos-offset="0">\n\t\t\t\t\t<div class="line-break line-break-0-0 footer-line-break"></div>\n\t\t\t\t\t<div class="line-break line-break-1-0 footer-line-break"></div>\n\t\t\t\t\t<div class="line-break line-break-0-1 footer-line-break"></div>\n\t\t\t\t\t<div class="line-break line-break-1-1 footer-line-break"></div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div style="height: 3vw"></div>\n\t\t\t\t\n\t\t\t\t<nav class="footer-image-links"></nav>\n\t\t\t'):document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t\t\t<div data-aos="fade-in" data-aos-duration="500" data-aos-offset="0">\n\t\t\t\t\t<div class="line-break line-break-0-0 footer-line-break-big"></div>\n\t\t\t\t\t<div class="line-break line-break-1-0 footer-line-break-big"></div>\n\t\t\t\t\t<div class="line-break line-break-0-1 footer-line-break-big"></div>\n\t\t\t\t\t<div class="line-break line-break-1-1 footer-line-break-big"></div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div style="height: 3vw"></div>\n\t\t\t\t\n\t\t\t\t<nav class="footer-image-links footer-image-links-big"></nav>\n\t\t\t'),!("footer_exclusion"in Page.settings&&"writing"===Page.settings.footer_exclusion)){let n=document.createElement("div");document.querySelector(".footer-image-links").appendChild(n),n.outerHTML=`\n\t\t\t\t<div id="writing-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t\t<a href="/index.html?page=%2Fwriting%2Fwriting.html${e}" tabindex="-1">\n\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/writing/writing.html')" src="/writing/cover.${Page.Images.file_extension}" alt="Writing" tabindex="2"></img>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t`,t+=100}if(!("footer_exclusion"in Page.settings&&"teaching"===Page.settings.footer_exclusion)){let n=document.createElement("div");document.querySelector(".footer-image-links").appendChild(n),n.outerHTML=`\n\t\t\t\t<div id="teaching-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t\t<a class="focus-on-child" href="/index.html?page=%2Fteaching%2Fteaching.html${e}" tabindex="-1">\n\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/teaching/teaching.html')" src="/teaching/cover.${Page.Images.file_extension}" alt="Teaching" tabindex="2"></img>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t`,t+=100}if(!("footer_exclusion"in Page.settings&&"applets"===Page.settings.footer_exclusion)){let n=document.createElement("div");document.querySelector(".footer-image-links").appendChild(n),n.outerHTML=`\n\t\t\t\t<div id="applets-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t\t<a class="focus-on-child" href="index.html?page=%2Fapplets%2Fapplets.html${e}" tabindex="-1">\n\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/applets/applets.html')" src="/applets/cover.${Page.Images.file_extension}" alt="Applets" tabindex="2"></img>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t`,t+=100}if(!("footer_exclusion"in Page.settings&&"bio"===Page.settings.footer_exclusion)){let n=document.createElement("div");document.querySelector(".footer-image-links").appendChild(n),n.outerHTML=`\n\t\t\t\t<div id="bio-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t\t<a class="focus-on-child" href="/index.html?page=%2Fbio%2Fbio.html${e}" tabindex="-1">\n\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/bio/bio.html')" src="/bio/cover.${Page.Images.file_extension}" alt="Me" tabindex="2"></img>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t`,t+=100}document.body.clientHeight<Page.Layout.window_height&&document.querySelector("#spawn-footer").insertAdjacentHTML("beforebegin",`\n\t\t\t\t<div style="height: ${Page.Layout.window_height-document.body.clientHeight}px"></div>\n\t\t\t`),this.Floating.load(),Page.scroll>0&&window.scrollTo(0,Page.scroll)},Floating:{is_visible:!1,last_scroll:-1,scroll_direction:0,current_offset:-43.75,currently_animating:!1,menu_is_open:!1,image_links_is_open:!1,settings_is_open:!1,timeout_id_1:null,timeout_id_2:null,load:function(){let t=document.createElement("footer");t.id="floating-footer",document.body.insertBefore(t,document.body.firstChild),t.innerHTML=`\n\t\t\t\t<div class="footer-buttons">\n\t\t\t\t\t<div id="show-footer-menu-button" class="footer-menu-button focus-on-child" tabindex="100">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/chevron.png" alt="Options" onclick="Page.Footer.Floating.show_menu()" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<div id="about-button" class="footer-menu-button focus-on-child" tabindex="103">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/question.png" alt="About" onclick="Page.Navigation.redirect('/about/about.html')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="sitemap-button" class="footer-menu-button focus-on-child" tabindex="102">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/sitemap.png" alt="Options" onclick="Page.Footer.Floating.show_image_links()" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="settings-button" class="footer-menu-button focus-on-child" tabindex="101">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/gear.png" alt="Options" onclick="Page.Footer.Floating.show_settings()" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<div id="floating-footer-writing-link" class="image-link footer-menu-image-link" style="width: 39px; position: absolute; left: -40px; bottom: 6.25px">\n\t\t\t\t\t\t<a href="/writing/writing.html" tabindex="-1">\n\t\t\t\t\t\t\t<img class="no-floating-footer" onclick="Page.Navigation.redirect('/writing/writing.html')" src="/writing/cover.${Page.Images.file_extension}" alt="Writing" tabindex="1"></img>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="floating-footer-teaching-link" class="image-link footer-menu-image-link" style="width: 39px; position: absolute; left: -40px; bottom: 55.25px">\n\t\t\t\t\t\t<a href="/teaching/teaching.html" tabindex="-1">\n\t\t\t\t\t\t\t<img class="no-floating-footer" onclick="Page.Navigation.redirect('/teaching/teaching.html')" src="/teaching/cover.${Page.Images.file_extension}" alt="Teaching" tabindex="1"></img>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="floating-footer-applets-link" class="image-link footer-menu-image-link" style="width: 39px; position: absolute; left: -40px; bottom: 104.25px">\n\t\t\t\t\t\t<a href="/applets/applets.html" tabindex="-1">\n\t\t\t\t\t\t\t<img class="no-floating-footer" onclick="Page.Navigation.redirect('/applets/applets.html')" src="/applets/cover.${Page.Images.file_extension}" alt="Applets" tabindex="1"></img>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="floating-footer-bio-link" class="image-link footer-menu-image-link" style="width: 39px; position: absolute; left: -40px; bottom: 153.25px">\n\t\t\t\t\t\t<a href="/bio/bio.html" tabindex="-1">\n\t\t\t\t\t\t\t<img class="no-floating-footer" onclick="Page.Navigation.redirect('/bio/bio.html')" src="/bio/cover.${Page.Images.file_extension}" alt="Bio" tabindex="1"></img>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<p id="settings-text" class="body-text" style="opacity: 0"></p>\n\t\t\t\t\t\n\t\t\t\t\t<div id="content-animation-button" class="footer-menu-button focus-on-child" tabindex="101">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/pop.png" alt="Options" onclick="Site.Settings.toggle('content_animation')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="font-button" class="footer-menu-button focus-on-child" tabindex="101">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/font.png" alt="Options" onclick="Site.Settings.toggle('font')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="text-size-button" class="footer-menu-button focus-on-child" tabindex="101">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/text-size.png" alt="Options" onclick="Site.Settings.toggle('text_size')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="contrast-button" class="footer-menu-button focus-on-child" tabindex="102">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/contrast.png" alt="Options" onclick="Site.Settings.toggle('contrast')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="theme-button" class="footer-menu-button focus-on-child" tabindex="103">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/moon.png" alt="About" onclick="Site.Settings.toggle('theme')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,setTimeout(()=>{Page.Load.HoverEvents.add(document.querySelector("#floating-footer-writing-link img")),Page.Load.HoverEvents.add(document.querySelector("#floating-footer-teaching-link img")),Page.Load.HoverEvents.add(document.querySelector("#floating-footer-applets-link img")),Page.Load.HoverEvents.add(document.querySelector("#floating-footer-bio-link img"))},50),this.last_scroll=window.scrollY,Site.Interaction.currently_touch_device||(this.current_offset=6.25,this.is_visible=!0),document.querySelector("#show-footer-menu-button").style.bottom=`${this.current_offset}px`;let e=this.on_scroll.bind(this);window.addEventListener("scroll",e),Page.temporary_handlers.scroll.push(e)},on_scroll:function(){if(!Site.Interaction.currently_touch_device||this.currently_animating||window.scrollY>document.body.scrollHeight-Page.Layout.window_height)return;if(this.last_scroll<=0)return void(this.last_scroll=window.scrollY);let t=window.scrollY,e=t-this.last_scroll;e=e>0&&window.scrollY>document.body.scrollHeight-Page.Layout.window_height-150?-e:e>0?Math.max(2,Math.min(e,10)):Math.max(-10,Math.min(e,-2)),e*=(Math.cos(2*Math.PI*(this.current_offset+43.75)/50+Math.PI)+1.33)/2.33,this.last_scroll=t,this.current_offset-=e,this.current_offset<-43.75&&(this.current_offset=-43.75,this.is_visible=!1),this.current_offset>6.25&&(this.current_offset=6.25,this.is_visible=!0),document.querySelector("#show-footer-menu-button").style.bottom=`${this.current_offset}px`},animate_in:function(){if(!this.currently_animating){this.currently_animating=!0,this.current_offset=6.25;try{document.querySelector("#show-footer-menu-button").style.opacity=0,document.querySelector("#show-footer-menu-button").style.transform="scale(1.2)",document.querySelector("#show-footer-menu-button").style.bottom="6.25px",setTimeout(()=>{document.querySelector("#show-footer-menu-button").style.transition="opacity .6s ease-out, transform .6s ease-out",document.querySelector("#show-footer-menu-button").style.opacity=1,document.querySelector("#show-footer-menu-button").style.transform="scale(1)",this.is_visible=!0,setTimeout(()=>{document.querySelector("#show-footer-menu-button").style.transition="opacity .3s ease",this.current_offset=6.25,this.last_scroll=-1,this.currently_animating=!1},600)},10)}catch(t){}}},show_menu:function(){document.querySelector("#settings-button").style.left="10px",document.querySelector("#show-footer-menu-button").style.opacity=0,setTimeout(()=>{document.querySelector("#sitemap-button").style.left="10px",setTimeout(()=>{document.querySelector("#about-button").style.left="10px",this.menu_is_open=!0},50)},50);let t=this.hide_menu.bind(this);document.documentElement.addEventListener("touchstart",t),document.documentElement.addEventListener("touchmove",t),document.documentElement.addEventListener("mousedown",t),Page.temporary_handlers.touchstart.push(t),Page.temporary_handlers.touchmove.push(t),Page.temporary_handlers.mousedown.push(t)},hide_menu:function(t){if(!this.menu_is_open)return;let e=0,n=0;try{e=t.clientX,n=t.clientY}catch(t){}try{e=t.touches[0].clientX,n=t.touches[0].clientY}catch(t){}document.elementFromPoint(e,n).parentNode.classList.contains("footer-menu-button")||(document.querySelector("#settings-button").style.left="-40px",this.image_links_is_open||(document.querySelector("#show-footer-menu-button").style.opacity=1),setTimeout(()=>{document.querySelector("#sitemap-button").style.left="-40px",setTimeout(()=>{document.querySelector("#about-button").style.left="-40px",this.menu_is_open=!1,setTimeout(()=>{document.querySelector("#settings-button").style.opacity=1,document.querySelector("#sitemap-button").style.opacity=1,document.querySelector("#about-button").style.opacity=1},300)},50)},50))},show_image_links:function(){document.querySelector("#floating-footer-writing-link").style.left="10px",document.querySelector("#settings-button").style.opacity=0,setTimeout(()=>{document.querySelector("#floating-footer-teaching-link").style.left="10px",document.querySelector("#sitemap-button").style.opacity=0,setTimeout(()=>{document.querySelector("#floating-footer-applets-link").style.left="10px",document.querySelector("#about-button").style.opacity=0,setTimeout(()=>{document.querySelector("#floating-footer-bio-link").style.left="10px",this.image_links_is_open=!0,setTimeout(()=>{this.hide_menu()},300)},50)},50)},50);let t=this.hide_image_links.bind(this);document.documentElement.addEventListener("touchstart",t),document.documentElement.addEventListener("touchmove",t),document.documentElement.addEventListener("mousedown",t),Page.temporary_handlers.touchstart.push(t),Page.temporary_handlers.touchmove.push(t),Page.temporary_handlers.mousedown.push(t)},hide_image_links:function(t){if(!this.image_links_is_open)return;let e=0,n=0;try{e=t.clientX,n=t.clientY}catch(t){}try{e=t.touches[0].clientX,n=t.touches[0].clientY}catch(t){}document.elementFromPoint(e,n).parentNode.parentNode.classList.contains("footer-menu-image-link")||(document.querySelector("#floating-footer-writing-link").style.left="-40px",setTimeout(()=>{document.querySelector("#floating-footer-teaching-link").style.left="-40px",document.querySelector("#show-footer-menu-button").style.opacity=1,setTimeout(()=>{document.querySelector("#floating-footer-applets-link").style.left="-40px",setTimeout(()=>{document.querySelector("#floating-footer-bio-link").style.left="-40px",this.image_links_is_open=!1},50)},50)},50))},show_settings:function(){document.querySelector("#theme-button").style.left="10px",document.querySelector("#settings-button").style.opacity=0,setTimeout(()=>{document.querySelector("#contrast-button").style.left="10px",document.querySelector("#sitemap-button").style.opacity=0,setTimeout(()=>{document.querySelector("#text-size-button").style.left="10px",document.querySelector("#about-button").style.opacity=0,setTimeout(()=>{document.querySelector("#font-button").style.left="10px",setTimeout(()=>{document.querySelector("#content-animation-button").style.left="10px",this.settings_is_open=!0,setTimeout(()=>{this.hide_menu()},300)},50)},50)},50)},50);let t=this.hide_settings.bind(this);document.documentElement.addEventListener("touchstart",t),document.documentElement.addEventListener("touchmove",t),document.documentElement.addEventListener("mousedown",t),Page.temporary_handlers.touchstart.push(t),Page.temporary_handlers.touchmove.push(t),Page.temporary_handlers.mousedown.push(t)},hide_settings:function(t){if(!this.settings_is_open)return;let e=0,n=0;try{e=t.clientX,n=t.clientY}catch(t){}try{e=t.touches[0].clientX,n=t.touches[0].clientY}catch(t){}document.elementFromPoint(e,n).parentNode.classList.contains("footer-menu-button")||(document.querySelector("#theme-button").style.left="-40px",document.querySelector("#show-footer-menu-button").style.opacity=1,setTimeout(()=>{document.querySelector("#contrast-button").style.left="-40px",setTimeout(()=>{document.querySelector("#text-size-button").style.left="-40px",setTimeout(()=>{document.querySelector("#font-button").style.left="-40px",setTimeout(()=>{document.querySelector("#content-animation-button").style.left="-40px",this.settings_is_open=!1},50)},50)},50)},50))},show_settings_text:function(t){0==document.querySelector("#settings-text").style.opacity?(document.querySelector("#settings-text").style.display="block",document.querySelector("#settings-text").textContent=t,setTimeout(()=>{document.querySelector("#settings-text").style.opacity=1;try{clearTimeout(this.timeout_id_1)}catch(t){}try{clearTimeout(this.timeout_id_2)}catch(t){}this.timeout_id_1=setTimeout(()=>{document.querySelector("#settings-text").style.opacity=0,this.timeout_id_2=setTimeout(()=>{document.querySelector("#settings-text").style.display="none"},300)},1800)},10)):(document.querySelector("#settings-text").style.opacity=0,setTimeout(()=>{document.querySelector("#settings-text").style.display="block",document.querySelector("#settings-text").textContent=t,setTimeout(()=>{document.querySelector("#settings-text").style.opacity=1;try{clearTimeout(this.timeout_id_1)}catch(t){}try{clearTimeout(this.timeout_id_2)}catch(t){}this.timeout_id_1=setTimeout(()=>{document.querySelector("#settings-text").style.opacity=0,this.timeout_id_2=setTimeout(()=>{document.querySelector("#settings-text").style.display="none"},300)},1800)},10)},300))}}},Page.Images={webp_support:null,file_extension:"",insert:function(){return new Promise((t,e)=>{Site.Fetch.busy=!0;let n=document.querySelectorAll(".check-webp"),o=this.webp_support?"webp":"non-webp",i=0;fetch(Page.parent_folder+"images.json").then(t=>t.json()).then(e=>{for(let s=0;s<n.length;s++){let r=e[n[s].getAttribute("data-image-id")][o];"https"===r.slice(0,5)||"/"===r[0]?n[s].setAttribute("src",r):n[s].setAttribute("src",Page.parent_folder+r),n[s].onload=(()=>{++i===n.length&&(console.log("Fetched "+n.length+" images on the page."),Site.Fetch.busy=!1,Site.Fetch.get_next_item_from_queue(),t())})}}).catch(t=>{console.error("Could not load images.json")})})},check_webp_support:function(){return new Promise((t,e)=>{Site.load_script("/scripts/modernizr-webp.min.js").then(()=>{Modernizr.on("webp",e=>{e?(this.webp_support=!0,this.file_extension="webp"):(this.webp_support=!1,this.file_extension="jpg"),t()})}).catch(e=>{console.error("Could not load Modernizr"),this.webp_support=!1,this.file_extension="jpg",t()})})}},Page.Layout={layout_string:"",old_layout_string:"",window_width:0,window_height:0,aspect_ratio:1,new_window_width:0,new_window_height:0,window_width_step_distance:0,window_height_step_distance:0,resize_time:0,on_resize:function(){this.new_window_width=window.innerWidth,this.new_window_height=window.innerHeight,this.aspect_ratio=this.new_window_width/this.new_window_height,this.old_layout_string=this.layout_string,this.new_window_width/this.new_window_height<9/16||this.new_window_width<=700?this.layout_string="compact":this.new_window_width/this.new_window_height>16/9||this.new_window_width>=1400?this.layout_string="ultrawide":this.layout_string="default",this.old_layout_string!==this.layout_string&&"small_margins_on_ultrawide"in Page.settings&&Page.settings.small_margins_on_ultrawide&&Site.Settings.reduce_page_margins(),this.old_layout_string!==this.layout_string&&"ultrawide"===this.layout_string?this.Multicols.create():this.old_layout_string!==this.layout_string&&"ultrawide"===this.old_layout_string&&this.Multicols.remove();for(let t=0;t<this.Multicols.texts.length;t++)this.Multicols.texts[t].style.marginLeft=this.Multicols.reference.getBoundingClientRect().left+"px",this.Multicols.image_links[t].style.marginLeft=this.Multicols.reference.getBoundingClientRect().left+"px";this.aspect_ratio<1?Page.Banner.file_name="portrait."+Page.Images.file_extension:Page.Banner.file_name="landscape."+Page.Images.file_extension,this.resize_time=0,this.window_width_step_distance=(this.new_window_height-this.window_height)*(8/300),this.window_height_step_distance=(this.new_window_height-this.window_height)*(8/300);let t=setInterval(()=>{this.resize_step(),this.resize_time>=300&&(clearInterval(t),this.window_width=this.new_window_width,this.window_height=this.new_window_height,Page.Banner.on_scroll(0))},8)},resize_step:function(){this.window_width+=this.window_width_step_distance,this.window_height+=this.window_height_step_distance,this.resize_time+=8,Page.Banner.on_scroll(0)},Multicols:{active:!1,texts:[],image_links:[],reference:null,create:function(){if(this.active)return;this.active=!0;let t=document.querySelectorAll(".multicol-block");if(0!==t.length){this.texts=[],this.image_links=[];for(let e=0;e<t.length;e++)if(t[e].querySelector(".image-links").children.length<=3)if(e<t.length-1&&t[e+1].querySelector(".image-links").children.length<=3){let n=document.createElement("div");n.classList.add("image-links-double-column-container"),t[e].parentNode.insertBefore(n,t[e]),this.reference=t[e].querySelector(".image-links"),n.appendChild(t[e]),n.appendChild(t[e+1]);let o=t[e+1].querySelector(".new-aos-section");o.classList.remove("new-aos-section"),o.classList.add("old-new-aos-section"),e++}else e>=1&&t[e-1].querySelector(".image-links").children.length<=3&&(this.texts.push(t[e].querySelector(".section-text, .heading-text")),this.image_links.push(t[e].querySelector(".image-links")),this.texts[this.texts.length-1].classList.add("multicol-text"),this.texts[this.texts.length-1].style.marginLeft=this.reference.getBoundingClientRect().left+"px",this.image_links[this.image_links.length-1].style.gridRowGap="1.5vw",this.image_links[this.image_links.length-1].style.gridColumnGap="1.5vw",this.image_links[this.image_links.length-1].style.width="62.5vw",this.image_links[this.image_links.length-1].style.marginLeft=this.reference.getBoundingClientRect().left+"px")}},remove:function(){if(!this.active)return;this.active=!1;let t=document.querySelectorAll(".image-links-double-column-container");if(0===t.length)return;for(let t=0;t<this.texts.length;t++)this.texts[t].style.marginLeft="",this.image_links[t].style.width="",this.image_links[t].style.gridRowGap="",this.image_links[t].style.gridColumnGap="",this.image_links[t].style.marginLeft="";this.texts=[],this.image_links=[],this.reference=null;for(let e=0;e<t.length;e++){for(;t[e].firstChild;)t[e].parentNode.insertBefore(t[e].firstChild,t[e]);t[e].remove()}let e=document.querySelectorAll(".old-new-aos-section");for(let t=0;t<e.length;t++)e[t].classList.remove("old-new-aos-section"),e[t].classList.add("new-aos-section")}}},Page.Navigation={currently_changing_page:!1,last_page_scroll:0,redirect:function(t,e=!1,n=!1,o=!1){if(this.currently_changing_page)return;if(e||".pdf"===t.slice(t.length-4))return void window.open(t,"_blank");this.currently_changing_page=!0;let i=window.scrollY;Page.url=t,Page.parent_folder=t.slice(0,t.lastIndexOf("/")+1);let s=document.documentElement.style.backgroundColor;Promise.all([fetch(t),Page.Unload.fade_out(),Page.Banner.load()]).then(t=>{if(t[0].ok)return t[0].text();window.location.replace("/404.html")}).then(t=>{Page.unload(),n?history.replaceState({},document.title,"/index.html"+this.concat_url_vars()):history.pushState({},document.title,"/index.html"+this.concat_url_vars()),document.documentElement.style.overflowY="visible",document.body.style.overflowY="visible",document.body.style.userSelect="auto",document.body.style.WebkitUserSelect="auto",document.body.innerHTML=Page.Components.decode(t),o?(window.scrollTo(0,this.last_page_scroll),Page.Banner.on_scroll(this.last_page_scroll)):(window.scrollTo(0,0),Page.scroll=0),this.last_page_scroll=i,Page.Load.parse_script_tags()}).catch(t=>{console.error(t.message),console.log("Failed to load new page -- reversing fade-out."),this.currently_changing_page=!1,setTimeout(()=>{Page.background_color_changed?setTimeout(()=>{document.documentElement.classList.add("background-transition"),document.body.classList.add("background-transition"),document.documentElement.style.backgroundColor=s,document.body.style.backgroundColor=s,setTimeout(()=>{document.documentElement.classList.remove("background-transition"),document.body.classList.remove("background-transition"),document.body.style.backgroundColor="",setTimeout(()=>{document.body.style.opacity=1},300)},450)},450):document.body.style.opacity=1},300)})},concat_url_vars:function(){let t="?page="+encodeURIComponent(Page.url),e="";for(let n=0;n<Object.keys(Site.Settings.url_vars).length;n++)e=Object.keys(Site.Settings.url_vars)[n],(0!==Site.Settings.url_vars[e]||window.matchMedia("(prefers-color-scheme: dark)").matches&&0===Site.Settings.url_vars.theme&&"theme"===e)&&(t+="&"+e+"="+Site.Settings.url_vars[e]);return t},write_url_vars:function(){history.replaceState({},document.title,window.location.pathname+this.concat_url_vars())}},Page.Unload={fade_out:function(){return new Promise((t,e)=>{try{hide_floating_settings(),document.querySelector("#floating-footer").style.opacity=0,Footer.Floating.is_visible=!1}catch(t){}1===Site.Settings.url_vars.content_animation?(Page.background_color_changed&&(1===Site.Settings.url_vars.theme?1===Site.Settings.url_vars.dark_theme_color?document.documentElement.style.backgroundColor="rgb(0, 0, 0)":document.documentElement.style.backgroundColor="rgb(24, 24, 24)":document.documentElement.style.backgroundColor="rgb(255, 255, 255)"),t()):(document.body.style.opacity=0,setTimeout(()=>{!1===Page.background_color_changed?t():(document.documentElement.classList.add("background-transition"),document.body.classList.add("background-transition"),1===Site.Settings.url_vars.theme?1===Site.Settings.url_vars.dark_theme_color?(document.documentElement.style.backgroundColor="rgb(0, 0, 0)",document.body.style.backgroundColor="rgb(0, 0, 0)"):(document.documentElement.style.backgroundColor="rgb(24, 24, 24)",document.body.style.backgroundColor="rgb(24, 24, 24)"):(document.documentElement.style.backgroundColor="rgb(255, 255, 255)",document.body.style.backgroundColor="rgb(255, 255, 255)"),setTimeout(()=>{document.body.style.backgroundColor="",document.documentElement.classList.remove("background-transition"),document.body.classList.remove("background-transition")},450),t())},300))})}},Page.unload=function(){let t=document.querySelectorAll("style.temporary-style, link.temporary-style, script.temporary-script");for(let e=0;e<t.length;e++)t[e].remove();t=document.querySelectorAll("body > *:not(script)");for(let e=0;e<t.length;e++)t[e].remove();for(let t in Page.temporary_handlers)for(let e=0;e<Page.temporary_handlers[t].length;e++)window.removeEventListener(t,Page.temporary_handlers[t][e]),document.documentElement.removeEventListener(t,Page.temporary_handlers[t][e]);for(let t=0;t<Page.temporary_intervals.length;t++)clearInterval(Page.temporary_intervals[t]);Page.temporary_intervals=[];for(let t=0;t<Page.temporary_web_workers.length;t++)Page.temporary_web_workers[t].terminate();Page.temporary_web_workers=[]},Page.load=async function(){this.Navigation.currently_changing_page=!1,this.Load.parse_custom_style(),this.Load.parse_custom_scripts(),document.querySelector("title").innerHTML=this.settings.title,"title_page_text"in this.settings&&""!==this.settings.title_page_text&&await this.Load.TitleText.prepare(),"no_footer"in this.settings&&this.settings.no_footer||(this.Footer.load(),setTimeout(()=>{this.Footer.Floating.on_scroll()},50)),this.Load.AOS.load(),setTimeout(()=>{this.Load.AOS.on_resize()},1e3),Page.Layout.Multicols.active=!1,Page.Layout.on_resize(),"ultrawide"===this.Layout.layout_string&&this.Layout.Multicols.create(),"no_footer"in this.settings&&this.settings.no_footer||setTimeout(()=>{this.Load.AOS.fix_footer_anchor()},500),this.Load.fade_in(),Page.Images.insert().then(()=>{this.Load.AOS.on_resize()}),Page.Banner.fetch_other_page_banners_in_background(),this.Load.Links.set(),this.Load.Links.disable(),this.Load.HoverEvents.set_up(),this.Load.TextButtons.set_up(),setTimeout(()=>{this.Load.FocusEvents.set_up_weird_elements()},50),Page.background_color_changed=!1,"banner_page"in this.settings&&this.settings.banner_page&&this.Banner.fetch_other_size_in_background(),1===Site.Settings.url_vars.contrast&&Site.Settings.set_img_button_contrast(),"writing_page"in this.settings&&this.settings.writing_page&&1===Site.Settings.url_vars.font&&Site.Settings.set_writing_page_font(),"ultrawide"===this.Layout.layout_string&&"small_margins_on_ultrawide"in this.settings&&this.settings.small_margins_on_ultrawide&&Site.Settings.reduce_page_margins(),1===Site.Settings.url_vars.content_animation&&Site.Settings.remove_animation(),"math_page"in this.settings&&this.settings.math_page&&this.Load.Math.typeset()},Page.Load={parse_script_tags:function(){var t=document.querySelectorAll("script");for(let e=0;e<t.length;e++){let n=document.createElement("script");n.innerHTML=t[e].textContent,document.body.appendChild(n),t[e].remove()}},parse_custom_style:function(){let t=Page.url.split("/");t=(t=(t=t[t.length-1]).split("."))[0];try{fetch(Page.parent_folder+"style/"+t+".css").then(e=>{let n=document.createElement("link");n.setAttribute("rel","stylesheet"),DEBUG?n.setAttribute("href",Page.parent_folder+"style/"+t+".css"):n.setAttribute("href",Page.parent_folder+"style/"+t+".min.css"),n.classList.add("temporary-style"),document.head.insertBefore(n,document.head.firstChild)})}catch(t){}},parse_custom_scripts:function(){let t=Page.url.split("/");t=(t=(t=t[t.length-1]).split("."))[0];try{fetch(Page.parent_folder+"scripts/"+t+".js").then(e=>{let n=document.createElement("script");DEBUG?n.setAttribute("src",Page.parent_folder+"scripts/"+t+".js"):n.setAttribute("src",Page.parent_folder+"scripts/"+t+".min.js"),n.classList.add("temporary-script"),document.body.appendChild(n)})}catch(t){}},fade_in:function(){"banner_page"in Page.settings&&Page.settings.banner_page?(Site.add_style(`\n\t\t\t\t#banner\n\t\t\t\t{\n\t\t\t\t\tbackground: url(${Page.Banner.file_path}landscape.${Page.Images.file_extension}) no-repeat center center;\n\t\t\t\t\tbackground-size: cover;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t@media (max-aspect-ratio: 1/1)\n\t\t\t\t{\n\t\t\t\t\t#banner\n\t\t\t\t\t{\n\t\t\t\t\t\tbackground: url(${Page.Banner.file_path}portrait.${Page.Images.file_extension}) no-repeat center center;\n\t\t\t\t\t\tbackground-size: cover;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`),document.body.style.opacity=1):(document.body.classList.remove("animated-opacity"),document.body.style.opacity=1,document.body.classList.add("animated-opacity"))},TitleText:{canceled:!1,cancel_message_shown:!1,page_ids:{"/teaching/uo/111/111.html":0,"/teaching/uo/112/112.html":1,"/teaching/uo/105/105.html":2,"/teaching/uo/252/252.html":3},prepare:async function(){1===Site.Settings.url_vars.content_animation||Site.Settings.url_vars.title_pages_seen>>this.page_ids[Page.url]&1?(document.querySelector("#vara-container").remove(),document.querySelector("#cancel-vara-text").remove()):(document.body.classList.remove("animated-opacity"),document.body.style.opacity=1,document.body.classList.add("animated-opacity"),await Promise.any([this.show(Page.settings.title_page_text),this.listen_for_click()]),document.documentElement.removeEventListener("mousemove",this.show_cancel_message_no_touch),document.documentElement.removeEventListener("touchmove",this.show_cancel_message_touch),Site.Settings.url_vars.title_pages_seen>>this.page_ids[Page.url]&1||(Site.Settings.url_vars.title_pages_seen+=1<<this.page_ids[Page.url],Page.Navigation.write_url_vars()))},show:function(t){return new Promise((e,n)=>{this.canceled=!1,document.documentElement.style.overflowY="hidden",document.body.style.overflowY="hidden",document.body.style.userSelect="none",document.body.style.WebkitUserSelect="none",document.querySelector("#vara-container").addEventListener("touchmove",t=>{t.preventDefault()}),setTimeout(()=>{let n="black";1===Site.Settings.url_vars.theme&&(n="white"),new Vara("#vara-container",Page.parent_folder+"/vara-font.json",[{text:t,fontSize:Page.settings.title_page_text_size*Page.Layout.window_width/t.length,duration:4e3,strokeWidth:.5,textAlign:"center",color:n}]).animationEnd((t,n)=>{this.canceled||setTimeout(()=>{this.canceled||(document.body.style.opacity=0,setTimeout(()=>{this.canceled||(document.querySelector("#vara-container").remove(),document.querySelector("#cancel-vara-text").remove(),document.documentElement.style.overflowY="visible",document.body.style.overflowY="visible",document.body.style.userSelect="auto",document.body.style.WebkitUserSelect="auto",e())},300))},500)})},300)})},listen_for_click:function(){return new Promise((t,e)=>{document.querySelector("#vara-container").addEventListener("click",()=>{this.canceled=!0,document.body.style.opacity=0,setTimeout(()=>{document.querySelector("#vara-container").remove(),document.querySelector("#cancel-vara-text").remove(),document.documentElement.style.overflowY="visible",document.body.style.overflowY="visible",document.body.style.userSelect="auto",document.body.style.WebkitUserSelect="auto",t()},300)}),setTimeout(()=>{this.cancel_message_shown=!1,document.documentElement.addEventListener("mousemove",this.show_cancel_message_no_touch),document.documentElement.addEventListener("touchmove",this.show_cancel_message_touch)},1e3)})},show_cancel_message_no_touch:function(){if(!this.cancel_message_shown){this.cancel_message_shown=!0;try{document.querySelector("#cancel-vara-text").textContent="Click animation to skip",document.querySelector("#cancel-vara-text").style.opacity=1}catch(t){}}},show_cancel_message_touch:function(){this.cancel_message_shown||(this.cancel_message_shown=!0,document.querySelector("#cancel-vara-text").textContent="Tap animation to skip",document.querySelector("#cancel-vara-text").style.opacity=1)}},AOS:{elements:[],anchor_positions:[],anchor_offsets:[],anchors_shown:[],currently_animating:[],load:function(){this.elements=[];let t=document.querySelectorAll("[data-aos]"),e=0,n=0;for(let o=0;o<t.length;o++)t[o].classList.contains("new-aos-section")?(this.elements.push([]),this.currently_animating.push([]),e++,n=null!==t[o].getAttribute("data-aos-delay")?parseInt(t[o].getAttribute("data-aos-delay")):0,null!==t[o].getAttribute("data-aos-offset")?this.anchor_offsets[e-1]=parseInt(t[o].getAttribute("data-aos-offset")):this.anchor_offsets[e-1]=100,t[o].setAttribute("data-aos-offset",1e6),t[o].setAttribute("data-aos-delay",0),this.elements[e-1].push([t[o],n]),this.anchor_positions[e-1]=t[o].getBoundingClientRect().top+Page.scroll,this.anchors_shown[e-1]=!1):(null!==t[o].getAttribute("data-aos-delay-increase")?(n+=parseInt(t[o].getAttribute("data-aos-delay-increase")))>2e3&&(n=2e3):null!==t[o].getAttribute("data-aos-delay")?n=parseInt(t[o].getAttribute("data-aos-delay")):(n+=100)>2e3&&(n=2e3),t[o].setAttribute("data-aos-offset",1e6),t[o].setAttribute("data-aos-delay",0),this.elements[e-1].push([t[o],n]));this.on_resize(),this.on_scroll()},on_resize:function(){for(let t=0;t<this.elements.length;t++)this.anchor_positions[t]=this.elements[t][0][0].getBoundingClientRect().top+Page.scroll;this.fix_footer_anchor()},fix_footer_anchor:function(){"no_footer"in Page.settings&&Page.settings.no_footer||(this.anchor_positions[this.elements.length-1]=document.body.clientHeight-10)},on_scroll:function(){for(let t=0;t<this.elements.length;t++)Page.scroll+Page.Layout.window_height>=this.anchor_positions[t]+this.anchor_offsets[t]&&!1===this.anchors_shown[t]?this.show_section(t):Page.scroll+Page.Layout.window_height<this.anchor_positions[t]-this.anchor_offsets[t]/2&&!0===this.anchors_shown[t]&&this.hide_section(t)},show_section:function(t){if(1!==Site.Settings.url_vars.content_animation){for(let e=0;e<this.elements[t].length;e++){let n=setTimeout(()=>{this.elements[t][e][0].setAttribute("data-aos-offset",-1e6),AOS.refresh()},this.elements[t][e][1]);this.currently_animating[t].push(n)}this.anchors_shown[t]=!0}},hide_section:function(t){try{for(let e=0;e<this.currently_animating[t].length;e++)clearTimeout(this.currently_animating[t][e])}catch(t){}this.currently_animating[t]=[];for(let e=0;e<this.elements[t].length;e++)this.elements[t][e][0].setAttribute("data-aos-offset",1e6),AOS.refresh();this.anchors_shown[t]=!1}},HoverEvents:{element_selectors:"\n\t\t\ta,\n\t\t\t\n\t\t\t#scroll-button,\n\t\t\t\n\t\t\t.text-button,\n\t\t\t.checkbox-container,\n\t\t\t.radio-button-container,\n\t\t\t\n\t\t\t.footer-button,\n\t\t\t.footer-image-link img,\n\t\t\t#scroll-up-button,\n\t\t\t\n\t\t\t#enter-fullscreen-button,\n\t\t\t#exit-fullscreen-button,\n\t\t\t\n\t\t\t.image-link img,\n\t\t\t\n\t\t\t#logo img,\n\t\t\t\n\t\t\t.nav-button,\n\t\t\t.big-image-horizontal,\n\t\t\t.small-image-horizontal,\n\t\t\t.big-image-vertical,\n\t\t\t.small-image-vertical,\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.root-marker\n\t\t",set_up:function(){let t=document.querySelectorAll(this.element_selectors);for(let e=0;e<t.length;e++)this.add(t[e])},add:function(t){t.addEventListener("mouseenter",()=>{Site.Interaction.currently_touch_device||t.classList.add("hover")}),t.addEventListener("mouseleave",()=>{Site.Interaction.currently_touch_device||(t.classList.remove("hover"),t.blur())})},remove:function(){let t=document.querySelectorAll(this.element_selectors);for(let e=0;e<t.length;e++)t[e].classList.remove("hover")}},FocusEvents:{set_up_weird_elements:function(){let t=document.querySelectorAll(".focus-on-child");for(let e=0;e<t.length;e++)t[e].addEventListener("focus",()=>{t[e].children[0].focus()})}},TextButtons:{set_up:function(){let t=this.equalize.bind(this);window.addEventListener("resize",t),Page.temporary_handlers.resize.push(t),setTimeout(()=>{t()},50),setTimeout(()=>{t()},500)},equalize:function(){let t=document.querySelectorAll(".text-button");for(let e=0;e<t.length;e++)t[e].parentNode.style.margin="0 auto";t=document.querySelectorAll(".linked-text-button");let e=[],n=0,o=[],i=0;for(let s=0;s<t.length;s++)t[s].style.height="fit-content",t[s].style.width="fit-content",e.push(t[s].offsetHeight),e[s]>n&&(n=e[s]),o.push(t[s].offsetWidth),o[s]>i&&(i=o[s]);for(let s=0;s<t.length;s++)e[s]<n?t[s].style.height=n+"px":t[s].style.height="fit-content",o[s]<i?t[s].style.width=i+"px":t[s].style.width="fit-content"}},Links:{set:function(){let t=document.querySelectorAll("a"),e=Page.Navigation.concat_url_vars();for(let n=0;n<t.length;n++){let o=t[n].getAttribute("href");"https"===o.slice(0,5)||"data"===o.slice(0,4)||t[n].parentNode.classList.contains("footer-image-link")||t[n].setAttribute("href","/index.html?page="+encodeURIComponent(o)+e)}},disable:function(){let t=document.querySelectorAll("a:not(.real-link)");for(let e=0;e<t.length;e++)t[e].addEventListener("click",function(t){t.preventDefault()})}},Math:{typeset:function(){Site.scripts_loaded.mathjax?MathJax.typeset():(Site.load_script("https://polyfill.io/v3/polyfill.min.js?features=es6"),Site.load_script("https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js").then(function(){Site.scripts_loaded.mathjax=!0}).catch(function(t){console.error("Could not load MathJax")})),setTimeout(function(){let t=document.querySelectorAll("mjx-container");for(let e=0;e<t.length;e++)t[e].setAttribute("tabindex",-1)},500)}}};let Settings={url_vars:{},texts:{theme:["Theme: light","Theme: dark"],dark_theme_color:["Dark theme color: dark gray","Dark theme color: black"],contrast:["Contrast: normal","Contrast: high"],text_size:["Text size: normal","Text size: large"],font:["Font: always sans serif","Font: serif on writing"],content_animation:["Content animation: enabled","Content animation: disabled"]},dark_theme_background_color:"rgb(24, 24, 24)",dark_theme_background_color_rgba:"rgba(24, 24, 24, ",gradient_suffix:"-0-0",get_url_var:function(t){let e=window.location.search.substring(1).split("&"),n=[];for(let o=0;o<e.length;o++)if((n=e[o].split("="))[0]===t)return n[1];return null},set_up:function(){this.url_vars={theme:this.get_url_var("theme"),dark_theme_color:this.get_url_var("dark_theme_color"),contrast:this.get_url_var("contrast"),text_size:this.get_url_var("text_size"),font:this.get_url_var("font"),content_animation:this.get_url_var("content_animation"),title_pages_seen:this.get_url_var("title_pages_seen")},window.matchMedia("(prefers-color-scheme: dark)").addListener(t=>{t.matches&&1!==this.url_vars.theme?this.toggle_theme():t.matches||1!==this.url_vars.theme||(this.toggle_theme(),1===this.url_vars.dark_theme_color&&setTimeout(()=>{this.toggle_dark_theme_color()},600))}),window.matchMedia("(prefers-color-scheme: dark)").matches&&null===this.url_vars.theme&&(this.url_vars.theme=1),1===this.url_vars.dark_theme_color&&(this.dark_theme_background_color="rgb(0, 0, 0)",this.dark_theme_background_color_rgba="rgba(0, 0, 0, ");for(let t in this.url_vars)null==this.url_vars[t]?this.url_vars[t]=0:1==this.url_vars[t]&&(this.url_vars[t]=0,this.toggle(t,!0));let t=null;1===this.url_vars.theme&&1!==this.url_vars.contrast?t=Site.add_style(this.get_settings_style("dark"),!1):1!==this.url_vars.theme&&1===this.url_vars.contrast?t=Site.add_style(this.get_settings_style("contrast"),!1):1===this.url_vars.theme&&1===this.url_vars.contrast&&(t=Site.add_style(this.get_settings_style("dark_contrast"),!1));try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}},toggle:function(t,e=!1){let n=null;!1!==e||"theme"!==t&&"dark_theme_color"!==t&&"contrast"!==t||(n=Site.add_style("\n\t\t\t\thtml\n\t\t\t\t{\n\t\t\t\t\ttransition: background-color .6s ease !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tp, span, h1, h2, a, q, em, strong, dfn\n\t\t\t\t{\n\t\t\t\t\ttransition: color .6s ease !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box, .checkbox-container, .checkbox-container > input ~ .checkbox, .radio-button-container, .radio-button-container > input ~ .radio-button, .loading-spinner:after, #floating-footer-content, #floating-footer-button-background, .footer-button, .text-button, .nav-button\n\t\t\t\t{\n\t\t\t\t\ttransition: background-color .6s ease, border-color .6s ease, color .6s ease !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.line-break\n\t\t\t\t{\n\t\t\t\t\ttransition: .6s ease !important;\n\t\t\t\t}\n\t\t\t")),"theme"===t?1===this.url_vars.theme&&1!==this.url_vars.dark_theme_color?(this.toggle_dark_theme_color(),e||setTimeout(()=>{try{Page.Footer.Floating.show_settings_text("Theme: black")}catch(t){}},600)):1===this.url_vars.theme&&1===this.url_vars.dark_theme_color?(this.toggle_theme(),e||setTimeout(()=>{this.toggle_dark_theme_color();try{Page.Footer.Floating.show_settings_text("Theme: light")}catch(t){}},600)):(this.toggle_theme(),e||setTimeout(()=>{try{Page.Footer.Floating.show_settings_text("Theme: dark")}catch(t){}},600)):"dark_theme_color"===t?this.toggle_dark_theme_color():"contrast"===t?this.toggle_contrast():"text_size"===t?this.toggle_text_size():"font"===t?this.toggle_font():"content_animation"===t?this.toggle_content_animation():console.log("Unknown setting"),Page.Navigation.write_url_vars(),!1!==e||"theme"!==t&&"dark_theme_color"!==t&&"contrast"!==t||setTimeout(()=>{n.remove()},600)},toggle_theme:function(){0===this.url_vars.theme?("manual_dark_theme"in Page.settings&&Page.settings.manual_dark_theme||(1!==this.url_vars.dark_theme_color?document.documentElement.style.backgroundColor="rgb(24, 24, 24)":document.documentElement.style.backgroundColor="rgb(0, 0, 0)"),1===this.url_vars.contrast?(Page.settings.manual_dark_theme||this.animate_theme_contrast("dark_contrast"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("dark_contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},600)):("manual_dark_theme"in Page.settings&&Page.settings.manual_dark_theme||this.animate_theme_contrast("dark"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("dark"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},600)),this.url_vars.theme=1):("manual_dark_theme"in Page.settings&&Page.settings.manual_dark_theme||(document.documentElement.style.backgroundColor="rgb(255, 255, 255)"),1===this.url_vars.contrast?(Page.settings.manual_dark_theme||this.animate_theme_contrast("contrast"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},600)):("manual_dark_theme"in Page.settings&&Page.settings.manual_dark_theme||this.animate_theme_contrast(""),setTimeout(()=>{try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}this.clear_weird_inline_styles()},600)),this.url_vars.theme=0)},toggle_dark_theme_color:function(){0===this.url_vars.dark_theme_color?(this.dark_theme_background_color="rgb(0, 0, 0)",this.dark_theme_background_color_rgba="rgba(0, 0, 0, ",1===this.url_vars.theme&&(document.documentElement.style.backgroundColor="rgb(0, 0, 0)",1==this.url_vars.contrast?this.animate_theme_contrast("dark_contrast"):this.animate_theme_contrast("dark")),setTimeout(()=>{let t=null;1===this.url_vars.theme?t=1===this.url_vars.contrast?Site.add_style(this.get_settings_style("dark_contrast"),!1):Site.add_style(this.get_settings_style("dark"),!1):1===this.url_vars.contrast&&(t=Site.add_style(this.get_settings_style("contrast"),!1));try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},600),this.url_vars.dark_theme_color=1):(this.dark_theme_background_color="rgb(24, 24, 24)",this.dark_theme_background_color_rgba="rgba(24, 24, 24, ",1===this.url_vars.theme&&(document.documentElement.style.backgroundColor="rgb(24, 24, 24)",1==this.url_vars.contrast?this.animate_theme_contrast("dark_contrast"):this.animate_theme_contrast("dark")),setTimeout(()=>{let t=null;1===this.url_vars.theme?t=1===this.url_vars.contrast?Site.add_style(this.get_settings_style("dark_contrast"),!1):Site.add_style(this.get_settings_style("dark"),!1):1===this.url_vars.contrast&&(t=Site.add_style(this.get_settings_style("contrast"),!1));try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},600),this.url_vars.dark_theme_color=0)},toggle_contrast:function(){0===this.url_vars.contrast?(1===this.url_vars.theme?(this.animate_theme_contrast("dark_contrast"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("dark_contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},600)):(this.animate_theme_contrast("contrast"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},600)),setTimeout(()=>{try{Page.Footer.Floating.show_settings_text("Contrast: high")}catch(t){}},650),this.url_vars.contrast=1):(1===this.url_vars.theme?(this.animate_theme_contrast("dark"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("dark"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},600)):(this.animate_theme_contrast(""),setTimeout(()=>{try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}this.clear_weird_inline_styles()},600)),setTimeout(()=>{try{Page.Footer.Floating.show_settings_text("Contrast: normal")}catch(t){}},650),this.url_vars.contrast=0)},toggle_text_size:function(){document.body.classList.add("animated-opacity"),document.body.style.opacity=0,0===this.url_vars.text_size?(setTimeout(()=>{try{document.querySelector("#text-size-adjust").remove()}catch(t){}Site.add_style("\n\t\t\t\t\thtml\n\t\t\t\t\t{\n\t\t\t\t\t\tfont-size: 18px;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t@media (min-width: 1000px)\n\t\t\t\t\t{\n\t\t\t\t\t\thtml\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfont-size: 22px;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t",!1).id="text-size-adjust",setTimeout(()=>{try{Page.Footer.Floating.show_settings_text("Text size: large")}catch(t){}},300)},300),this.url_vars.text_size=1):(setTimeout(()=>{try{document.querySelector("#text-size-adjust").remove()}catch(t){}setTimeout(()=>{try{Page.Footer.Floating.show_settings_text("Text size: normal")}catch(t){}},300)},300),this.url_vars.text_size=0),setTimeout(()=>{setTimeout(()=>{document.body.style.opacity=1},50)},300)},toggle_font:function(){"writing_page"in Page.settings&&Page.settings.writing_page&&(document.body.style.opacity=0),0===this.url_vars.font?(setTimeout(()=>{"writing_page"in Page.settings&&Page.settings.writing_page&&Page.set_element_styles(".body-text, .heading-text","font-family","'Gentium Book Basic', serif");try{Page.Footer.Floating.show_settings_text("Font: serif on writing")}catch(t){}},300),this.url_vars.font=1):(setTimeout(()=>{"writing_page"in Page.settings&&Page.settings.writing_page&&Page.set_element_styles(".body-text, .heading-text","font-family","'Rubik', sans-serif");try{Page.Footer.Floating.show_settings_text("Font: always sans serif")}catch(t){}},300),this.url_vars.font=0),"writing_page"in Page.settings&&Page.settings.writing_page&&setTimeout(()=>{setTimeout(()=>{document.body.style.opacity=1,Page.Load.AOS.on_resize()},50)},300)},toggle_content_animation:function(){0===this.url_vars.content_animation?(document.body.style.opacity=0,setTimeout(()=>{this.remove_animation(),document.body.classList.add("animated-opacity"),setTimeout(()=>{document.body.style.opacity=1,setTimeout(()=>{document.body.classList.remove("animated-opacity")},300)},50)},300),setTimeout(()=>{try{Page.Footer.Floating.show_settings_text("Content animation: disabled")}catch(t){}},600),this.url_vars.content_animation=1):(this.url_vars.content_animation=0,document.body.classList.add("animated-opacity"),Page.Navigation.last_page_scroll=window.scrollY,Page.Navigation.redirect(Page.url,!1,!0,!0))},set_img_button_contrast:function(){let t=document.querySelectorAll(".nav-button, .scroll-button");for(let e=0;e<t.length;e++)t[e].setAttribute("src",t[e].getAttribute("src").replace("chevron-left","chevron-left-dark").replace("chevron-right","chevron-right-dark").replace("chevron-down","chevron-down-dark"))},set_writing_page_font:function(){Page.set_element_styles(".body-text, .heading-text","font-family","'Gentium Book Basic', serif")},reduce_page_margins:function(){try{document.querySelector("#ultrawide-margin-adjust").remove()}catch(t){}if("ultrawide"===Page.Layout.layout_string){Site.add_style("\n\t\t\t\t.body-text, .nav-buttons, .line-break\n\t\t\t\t{\n\t\t\t\t\twidth: 50vw;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tpre code\n\t\t\t\t{\n\t\t\t\t\twidth: calc(50vw - 24px);\n\t\t\t\t}\n\t\t\t").id="ultrawide-margin-adjust"}},remove_animation:function(){let t=document.body.querySelectorAll("[data-aos]");for(let e=0;e<t.length;e++)t[e].removeAttribute("data-aos")},animate_theme_contrast:function(t){let e="-0-0";""===t?(Page.set_element_styles(".heading-text, .date-text, .title-text","color","rgb(0, 0, 0)"),Page.set_element_styles(".section-text","color","rgb(96, 96, 96)"),Page.set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext, .floating-settings-button-text","color","rgb(127, 127, 127)"),Page.set_element_styles(".body-text .link","color","rgb(127, 192, 127)"),Page.set_element_styles(".quote-text q","color","rgb(176, 176, 176)"),Page.set_element_styles(".quote-attribution","color","rgb(92, 92, 92)"),Page.set_element_styles(".text-box","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".text-box","color","rgb(127, 127, 127)"),Page.set_element_styles(".text-box","border-color","rgb(192, 192, 192)"),Page.set_element_styles(".checkbox-container > input ~ .checkbox","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(127, 127, 127)"),Page.set_element_styles(".radio-button-container > input ~ .radio-button","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(127, 127, 127)"),Page.set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".footer-button, .text-button, .nav-button, .checkbox-container, #output-canvas","border-color","rgb(127, 127, 127)")):"dark"===t?(Page.set_element_styles(".heading-text, .date-text, .title-text","color","rgb(255, 255, 255)"),Page.set_element_styles(".section-text","color","rgb(184, 184, 184)"),Page.set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext, .floating-settings-button-text","color","rgb(152, 152, 152)"),Page.set_element_styles(".body-text .link","color","rgb(152, 216, 152)"),Page.set_element_styles(".quote-text q","color","rgb(104, 104, 104)"),Page.set_element_styles(".quote-attribution","color","rgb(188, 188, 188)"),Page.set_element_styles(".text-box","background-color",this.dark_theme_background_color),Page.set_element_styles(".text-box","color","rgb(152, 152, 152)"),Page.set_element_styles(".text-box","border-color","rgb(88, 88, 88)"),Page.set_element_styles(".checkbox-container > input ~ .checkbox","background-color",this.dark_theme_background_color),Page.set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(152, 152, 152)"),Page.set_element_styles(".radio-button-container > input ~ .radio-button","background-color",this.dark_theme_background_color),Page.set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(152, 152, 152)"),Page.set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color",this.dark_theme_background_color),Page.set_element_styles(".footer-button, .text-button, .nav-button, #output-canvas","border-color","rgb(152, 152, 152)"),e="-1-0"):"contrast"===t?(Page.set_element_styles(".heading-text, .date-text, .title-text","color","rgb(0, 0, 0)"),Page.set_element_styles(".section-text","color","rgb(48, 48, 48)"),Page.set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext, .floating-settings-button-text","color","rgb(64, 64, 64)"),Page.set_element_styles(".body-text .link","color","rgb(64, 128, 64)"),Page.set_element_styles(".quote-text q","color","rgb(88, 88, 88)"),Page.set_element_styles(".quote-attribution","color","rgb(46, 46, 46)"),Page.set_element_styles(".text-box","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".text-box","color","rgb(64, 64, 64)"),Page.set_element_styles(".text-box","border-color","rgb(96, 96, 96)"),Page.set_element_styles(".checkbox-container > input ~ .checkbox","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(64, 64, 64)"),Page.set_element_styles(".radio-button-container > input ~ .radio-button","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(64, 64, 64)"),Page.set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".footer-button, .text-button, .nav-button, #output-canvas","border-color","rgb(64, 64, 64)"),e="-0-1"):"dark_contrast"===t&&(Page.set_element_styles(".heading-text, .date-text, .title-text","color","rgb(255, 255, 255)"),Page.set_element_styles(".section-text","color","rgb(232, 232, 232)"),Page.set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext","color","rgb(216, 216, 216)"),Page.set_element_styles(".body-text .link","color","rgb(216, 255, 216)"),Page.set_element_styles(".floating-settings-button-text","color","rgb(64, 64, 64)"),Page.set_element_styles(".quote-text q","color","rgb(192, 192, 192)"),Page.set_element_styles(".quote-attribution","color","rgb(234, 234, 234)"),Page.set_element_styles(".text-box","background-color",this.dark_theme_background_color),Page.set_element_styles(".text-box","color","rgb(216, 216, 216)"),Page.set_element_styles(".text-box","border-color","rgb(152, 152, 152)"),Page.set_element_styles(".checkbox-container","border-color","rgb(216, 216, 216)"),Page.set_element_styles(".checkbox-container > input ~ .checkbox","background-color",this.dark_theme_background_color),Page.set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(216, 216, 216)"),Page.set_element_styles(".radio-button-container","border-color","rgb(216, 216, 216)"),Page.set_element_styles(".radio-button-container > input ~ .radio-button","background-color",this.dark_theme_background_color),Page.set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(216, 216, 216)"),Page.set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color",this.dark_theme_background_color),Page.set_element_styles(".footer-button, .text-button, .nav-button, #output-canvas","border-color","rgb(152, 152, 152)"),e="-1-1"),Page.set_element_styles(`.line-break${this.gradient_suffix}`,"opacity",0),Page.set_element_styles(`.line-break${e}`,"opacity",1),this.gradient_suffix=e},clear_weird_inline_styles:function(){Page.set_element_styles(".checkbox-container > input ~ .checkbox","background-color",""),Page.set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color",""),Page.set_element_styles(".radio-button-container > input ~ .radio-button","background-color",""),Page.set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color",""),Page.set_element_styles(".text-box","background-color",""),Page.set_element_styles(".text-box","color",""),Page.set_element_styles(".text-box","border-color","")},get_settings_style:function(t){return"dark"===t?`\n\t\t\t\t.heading-text, .date-text, .title-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.section-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(184, 184, 184);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text, .body-text span, .song-lyrics, .image-link-subtext\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text .link\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(152, 216, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.quote-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(104, 104, 104);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.quote-attribution\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(188, 188, 188);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.text-box\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t\t\tborder-color: rgb(88, 88, 88);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.checkbox-container > input ~ .checkbox\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\n\t\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.radio-button-container > input ~ .radio-button\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\n\t\t\t\t.radio-button-container > input:checked ~ .radio-button\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.loading-spinner:after\n\t\t\t\t{\n\t\t\t\t\tborder: 2px solid rgb(152, 152, 152);\n\t\t\t\t\tborder-color: rgb(152, 152, 152) transparent rgb(152, 152, 152) transparent;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t#floating-footer-content, #floating-footer-button-background\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t#banner-gradient, #floating-footer-gradient\n\t\t\t\t{\n\t\t\t\t\tbackground: -moz-linear-gradient(top, ${this.dark_theme_background_color_rgba}0) 0%, ${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t\tbackground: -webkit-linear-gradient(top, ${this.dark_theme_background_color_rgba}0) 0%,${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t\tbackground: linear-gradient(to bottom, ${this.dark_theme_background_color_rgba}0) 0%,${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.footer-button, .text-button, .nav-button, .checkbox-container, #output-canvas\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.line-break-1-0\n\t\t\t\t{\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t`:"contrast"===t?"\n\t\t\t\t.heading-text, .date-text, .title-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(0, 0, 0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.section-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(48, 48, 48);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text, .body-text span, .song-lyrics, .image-link-subtext, .text-button\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text .link\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(64, 128, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.floating-settings-button-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.quote-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(88, 88, 88);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.quote-attribution\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(46, 46, 46);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.text-box\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(255, 255, 255);\n\t\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\t\tborder-color: rgb(96, 96, 96);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(48, 48, 48);\n\t\t\t\t\tcolor: rgb(0, 0, 0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\n\t\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.radio-button-container > input:checked ~ .radio-button\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.loading-spinner:after\n\t\t\t\t{\n\t\t\t\t\tborder: 2px solid rgb(64, 64, 64);\n\t\t\t\t\tborder-color: rgb(64, 64, 64) transparent rgb(64, 64, 64) transparent;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.footer-button, .text-button, .nav-button, .checkbox-container, #output-canvas\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t":"dark_contrast"===t?`\n\t\t\t\t.heading-text, .date-text, .title-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.section-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(232, 232, 232);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text, .body-text span, .song-lyrics, .image-link-subtext\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text .link\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(216, 255, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.floating-settings-button-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.quote-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(192, 192, 192);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.quote-attribution\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(234, 234, 234);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.text-box\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.checkbox-container\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.checkbox-container > input ~ .checkbox\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\n\t\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.radio-button-container\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.radio-button-container > input ~ .radio-button\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\n\t\t\t\t.radio-button-container > input:checked ~ .radio-button\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.loading-spinner:after\n\t\t\t\t{\n\t\t\t\t\tborder: 2px solid rgb(216, 216, 216);\n\t\t\t\t\tborder-color: rgb(216, 216, 216) transparent rgb(216, 216, 216) transparent;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t#floating-footer-content, #floating-footer-button-background\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t#banner-gradient, #floating-footer-gradient\n\t\t\t\t{\n\t\t\t\t\tbackground: -moz-linear-gradient(top, ${this.dark_theme_background_color_rgba}0) 0%, ${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t\tbackground: -webkit-linear-gradient(top, ${this.dark_theme_background_color_rgba}0) 0%,${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t\tbackground: linear-gradient(to bottom, ${this.dark_theme_background_color_rgba}0) 0%,${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.footer-button, .text-button, .nav-button, #output-canvas\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.line-break-1-1\n\t\t\t\t{\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t`:void 0}},DEBUG=!1;Page.scroll=0,Page.settings={},Page.url=decodeURIComponent(Settings.get_url_var("page")),Page.parent_folder="/",Page.temporary_handlers={scroll:[],resize:[],wheel:[],touchstart:[],touchmove:[],touchend:[],mousedown:[],mousemove:[],mouseup:[],keydown:[]},Page.temporary_intervals=[],Page.temporary_web_workers=[],Page.background_color_changed=!1,Page.set_element_styles=function(t,e,n){let o=document.querySelectorAll(t);for(let t=0;t<o.length;t++)o[t].style.setProperty(e,n)};let Site={scripts_loaded:{mathjax:!1,complexjs:!1},load:async function(t){if(Page.Layout.window_width=window.innerWidth,Page.Layout.window_height=window.innerHeight,Page.Layout.aspect_ratio=Page.Layout.window_width/Page.Layout.window_height,window.addEventListener("resize",()=>{Page.Load.AOS.on_resize(),Page.Layout.on_resize()}),Page.Load.AOS.on_resize(),setInterval(()=>{window.dispatchEvent(new Event("resize"))},5e3),Browser.detect(),Site.Interaction.set_up_listeners(),window.addEventListener("scroll",()=>{Page.Banner.on_scroll(0)}),"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.matchMedia("(display-mode: standalone)").matches){document.documentElement.style.WebkitUserSelect="none",document.documentElement.style.userSelect="none",document.documentElement.style.WebkitTouchCallout="none";let t=document.querySelectorAll("body *");for(let e=0;e<t.length;e++)t[e].setAttribute("draggable","false");this.add_style("\n\t\t\t\t#logo, .name-text-container, .empty-top\n\t\t\t\t{\n\t\t\t\t\tmargin-top: 2vh;\n\t\t\t\t}\n\t\t\t",!1)}window.addEventListener("popstate",t=>{let e=Site.Settings.get_url_var("page");null!==e&&decodeURIComponent(e)!==Page.url?Page.Navigation.redirect(decodeURIComponent(e),!1,!0,!0):Page.Navigation.redirect("/home/home.html",!1,!0)}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")}),Page.Banner.ScrollButton.exists=!1,AOS.init({duration:1200,once:!1,offset:Math.min(100,Page.Layout.window_height/10)}),window.addEventListener("scroll",()=>{Page.Load.AOS.on_scroll()}),window.addEventListener("resize",()=>{Page.Load.AOS.on_resize()}),Site.Settings.set_up(),Page.Images.check_webp_support().then(()=>{"html"!==t.substring(t.lastIndexOf(".")+1,t.length)?window.location.href=t:Page.Navigation.redirect(t,!1,!0)})},load_script:function(t){return new Promise((e,n)=>{const o=document.createElement("script");document.body.appendChild(o),o.onload=e,o.onerror=n,o.async=!0,o.src=t})},add_style:function(t,e=!0,n=!1){let o=document.createElement("style");return o.textContent=t,e&&o.classList.add("temporary-style"),n?document.head.insertBefore(o,document.head.firstChild):document.head.appendChild(o),o},Fetch:{queue:[],busy:!1,get_next_item_from_queue:function(){0===this.queue.length||this.busy||(this.busy=!0,console.log("Now fetching "+this.queue[0]),fetch(this.queue[0]).then(()=>{this.busy=!1,this.queue.shift(),this.get_next_item_from_queue()}))}},Interaction:{currently_touch_device:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,last_mousemove_event:0,last_touch_x:0,last_touch_y:0,set_up_listeners:function(){let t=this.handle_touch_event.bind(this);document.documentElement.addEventListener("touchstart",t,!1),document.documentElement.addEventListener("touchmove",t,!1),document.documentElement.addEventListener("mousemove",()=>{if(this.currently_touch_device){let t=Date.now()-this.last_mousemove_event;this.last_mousemove_event=Date.now(),t>=3&&t<=50&&33!==t&&(this.currently_touch_device=!1,Page.Footer.Floating.is_visible||Page.Footer.Floating.animate_in())}}),document.documentElement.addEventListener("keydown",t=>{13===t.keyCode&&(document.activeElement.classList.contains("click-on-child")?document.activeElement.children[0].click():"BUTTON"===document.activeElement.tagName||"INPUT"===document.activeElement.tagName&&"button"!==document.activeElement.getAttribute("type")||document.activeElement.click())}),document.documentElement.addEventListener("mousedown",()=>{document.activeElement.blur()})},handle_touch_event:function(t){this.last_touch_x=t.touches[0].clientX,this.last_touch_y=t.touches[0].clientY,document.activeElement.blur(),this.currently_touch_device||(Page.Load.HoverEvents.remove(),this.currently_touch_device=!0)}},Settings:Settings};