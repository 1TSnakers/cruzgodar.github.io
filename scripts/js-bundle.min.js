"use strict";let Page={},Site={};Page.Animate={change_opacity:function(t,e,n){let o=0,i=-1,a=-1,s=parseFloat(t.style.opacity||0),r=function(l){if(a===l)return;-1===i&&(i=l),a=l,o=l-i;let c=s+Site.bezier_easing(o/n)*(e-s);t.style.opacity=c,o<n?window.requestAnimationFrame(r):t.style.opacity=e};window.requestAnimationFrame(r)},change_scale:function(t,e,n){let o=0,i=-1,a=-1,s=1,r=t.style.transform.indexOf("scale(");if(-1!==r){let e=t.style.transform.indexOf(")",r);-1!==e&&(s=parseFloat(t.style.transform.slice(r+6,e)))}let l=function(r){if(a===r)return;-1===i&&(i=r),a=r,o=r-i;let c=s+Site.bezier_easing(o/n)*(e-s);t.style.transform=`scale(${c})`,o<n?window.requestAnimationFrame(l):t.style.transform=`scale(${e})`};window.requestAnimationFrame(l)}},Page.Banner={done_loading:!1,file_name:"",file_path:"",preloadable_pages:["/home/home.html","/bio/bio.html","/writing/mist/mist.html","/writing/desolation-point/desolation-point.html"],multibanner_pages:{"/home/home.html":{current_banner:Math.floor(16*Math.random()),num_banners:16}},pages_already_fetched:[],load:function(){return new Promise((t,e)=>{this.preloadable_pages.includes(Page.url)?(Page.Layout.aspect_ratio<1?this.file_name="portrait."+Page.Images.file_extension:this.file_name="landscape."+Page.Images.file_extension,this.file_path="",this.multibanner_pages.hasOwnProperty(Page.url)?(this.multibanner_pages[Page.url].current_banner++,this.multibanner_pages[Page.url].current_banner===this.multibanner_pages[Page.url].num_banners+1&&(this.multibanner_pages[Page.url].current_banner=1),this.file_path=Page.parent_folder+"banners/"+this.multibanner_pages[Page.url].current_banner+"/"):this.file_path=Page.parent_folder+"banners/",fetch(this.file_path+this.file_name).then(e=>{let n=new Image;n.onload=(()=>{this.ScrollButton.timeout_id=setTimeout(()=>{this.ScrollButton.insert()},2e3),t()}),n.style.display="hidden",n.style.opacity=0,document.body.appendChild(n),setTimeout(()=>{n.src=this.file_path+this.file_name},20)}).catch(e=>{document.querySelector("#banner").remove(),document.querySelector("#banner-cover").remove(),AOS.init({duration:Site.aos_animation_time,once:!0,offset:Math.min(100,Page.Layout.window_height/10)}),t()})):t()})},on_scroll:function(t){if(0===t?Page.scroll=window.scrollY:(Page.scroll=t,this.done_loading=!1,this.ScrollButton.done_loading=!1),Page.scroll>=0){if(Page.scroll<=Page.Layout.window_height){let t=.5+.5*Math.sin(Math.PI*Math.max(1-Page.scroll/Page.Layout.window_height,0)-Math.PI/2);try{document.querySelector("#banner").style.opacity=t}catch(t){}this.done_loading=0===t}else if(!this.done_loading){try{document.querySelector("#banner").style.opacity=0}catch(t){}this.done_loading=!0}if(Page.scroll<=Page.Layout.window_height/3){let t=.5+.5*Math.sin(Math.PI*Math.max(1-3*Page.scroll/Page.Layout.window_height,0)-Math.PI/2);if(this.ScrollButton.exists)try{document.querySelector("#scroll-button").style.opacity=t}catch(t){}try{Page.set_element_styles(".name-text","opacity",t)}catch(t){}0===t?(this.ScrollButton.exists&&(document.querySelector("#scroll-button").remove(),this.ScrollButton.exists=!1),this.ScrollButton.done_loading=!0):this.ScrollButton.done_loading=!1}else null!==this.ScrollButton.timeout_id&&Page.scroll<=2*Page.Layout.window_height/3?(clearTimeout(this.ScrollButton.timeout_id),this.ScrollButton.timeout_id=null):!1===this.ScrollButton.done_loading&&(Page.set_element_styles(".name-text","opacity",0),this.ScrollButton.exists&&(document.querySelector("#scroll-button").remove(),this.ScrollButton.exists=!1),this.ScrollButton.done_loading=!0)}},fetch_other_size_in_background:function(){"landscape.webp"===this.file_name||"landscape.jpg"===this.file_name?(Site.Fetch.queue.push(this.file_path+"portrait."+Page.Images.file_extension),Site.Fetch.get_next_item_from_queue()):(Site.Fetch.queue.push(this.file_path+"landscape."+Page.Images.file_extension),Site.Fetch.get_next_item_from_queue())},fetch_other_page_banners_in_background:function(){let t=document.querySelectorAll("a");for(let e=0;e<t.length;e++){let n=t[e].getAttribute("href");if(this.preloadable_pages.includes(n)&&!this.pages_already_fetched.includes(n))if(this.multibanner_pages.hasOwnProperty(n)){let t=this.multibanner_pages[n].current_banner%(this.multibanner_pages[n].current_banner+1)+1;Site.Fetch.queue.push(n.slice(0,n.lastIndexOf("/")+1)+"banners/"+t+"/"+this.file_name),Site.Fetch.get_next_item_from_queue()}else this.pages_already_fetched.push(n),Site.Fetch.queue.push(n.slice(0,n.lastIndexOf("/")+1)+"banners/"+this.file_name),Site.Fetch.get_next_item_from_queue()}},ScrollButton:{done_loading:!1,exists:!1,timeout_id:null,insert:function(){let t=.5+.5*Math.sin(Math.PI*Math.max(1-3*Page.scroll/Page.Layout.window_height,0)-Math.PI/2);if(Page.scroll<=Page.Layout.window_height/3){let e="chevron-down";1===Site.Settings.url_vars.contrast&&(e+="-dark");try{document.querySelector("#banner-cover").insertAdjacentHTML("beforebegin",`\n\t\t\t\t\t\t<div id="new-banner-cover" data-aos="fade-down">\n\t\t\t\t\t\t\t<input type="image" id="scroll-button" src="/graphics/general-icons/${e}.png" style="opacity: ${t}" alt="Scroll down" onclick="Page.Banner.ScrollButton.animate_to(document.querySelector('#scroll-to'))">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`),this.exists=!0,setTimeout(()=>{try{Page.Load.HoverEvents.add_with_scale(document.querySelector("#scroll-button"),1.1)}catch(t){}},100),document.querySelector("#banner-cover").remove()}catch(t){}}},animate_to:function(t){t.scrollIntoView({behavior:"smooth"})}}};let Browser={name:"",detect:function(){this.Detector.init(),this.name=this.Detector.browser},Detector:{init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(t){for(let e=0;e<t.length;e++){let n=t[e].string;if(this.versionSearchString=t[e].subString,-1!==n.indexOf(t[e].subString))return t[e].identity}},searchVersion:function(t){let e=t.indexOf(this.versionSearchString);if(-1===e)return;let n=t.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==n?parseFloat(t.substring(n+3)):parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"MS Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}]}};Site.glsl_filenames=["equality","powers","trig","combinatorics","number-theory","gamma","hypergeometric","su3_character","lambert_w","hurwitz_zeta","zeta"],Site.glsl_files={constants:{dependencies:[],keywords:[]},main:{dependencies:[],keywords:[]}},Site.split_glsl_file=function(t,e){e=e.replaceAll("\r","");let n=0;for(;;){let o=e.indexOf("#function",n);if(-1===o)break;let i=e.indexOf("\n",o+10);if(-1===i)return void console.error(`[GLSL bundling] Invalid function name in file ${t}.frag`);let a=e.slice(o+10,i).split(" ");for(let t=0;t<a.length;t++)a[t]=a[t].replaceAll(" ",""),""===a[t]&&(a.splice(t,1),t--);let s=e.indexOf("#endfunction",i+1);if(-1===s)return void console.error(`[GLSL bundling] Missing #endfunction in file ${t}.frag`);Site.glsl_files[a[0]]={keywords:a};let r=e.indexOf("#requires",o);if(-1!==r&&r<s){let t=e.indexOf("\n",r+10),n=e.slice(r+10,t).split(" ");for(let t=0;t<n.length;t++)n[t]=n[t].replaceAll(" ",""),""===n[t]&&(n.splice(t,1),t--);Site.glsl_files[a[0]].dependencies=n,Site.glsl_files[a[0]].content=e.slice(t+1,s)}else Site.glsl_files[a[0]].dependencies=[],Site.glsl_files[a[0]].content=e.slice(i+1,s);n=s+13}},Site.glsl_files_by_depth=[],Site.load_glsl=function(){return new Promise(async(t,e)=>{await new Promise(async(t,e)=>{fetch("/scripts/glsl/constants.frag").then(t=>t.text()).then(t=>this.glsl_files.constants.content=t).then(()=>t())}),await new Promise(async(t,e)=>{fetch("/scripts/glsl/main.frag").then(t=>t.text()).then(t=>this.glsl_files.main.content=t).then(()=>t())});for(let t=0;t<this.glsl_filenames.length;t++)await new Promise(async(e,n)=>{fetch(`/scripts/glsl/${this.glsl_filenames[t]}.frag`).then(t=>t.text()).then(e=>this.split_glsl_file(this.glsl_filenames[t],e)).then(()=>e())});let n=Object.keys(this.glsl_files);for(let t=0;t<n.length;t++)this.glsl_files[n[t]].parents=[];for(let t=0;t<n.length;t++){let e=this.glsl_files[n[t]].dependencies;for(let o=0;o<e.length;o++)this.glsl_files[e[o]].parents.push(n[t]);0===e.length&&"main"!==n[t]&&this.glsl_files.main.parents.push(n[t])}let o=["main"],i=0;for(;0!==o.length;){let t=[];Site.glsl_files_by_depth.push([]);for(let e=0;e<o.length;e++){void 0===this.glsl_files[o[e]].depth?this.glsl_files[o[e]].depth=i:this.glsl_files[o[e]].depth=Math.max(this.glsl_files[o[e]].depth,i);let n=this.glsl_files[o[e]].parents;for(let e=0;e<n.length;e++)t.includes(n[e])||t.push(n[e])}i++,o=t}for(let t=0;t<n.length;t++)Site.glsl_files_by_depth[this.glsl_files[n[t]].depth].push(n[t]);Site.scripts_loaded.glsl=!0,t()})},Site.get_glsl_bundle=function(t){let e=t.match(/[a-zA-Z_][a-zA-Z0-9_]*/g),n="",o=Object.keys(this.glsl_files),i={};for(let t=1;t<o.length;t++)i[o[t]]=!1;i.main=!0;let a="";function s(t,e){if(i[t])return;if(i[t]=!0,DEBUG&&0!==e){a+="\n                     ";for(let t=0;t<e;t++)a+="   ";a+=`â†³ ${t}`}let n=Site.glsl_files[t].dependencies;for(let t=0;t<n.length;t++)s(n[t],e+1)}for(let t=0;t<o.length;t++)if(!i[o[t]])for(let n=0;n<e.length;n++)-1!==Site.glsl_files[o[t]].keywords.indexOf(e[n])&&(a=`[GLSL bundling] Adding ${o[t]}`,s(o[t],0),DEBUG&&console.log(a));n=Site.glsl_files.constants.content+Site.glsl_files.main.content;for(let t=1;t<Site.glsl_files_by_depth.length;t++)for(let e=0;e<Site.glsl_files_by_depth[t].length;e++)i[Site.glsl_files_by_depth[t][e]]&&(n+=Site.glsl_files[Site.glsl_files_by_depth[t][e]].content);return n},Page.Components={need_new_aos_section:!1,get_header:function(t,e){let n="";return e&&(n=' style="margin-bottom: 10vh"'),`\n\t\t\t<header${n}>\n\t\t\t\t<div class="new-aos-section" data-aos="fade-in">\n\t\t\t\t\t<div id="logo">\n\t\t\t\t\t\t<a href="/home/home.html" tabindex="-1">\n\t\t\t\t\t\t\t<img src="/graphics/general-icons/logo.png" alt="Logo" tabindex="1"></img>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div style="height: 2vh"></div>\n\t\t\t\t\n\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t<h1 class="heading-text">${t.join(" ")}</h1>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t\t\n\t\t\t<main>\n\t\t\t\t<section>\n\t\t`},get_footer:function(t){return t?'\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</main>\n\t\t\t\t\t\n\t\t\t\t\t<footer>\n\t\t\t\t\t\t<div id="spawn-footer"></div>\n\t\t\t\t\t</footer>\n\t\t\t\t</div>\n\t\t\t':'\n\t\t\t\t\t</section>\n\t\t\t\t</main>\n\t\t\t\t\n\t\t\t\t<footer>\n\t\t\t\t\t<div id="spawn-footer"></div>\n\t\t\t\t</footer>\n\t\t\t'},get_section:function(){return"\n\t\t\t</section>\n\t\t\t\n\t\t\t<section>\n\t\t"},get_text:function(t,e){let n="";if(this.need_new_aos_section&&(n=' class="new-aos-section"',this.need_new_aos_section=!1),"h"===t[0]){return`\n\t\t\t\t<div${n} data-aos="fade-up">\n\t\t\t\t\t<h1 class="heading-text">\n\t\t\t\t\t\t${t.slice(1).join(" ")}\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\n\t\t\t`}if("s"===t[0]){return`\n\t\t\t\t<div${n} data-aos="fade-up">\n\t\t\t\t\t<h2 class="section-text">\n\t\t\t\t\t\t${t.slice(1).join(" ")}\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t`}{let e=t.slice(2).join(" ");return"j"===t[1]?`\n\t\t\t\t\t<div${n} data-aos="fade-up">\n\t\t\t\t\t\t<p class="body-text">\n\t\t\t\t\t\t\t${e}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<br>\n\t\t\t\t`:`\n\t\t\t\t\t<div${n} data-aos="fade-up">\n\t\t\t\t\t\t<p class="body-text center-if-needed">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t${e}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t`}},get_image_link:function(t){let e=t[0];"/"!==e[0]&&(e=Page.parent_folder+t[0]);let n="",o="";"l"===t[1]?(o=" image-link-light",n=t.slice(2).join(" ")):n=t.slice(1).join(" ");let i=t[0].split(".")[0].split("/");i=i[i.length-1];let a=`${e.slice(0,e.lastIndexOf("/")+1)}cover.${Page.Images.file_extension}`;return`\n\t\t\t<div class="image-link${o}" data-aos="fade-up">\n\t\t\t\t<a href="${e}" tabindex="-1">\n\t\t\t\t\t<img data-image-id="${i}" src="${a}" alt="${n}" tabindex="1"></img>\n\t\t\t\t</a>\n\t\t\t\t\n\t\t\t\t<p class="image-link-subtext">${n}</p>\n\t\t\t</div>\n\t\t`},get_banner:function(){return'\n\t\t\t<div id="banner"></div>\n\t\t\t\n\t\t\t<div id="banner-gradient"></div>\n\n\t\t\t<div id="banner-cover"></div>\n\n\t\t\t<div id="content">\n\t\t\t\t<div id="scroll-to"></div>\n\t\t\t\t\n\t\t\t\t<div style="height: 5vh"></div>\n\t\t'},get_about_page_version:function(t){let e="medium-version",n="section-text",o=t[0].split(".");3===o.length?(e="minor-version",n="body-text"):"0"===o[1]&&(e="major-version",n="heading-text");let i=t.slice(1).join(" "),a=(i=i.split(":"))[1].slice(1);if(3===i.length){let o=i[2];i=i[0];let s=["January","February","March","April","May","June","July","August","September","October","November","December"],r=o.split("-"),l=parseInt(r[0]),c=s[parseInt(r[1])-1],d=parseInt(r[2]);return`\n\t\t\t\t<div class="${e}">\n\t\t\t\t\t<div class="new-aos-section" data-aos="fade-up">\n\t\t\t\t\t\t<h2 class="${n}">${t[0]}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t\t<h2 class="${n}">${i}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<br>\n\t\t\t\t\t\n\t\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t\t<p class="body-text center-if-needed"><span>${a}</span></p>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<br>\n\t\t\t\t\t\n\t\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t\t<p class="body-text center-if-needed">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<time datetime="${o}">${c} ${d}, ${l}</time>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`}return i=i[0],`\n\t\t\t\t<div class="${e}">\n\t\t\t\t\t<div class="new-aos-section" data-aos="fade-up">\n\t\t\t\t\t\t<h2 class="${n}">${t[0]}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t\t<h2 class="${n}">${i}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<br>\n\t\t\t\t\t\n\t\t\t\t\t<div data-aos="fade-up">\n\t\t\t\t\t\t<p class="body-text center-if-needed"><span>${a}</span></p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`},get_text_box:function(t){return`\n\t\t\t<div class="text-box-container" data-aos="fade-up">\n\t\t\t\t<input id="${t[0]}-input" class="text-box" type="text" value="${t[1]}" tabindex="1">\n\t\t\t\t<p class="body-text">${t.slice(2).join(" ")}</p>\n\t\t\t</div>\n\t\t`},get_text_button:function(t){let e=t[0],n=t.slice(1).join(" "),o="";return"l"===t[1]&&(o=" linked-text-button",n=t.slice(2).join(" ")),`\n\t\t\t<div class="focus-on-child" data-aos="zoom-out" tabindex="1">\n\t\t\t\t<button class="text-button${o}" type="button" id="${e}-button" tabindex="-1">${n}</button>\n\t\t\t</div>\n\t\t`},get_checkbox:function(t){return`\n\t\t\t<div class="checkbox-row">\n\t\t\t\t<div data-aos="zoom-out">\n\t\t\t\t\t<div class="checkbox-container click-on-child" tabindex="1">\n\t\t\t\t\t\t<input type="checkbox" id="${t[0]}-checkbox">\n\t\t\t\t\t\t<div class="checkbox"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div style="margin-left: 10px" data-aos="fade-left">\n\t\t\t\t\t<p class="body-text">${t.slice(1).join(" ")}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`},get_radio_button:function(t){return`\n\t\t\t<div class="radio-button-row">\n\t\t\t\t<div data-aos="zoom-out">\n\t\t\t\t\t<div class="radio-button-container click-on-child" tabindex="1">\n\t\t\t\t\t\t<input type="radio" name="${t[0]}" id="${t[1]}-radio-button">\n\t\t\t\t\t\t<div class="radio-button"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div style="margin-left: 10px" data-aos="fade-left">\n\t\t\t\t\t<p class="body-text">${t.slice(2).join(" ")}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`},get_slider:function(t){let e=t[0];return`\n\t\t\t<div class="slider-container" data-aos="fade-up">\n\t\t\t\t<input id="${e}-slider" type="range" min="0" max="10000" value="${t[1]}" tabindex="1">\n\t\t\t\t<label for="${e}-slider">\n\t\t\t\t\t<p class="body-text">${t.slice(2).join(" ")}: <span id="${e}-slider-value">0</span></p>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t`},get_dropdown:function(t){let e="",n=t[0];e+=`<div class="focus-on-child" data-aos="zoom-out" tabindex="1">\n\t\t\t\t<button class="text-button dropdown" type="button" id="${n}-dropdown-button" tabindex="-1">`;for(let o=1;o<t.length;o++){let i=t[o][0],a=t[o].slice(1).join(" ");1===o&&(e+=`${a}</button><select id="${n}-dropdown">`),e+=`<option value="${i}">${a}</option>`}return e+="</select></div></div>"},get_canvas:function(){return'\n\t\t\t<div data-aos="fade-up">\n\t\t\t\t<canvas id="output-canvas" class="output-canvas"></canvas>\n\t\t\t</div>\n\t\t'},get_iframe:function(t){return`\n\t\t\t<div data-aos="fade-up" style="width: 100%; display: flex; justify-content: center">\n\t\t\t\t<iframe src="${t}" width="500" height="500"></iframe>\n\t\t\t</div>\n\t\t`},get_line_break:function(){return'\n\t\t\t<div class="line-break line-break-0-0"></div>\n\t\t\t<div class="line-break line-break-1-0"></div>\n\t\t\t<div class="line-break line-break-0-1"></div>\n\t\t\t<div class="line-break line-break-1-1"></div>\n\t\t'},decode:function(t){let e=!1,n=t.replace(/\t/g,"").replace(/    /g,"").replace(/\r/g,"").split("\n");for(let t=0;t<n.length;t++)if("!"===n[t][0]){let o=n[t].split(" ");if("!begin-text-block"===o[0]){for(n[t]="";"!end-text-block"!==o[0];)if(2!==n[t+=2].length||"$"!==n[t][0]||"$"!==n[t][1])o=n[t].split(" "),n[t]=this.get_text(["b","j"].concat(o));else{for(n[t]='<div data-aos="fade-up"><p class="body-text">$$',t++;2!==n[t].length||"$"!==n[t][0]||"$"!==n[t][1];)t++;n[t]="$$</p></div>"}n[t]=""}else if("!begin-image-links"===o[0]){for(n[t]='<div class="image-links">',o=n[t+=2].split(" ");"!end-image-links"!==o[0];)n[t]=this.get_image_link(o),o=n[t+=2].split(" ");n[t]="</div>"}else if("!section"===o[0])this.need_new_aos_section=!0,n[t]=this.get_section();else if("!text"===o[0])n[t]=this.get_text(o.slice(1),!1);else if("!banner"===o[0])e=!0,n[t]=this.get_banner();else if("!footer"===o[0])n[t]=this.get_footer(e);else if("!header"===o[0])n[t]=this.get_header(o.slice(1),e);else if("!version"===o[0])n[t]=this.get_about_page_version(o.slice(1));else if("!begin-text-boxes"===o[0]){for(n[t]='<div class="text-boxes">',o=n[t+=2].split(" ");"!end-text-boxes"!==o[0];)n[t]=this.get_text_box(o),o=n[t+=2].split(" ");n[t]="</div>"}else if("!begin-text-buttons"===o[0]){n[t]='<div class="text-buttons">';let e=!0;for(o=n[t+=2].split(" ");"!end-text-buttons"!==o[0];)n[t]=this.get_text_button(o,e),o=n[t+=2].split(" "),e=!1;n[t]="</div>"}else if("!begin-sliders"===o[0]){for(n[t]='<div class="sliders">',o=n[t+=2].split(" ");"!end-sliders"!==o[0];)n[t]=this.get_slider(o),o=n[t+=2].split(" ");n[t]="</div>"}else if("!begin-dropdown"===o[0]){n[t]='<div class="text-buttons">',o=n[t+=2].split(" ");let e=[];for(;"!end-dropdown"!==o[0];)e.push(o),n[t]="",o=n[t+=2].split(" ");n[t]=`${this.get_dropdown(e)}`}else if("!begin-def"===o[0]){for(n[t]='<div class="notes-def" data-aos="fade-in">',o=[`<span class="notes-def-title">Definition: ${n[t+=2]}</span>`],n[t]=this.get_text(["b","j"].concat(o));"!end-def"!==o[0];)if(2!==n[t+=2].length||"$"!==n[t][0]||"$"!==n[t][1])o=n[t].split(" "),n[t]=this.get_text(["b","j"].concat(o));else{for(n[t]='<div data-aos="fade-up"><p class="body-text">$$',t++;2!==n[t].length||"$"!==n[t][0]||"$"!==n[t][1];)t++;n[t]="$$</p></div>"}n[t]="</div>"}else if("!begin-example"===o[0]){for(n[t]='<div class="notes-example" data-aos="fade-in">',o=[`<span class="notes-example-title">Example: ${n[t+=2]}</span>`],n[t]=this.get_text(["b","j"].concat(o));"!end-example"!==o[0];)if(2!==n[t+=2].length||"$"!==n[t][0]||"$"!==n[t][1])o=n[t].split(" "),n[t]=this.get_text(["b","j"].concat(o));else{for(n[t]='<div data-aos="fade-up"><p class="body-text">$$',t++;2!==n[t].length||"$"!==n[t][0]||"$"!==n[t][1];)t++;n[t]="$$</p></div>"}n[t]="</div>"}else if("!begin-prop"===o[0]){for(n[t]='<div class="notes-prop" data-aos="fade-in">',o=[`<span class="notes-prop-title">Proposition: ${n[t+=2]}</span>`],n[t]=this.get_text(["b","j"].concat(o));"!end-prop"!==o[0];)if(2!==n[t+=2].length||"$"!==n[t][0]||"$"!==n[t][1])o=n[t].split(" "),n[t]=this.get_text(["b","j"].concat(o));else{for(n[t]='<div data-aos="fade-up"><p class="body-text">$$',t++;2!==n[t].length||"$"!==n[t][0]||"$"!==n[t][1];)t++;n[t]="$$</p></div>"}n[t]="</div>"}else if("!begin-thm"===o[0]){for(n[t]='<div class="notes-thm" data-aos="fade-in">',o=[`<span class="notes-thm-title">Theorem: ${n[t+=2]}</span>`],n[t]=this.get_text(["b","j"].concat(o));"!end-thm"!==o[0];)if(2!==n[t+=2].length||"$"!==n[t][0]||"$"!==n[t][1])o=n[t].split(" "),n[t]=this.get_text(["b","j"].concat(o));else{for(n[t]='<div data-aos="fade-up"><p class="body-text">$$',t++;2!==n[t].length||"$"!==n[t][0]||"$"!==n[t][1];)t++;n[t]="$$</p></div>"}n[t]="</div>"}else if("!begin-proof"===o[0]){for(n[t]='<div class="notes-proof" data-aos="fade-in"><span class="notes-proof-title">Proof</span>';"!end-proof"!==o[0];)if(2!==n[t+=2].length||"$"!==n[t][0]||"$"!==n[t][1])o=n[t].split(" "),n[t]=this.get_text(["b","j"].concat(o));else{for(n[t]='<div data-aos="fade-up"><p class="body-text">$$',t++;2!==n[t].length||"$"!==n[t][0]||"$"!==n[t][1];)t++;n[t]="$$</p></div>"}n[t]="</div>"}else if("!begin-comment"===o[0]){for(n[t]='<div class="notes-comment" data-aos="fade-in"><span class="notes-comment-title">Comment</span><p></p><br>';"!end-comment"!==o[0];)if(2!==n[t+=2].length||"$"!==n[t][0]||"$"!==n[t][1])o=n[t].split(" "),n[t]=this.get_text(["b","j"].concat(o));else{for(n[t]='<div data-aos="fade-up"><p class="body-text">$$',t++;2!==n[t].length||"$"!==n[t][0]||"$"!==n[t][1];)t++;n[t]="$$</p></div>"}n[t]="</div>"}else if("!begin-cor"===o[0]){for(n[t]='<div class="notes-cor" data-aos="fade-in">',o=[`<span class="notes-cor-title">Corollary: ${n[t+=2]}</span>`],n[t]=this.get_text(["b","j"].concat(o));"!end-cor"!==o[0];)if(2!==n[t+=2].length||"$"!==n[t][0]||"$"!==n[t][1])o=n[t].split(" "),n[t]=this.get_text(["b","j"].concat(o));else{for(n[t]='<div data-aos="fade-up"><p class="body-text">$$',t++;2!==n[t].length||"$"!==n[t][0]||"$"!==n[t][1];)t++;n[t]="$$</p></div>"}n[t]="</div>"}else if("!begin-lemma"===o[0]){for(n[t]='<div class="notes-lemma" data-aos="fade-in">',o=[`<span class="notes-lemma-title">Lemma: ${n[t+=2]}</span>`],n[t]=this.get_text(["b","j"].concat(o));"!end-lemma"!==o[0];)if(2!==n[t+=2].length||"$"!==n[t][0]||"$"!==n[t][1])o=n[t].split(" "),n[t]=this.get_text(["b","j"].concat(o));else{for(n[t]='<div data-aos="fade-up"><p class="body-text">$$',t++;2!==n[t].length||"$"!==n[t][0]||"$"!==n[t][1];)t++;n[t]="$$</p></div>"}n[t]="</div>"}else if("!begin-axiom"===o[0]){for(n[t]='<div class="notes-axiom" data-aos="fade-in">',o=[`<span class="notes-axiom-title">Axiom: ${n[t+=2]}</span>`],n[t]=this.get_text(["b","j"].concat(o));"!end-axiom"!==o[0];)if(2!==n[t+=2].length||"$"!==n[t][0]||"$"!==n[t][1])o=n[t].split(" "),n[t]=this.get_text(["b","j"].concat(o));else{for(n[t]='<div data-aos="fade-up"><p class="body-text">$$',t++;2!==n[t].length||"$"!==n[t][0]||"$"!==n[t][1];)t++;n[t]="$$</p></div>"}n[t]="</div>"}else if("!begin-exercise"===o[0]){for(n[t]='<div class="notes-exercise" data-aos="fade-in">',o=[`<span class="notes-exercise-title">Exercise: ${n[t+=2]}</span>`],n[t]=this.get_text(["b","j"].concat(o));"!end-exercise"!==o[0];)if(2!==n[t+=2].length||"$"!==n[t][0]||"$"!==n[t][1])o=n[t].split(" "),n[t]=this.get_text(["b","j"].concat(o));else{for(n[t]='<div data-aos="fade-up"><p class="body-text">$$',t++;2!==n[t].length||"$"!==n[t][0]||"$"!==n[t][1];)t++;n[t]="$$</p></div>"}n[t]="</div>"}else"!checkbox"===o[0]?n[t]=this.get_checkbox(o.slice(1)):"!radio-button"===o[0]?n[t]=this.get_radio_button(o.slice(1)):"!canvas"===o[0]?n[t]=this.get_canvas():"!iframe"===o[0]?n[t]=this.get_iframe(o.slice(1)):"!line-break"===o[0]&&(n[t]=this.get_line_break())}return t=n.join("\n")}},Page.Footer={load:function(){let t=Site.aos_separation_time,e=Page.Navigation.concat_url_vars();if(document.querySelector("#spawn-footer").insertAdjacentHTML("beforebegin",'\n\t\t\t<div style="position: relative">\n\t\t\t\t<div class="new-aos-section" data-aos="fade-in" data-aos-offset="0" style="position: absolute; bottom: 5px"></div>\n\t\t\t</div>\n\t\t'),"footer_exclusion"in Page.settings&&""!==Page.settings.footer_exclusion?document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t\t\t<nav class="footer-image-links"></nav>\n\t\t\t'):document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t\t\t<nav class="footer-image-links footer-image-links-big"></nav>\n\t\t\t'),!("footer_exclusion"in Page.settings&&"gallery"===Page.settings.footer_exclusion)){let n=document.createElement("div");document.querySelector(".footer-image-links").appendChild(n),n.outerHTML=`\n\t\t\t\t<div id="gallery-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t\t<a class="focus-on-child" href="index.html?page=%2Fgallery%2Fgallery.html${e}" tabindex="-1">\n\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/gallery/gallery.html')" src="/gallery/cover.${Page.Images.file_extension}" alt="Gallery" tabindex="2"></img>\n\t\t\t\t\t</a>\n\t\t\t\t\t\n\t\t\t\t\t<p class="footer-image-link-subtext">Gallery</p>\n\t\t\t\t</div>\n\t\t\t`,t+=Site.aos_separation_time}if(!("footer_exclusion"in Page.settings&&"applets"===Page.settings.footer_exclusion)){let n=document.createElement("div");document.querySelector(".footer-image-links").appendChild(n),n.outerHTML=`\n\t\t\t\t<div id="applets-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t\t<a class="focus-on-child" href="index.html?page=%2Fapplets%2Fapplets.html${e}" tabindex="-1">\n\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/applets/applets.html')" src="/applets/cover.${Page.Images.file_extension}" alt="Applets" tabindex="2"></img>\n\t\t\t\t\t</a>\n\t\t\t\t\t\n\t\t\t\t\t<p class="footer-image-link-subtext">Applets</p>\n\t\t\t\t</div>\n\t\t\t`,t+=Site.aos_separation_time}if(!("footer_exclusion"in Page.settings&&"writing"===Page.settings.footer_exclusion)){let n=document.createElement("div");document.querySelector(".footer-image-links").appendChild(n),n.outerHTML=`\n\t\t\t\t<div id="writing-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t\t<a href="/index.html?page=%2Fwriting%2Fwriting.html${e}" tabindex="-1">\n\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/writing/writing.html')" src="/writing/cover.${Page.Images.file_extension}" alt="Writing" tabindex="2"></img>\n\t\t\t\t\t</a>\n\t\t\t\t\t\n\t\t\t\t\t<p class="footer-image-link-subtext">Writing</p>\n\t\t\t\t</div>\n\t\t\t`,t+=Site.aos_separation_time}if(!("footer_exclusion"in Page.settings&&"teaching"===Page.settings.footer_exclusion)){let n=document.createElement("div");document.querySelector(".footer-image-links").appendChild(n),n.outerHTML=`\n\t\t\t\t<div id="teaching-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t\t<a class="focus-on-child" href="/index.html?page=%2Fteaching%2Fteaching.html${e}" tabindex="-1">\n\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/teaching/teaching.html')" src="/teaching/cover.${Page.Images.file_extension}" alt="Teaching" tabindex="2"></img>\n\t\t\t\t\t</a>\n\t\t\t\t\t\n\t\t\t\t\t<p class="footer-image-link-subtext">Teaching</p>\n\t\t\t\t</div>\n\t\t\t`,t+=Site.aos_separation_time}if(!("footer_exclusion"in Page.settings&&"bio"===Page.settings.footer_exclusion)){let n=document.createElement("div");document.querySelector(".footer-image-links").appendChild(n),n.outerHTML=`\n\t\t\t\t<div id="bio-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0">\n\t\t\t\t\t<a class="focus-on-child" href="/index.html?page=%2Fbio%2Fbio.html${e}" tabindex="-1">\n\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/bio/bio.html')" src="/bio/cover.${Page.Images.file_extension}" alt="Me" tabindex="2"></img>\n\t\t\t\t\t</a>\n\t\t\t\t\t\n\t\t\t\t\t<p class="footer-image-link-subtext">Me</p>\n\t\t\t\t</div>\n\t\t\t`,t+=Site.aos_separation_time}document.body.clientHeight<Page.Layout.window_height&&document.querySelector("#spawn-footer").insertAdjacentHTML("beforebegin",`\n\t\t\t\t<div style="height: ${Page.Layout.window_height-document.body.clientHeight}px"></div>\n\t\t\t`),setTimeout(()=>{let t=document.querySelectorAll("#gallery-link img, #applets-link img, #writing-link img, #teaching-link img, #bio-link img");for(let e=0;e<t.length;e++)t[e].addEventListener("mouseenter",()=>{Site.Interaction.currently_touch_device||(t[e].parentNode.parentNode.lastElementChild.style.marginTop="-32px",t[e].parentNode.parentNode.lastElementChild.style.opacity=1)}),t[e].addEventListener("mouseleave",()=>{Site.Interaction.currently_touch_device||(t[e].parentNode.parentNode.lastElementChild.style.marginTop=0,t[e].parentNode.parentNode.lastElementChild.style.opacity=0)})},10),this.Floating.load(),Page.scroll>0&&window.scrollTo(0,Page.scroll)},Floating:{is_visible:!1,last_scroll:-1,scroll_direction:0,current_offset:-43.75,currently_animating:!1,menu_is_open:!1,image_links_is_open:!1,settings_is_open:!1,timeout_id_1:null,timeout_id_2:null,load:function(){let t=document.createElement("footer");t.id="floating-footer",document.body.insertBefore(t,document.body.firstChild);let e="";DEBUG&&(e='\n\t\t\t\t\t<div id="debug-button" class="footer-menu-button focus-on-child" tabindex="104">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/bug.png" alt="Debug" onclick="Page.Navigation.redirect(\'/debug/debug.html\')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t'),t.innerHTML=`\n\t\t\t\t<div class="footer-buttons">\n\t\t\t\t\t<div id="show-footer-menu-button" class="footer-menu-button focus-on-child" tabindex="100">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/chevron.png" alt="Options" onclick="Page.Footer.Floating.show_menu()" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t${e}\n\t\t\t\t\t\n\t\t\t\t\t<div id="about-button" class="footer-menu-button focus-on-child" tabindex="103">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/question.png" alt="About" onclick="Page.Navigation.redirect('/about/about.html')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="sitemap-button" class="footer-menu-button focus-on-child" tabindex="102">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/sitemap.png" alt="Options" onclick="Page.Footer.Floating.show_image_links()" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="settings-button" class="footer-menu-button focus-on-child" tabindex="101">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/gear.png" alt="Options" onclick="Page.Footer.Floating.show_settings()" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<div id="floating-footer-gallery-link" class="image-link footer-menu-image-link" style="width: 39px; position: absolute; left: -40px; bottom: 6.25px">\n\t\t\t\t\t\t<a href="/gallery/gallery.html" tabindex="-1">\n\t\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/gallery/gallery.html')" src="/gallery/cover.${Page.Images.file_extension}" alt="Gallery" tabindex="1"></img>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="floating-footer-applets-link" class="image-link footer-menu-image-link" style="width: 39px; position: absolute; left: -40px; bottom: 55.25px">\n\t\t\t\t\t\t<a href="/applets/applets.html" tabindex="-1">\n\t\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/applets/applets.html')" src="/applets/cover.${Page.Images.file_extension}" alt="Applets" tabindex="1"></img>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="floating-footer-writing-link" class="image-link footer-menu-image-link" style="width: 39px; position: absolute; left: -40px; bottom: 104.25px">\n\t\t\t\t\t\t<a href="/writing/writing.html" tabindex="-1">\n\t\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/writing/writing.html')" src="/writing/cover.${Page.Images.file_extension}" alt="Writing" tabindex="1"></img>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="floating-footer-teaching-link" class="image-link footer-menu-image-link" style="width: 39px; position: absolute; left: -40px; bottom: 153.25px">\n\t\t\t\t\t\t<a href="/teaching/teaching.html" tabindex="-1">\n\t\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/teaching/teaching.html')" src="/teaching/cover.${Page.Images.file_extension}" alt="Teaching" tabindex="1"></img>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="floating-footer-bio-link" class="image-link footer-menu-image-link" style="width: 39px; position: absolute; left: -40px; bottom: 202.25px">\n\t\t\t\t\t\t<a href="/bio/bio.html" tabindex="-1">\n\t\t\t\t\t\t\t<img onclick="Page.Navigation.redirect('/bio/bio.html')" src="/bio/cover.${Page.Images.file_extension}" alt="Me" tabindex="1"></img>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<p id="settings-text" class="body-text" style="opacity: 0"></p>\n\t\t\t\t\t\n\t\t\t\t\t<div id="content-animation-button" class="footer-menu-button focus-on-child" tabindex="101">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/pop.png" alt="Content animation" onclick="Site.Settings.toggle('content_animation')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="font-button" class="footer-menu-button focus-on-child" tabindex="101">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/font.png" alt="Font" onclick="Site.Settings.toggle('font')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="text-size-button" class="footer-menu-button focus-on-child" tabindex="101">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/text-size.png" alt="Text size" onclick="Site.Settings.toggle('text_size')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="contrast-button" class="footer-menu-button focus-on-child" tabindex="102">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/contrast.png" alt="Contrast" onclick="Site.Settings.toggle('contrast')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div id="theme-button" class="footer-menu-button focus-on-child" tabindex="103">\n\t\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/moon.png" alt="About" onclick="Site.Settings.toggle('theme')" tabindex="-1">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,setTimeout(()=>{let t=document.querySelectorAll(".footer-menu-button, .footer-menu-image-link");for(let e=0;e<t.length;e++)Page.Load.HoverEvents.add_with_scale(t[e],1.1)},Site.opacity_animation_time/6),this.last_scroll=window.scrollY,Site.Interaction.currently_touch_device||(this.current_offset=6.25,this.is_visible=!0),document.querySelector("#show-footer-menu-button").style.bottom=`${this.current_offset}px`;let n=this.on_scroll.bind(this);window.addEventListener("scroll",n),Page.temporary_handlers.scroll.push(n)},on_scroll:function(){if(!Site.Interaction.currently_touch_device||this.currently_animating||window.scrollY>document.body.scrollHeight-Page.Layout.window_height)return;if(this.last_scroll<=0)return void(this.last_scroll=window.scrollY);let t=window.scrollY,e=t-this.last_scroll;e=e>0&&window.scrollY>document.body.scrollHeight-Page.Layout.window_height-150?-e:e>0?Math.max(2,Math.min(e,10)):Math.max(-10,Math.min(e,-2)),e*=(Math.cos(2*Math.PI*(this.current_offset+43.75)/50+Math.PI)+1.33)/2.33,this.last_scroll=t,this.current_offset-=e,this.current_offset<-43.75&&(this.current_offset=-43.75,this.is_visible=!1),this.current_offset>6.25&&(this.current_offset=6.25,this.is_visible=!0),document.querySelector("#show-footer-menu-button").style.bottom=`${this.current_offset}px`},animate_in:function(){if(!this.currently_animating){this.currently_animating=!0,this.current_offset=6.25;try{document.querySelector("#show-footer-menu-button").style.opacity=0,document.querySelector("#show-footer-menu-button").style.transform="scale(1.2)",document.querySelector("#show-footer-menu-button").style.bottom="6.25px",setTimeout(()=>{document.querySelector("#show-footer-menu-button").style.transition="opacity .6s ease-out, transform .6s ease-out",document.querySelector("#show-footer-menu-button").style.opacity=1,document.querySelector("#show-footer-menu-button").style.transform="scale(1)",this.is_visible=!0,setTimeout(()=>{document.querySelector("#show-footer-menu-button").style.transition="opacity .3s ease",this.current_offset=6.25,this.last_scroll=-1,this.currently_animating=!1},2*Site.opacity_animation_time)},10)}catch(t){}}},show_menu:function(){document.querySelector("#settings-button").style.left="10px",document.querySelector("#show-footer-menu-button").style.opacity=0,setTimeout(()=>{document.querySelector("#sitemap-button").style.left="10px",setTimeout(()=>{document.querySelector("#about-button").style.left="10px",DEBUG?setTimeout(()=>{document.querySelector("#debug-button").style.left="10px",this.menu_is_open=!0},Site.opacity_animation_time/6):this.menu_is_open=!0},Site.opacity_animation_time/6)},Site.opacity_animation_time/6);let t=this.hide_menu.bind(this);document.documentElement.addEventListener("touchstart",t),document.documentElement.addEventListener("touchmove",t),document.documentElement.addEventListener("mousedown",t),Page.temporary_handlers.touchstart.push(t),Page.temporary_handlers.touchmove.push(t),Page.temporary_handlers.mousedown.push(t)},hide_menu:function(t){if(!this.menu_is_open)return;let e=0,n=0;try{e=t.clientX,n=t.clientY}catch(t){}try{e=t.touches[0].clientX,n=t.touches[0].clientY}catch(t){}document.elementFromPoint(e,n).parentNode.classList.contains("footer-menu-button")||(document.querySelector("#settings-button").style.left="-40px",this.image_links_is_open||(document.querySelector("#show-footer-menu-button").style.opacity=1),setTimeout(()=>{document.querySelector("#sitemap-button").style.left="-40px",setTimeout(()=>{document.querySelector("#about-button").style.left="-40px",DEBUG?setTimeout(()=>{document.querySelector("#debug-button").style.left="-40px",this.menu_is_open=!1},Site.opacity_animation_time/6):this.menu_is_open=!1,setTimeout(()=>{document.querySelector("#settings-button").style.opacity=1,document.querySelector("#sitemap-button").style.opacity=1,document.querySelector("#about-button").style.opacity=1,DEBUG&&(document.querySelector("#debug-button").style.opacity=1)},Site.opacity_animation_time)},Site.opacity_animation_time/6)},Site.opacity_animation_time/6))},show_image_links:function(){document.querySelector("#floating-footer-gallery-link").style.left="10px",document.querySelector("#settings-button").style.opacity=0,setTimeout(()=>{document.querySelector("#floating-footer-applets-link").style.left="10px",document.querySelector("#sitemap-button").style.opacity=0,setTimeout(()=>{document.querySelector("#floating-footer-writing-link").style.left="10px",document.querySelector("#about-button").style.opacity=0,setTimeout(()=>{document.querySelector("#floating-footer-teaching-link").style.left="10px",setTimeout(()=>{document.querySelector("#floating-footer-bio-link").style.left="10px",this.image_links_is_open=!0,setTimeout(()=>{this.hide_menu()},Site.opacity_animation_time)},Site.opacity_animation_time/6)},Site.opacity_animation_time/6)},Site.opacity_animation_time/6)},Site.opacity_animation_time/6);let t=this.hide_image_links.bind(this);document.documentElement.addEventListener("touchstart",t),document.documentElement.addEventListener("touchmove",t),document.documentElement.addEventListener("mousedown",t),Page.temporary_handlers.touchstart.push(t),Page.temporary_handlers.touchmove.push(t),Page.temporary_handlers.mousedown.push(t)},hide_image_links:function(t){if(!this.image_links_is_open)return;let e=0,n=0;try{e=t.clientX,n=t.clientY}catch(t){}try{e=t.touches[0].clientX,n=t.touches[0].clientY}catch(t){}document.elementFromPoint(e,n).parentNode.parentNode.classList.contains("footer-menu-image-link")||(document.querySelector("#floating-footer-gallery-link").style.left="-40px",setTimeout(()=>{document.querySelector("#floating-footer-applets-link").style.left="-40px",document.querySelector("#show-footer-menu-button").style.opacity=1,setTimeout(()=>{document.querySelector("#floating-footer-writing-link").style.left="-40px",setTimeout(()=>{document.querySelector("#floating-footer-teaching-link").style.left="-40px",setTimeout(()=>{document.querySelector("#floating-footer-bio-link").style.left="-40px",this.image_links_is_open=!1},Site.opacity_animation_time/6)},Site.opacity_animation_time/6)},Site.opacity_animation_time/6)},Site.opacity_animation_time/6))},show_settings:function(){document.querySelector("#theme-button").style.left="10px",document.querySelector("#settings-button").style.opacity=0,setTimeout(()=>{document.querySelector("#contrast-button").style.left="10px",document.querySelector("#sitemap-button").style.opacity=0,setTimeout(()=>{document.querySelector("#text-size-button").style.left="10px",document.querySelector("#about-button").style.opacity=0,setTimeout(()=>{document.querySelector("#font-button").style.left="10px",setTimeout(()=>{document.querySelector("#content-animation-button").style.left="10px",this.settings_is_open=!0,setTimeout(()=>{this.hide_menu()},Site.opacity_animation_time)},Site.opacity_animation_time/6)},Site.opacity_animation_time/6)},Site.opacity_animation_time/6)},Site.opacity_animation_time/6);let t=this.hide_settings.bind(this);document.documentElement.addEventListener("touchstart",t),document.documentElement.addEventListener("touchmove",t),document.documentElement.addEventListener("mousedown",t),Page.temporary_handlers.touchstart.push(t),Page.temporary_handlers.touchmove.push(t),Page.temporary_handlers.mousedown.push(t)},hide_settings:function(t){if(!this.settings_is_open)return;let e=0,n=0;try{e=t.clientX,n=t.clientY}catch(t){}try{e=t.touches[0].clientX,n=t.touches[0].clientY}catch(t){}document.elementFromPoint(e,n).parentNode.classList.contains("footer-menu-button")||(document.querySelector("#theme-button").style.left="-40px",document.querySelector("#show-footer-menu-button").style.opacity=1,setTimeout(()=>{document.querySelector("#contrast-button").style.left="-40px",setTimeout(()=>{document.querySelector("#text-size-button").style.left="-40px",setTimeout(()=>{document.querySelector("#font-button").style.left="-40px",setTimeout(()=>{document.querySelector("#content-animation-button").style.left="-40px",this.settings_is_open=!1},Site.opacity_animation_time/6)},Site.opacity_animation_time/6)},Site.opacity_animation_time/6)},Site.opacity_animation_time/6))},show_settings_text:function(t){Page.set_element_styles(".settings-text-container","opacity","0"),Page.set_element_styles(".settings-text-container","transform","scale(.9)");let e=document.createElement("div");e.classList.add("settings-text-container"),document.body.appendChild(e);let n=document.createElement("p");n.classList.add("settings-text"),n.classList.add("body-text"),n.textContent=t,e.appendChild(n),setTimeout(()=>{e.style.opacity=1,e.style.transform="scale(1.0)",setTimeout(()=>{e.style.opacity=0,e.style.transform="scale(.9)",setTimeout(()=>{e.remove()},2*Site.opacity_animation_time)},8*Site.opacity_animation_time)},10)}}},Page.Images={webp_support:null,file_extension:"",check_webp_support:function(){return new Promise((t,e)=>{Site.load_script("/scripts/modernizr-webp.min.js").then(()=>{Modernizr.on("webp",e=>{e?(this.webp_support=!0,this.file_extension="webp"):(this.webp_support=!1,this.file_extension="jpg"),t()})}).catch(e=>{console.error("Could not load Modernizr"),this.webp_support=!1,this.file_extension="jpg",t()})})},add_extensions:function(){let t=document.querySelectorAll(".check-webp");for(let e=0;e<t.length;e++)t[e].src+=this.file_extension}},Page.Layout={layout_string:"",old_layout_string:"",window_width:0,window_height:0,aspect_ratio:1,new_window_width:0,new_window_height:0,window_width_step_distance:0,window_height_step_distance:0,resize_time:0,on_resize:function(){this.new_window_width=window.innerWidth,this.new_window_height=window.innerHeight,this.aspect_ratio=this.new_window_width/this.new_window_height,this.old_layout_string=this.layout_string,this.new_window_width/this.new_window_height<9/16||this.new_window_width<=700?this.layout_string="compact":this.new_window_width/this.new_window_height>16/9||this.new_window_width>=1400?this.layout_string="ultrawide":this.layout_string="default",this.old_layout_string!==this.layout_string&&"small_margins_on_ultrawide"in Page.settings&&Page.settings.small_margins_on_ultrawide&&Site.Settings.reduce_page_margins(),this.old_layout_string!==this.layout_string&&"ultrawide"===this.layout_string?this.Multicols.create():this.old_layout_string!==this.layout_string&&"ultrawide"===this.old_layout_string&&this.Multicols.remove(),this.aspect_ratio>1&&!this.AppletColumns.are_equalized?setTimeout(this.AppletColumns.equalize,100):this.aspect_ratio<1&&this.AppletColumns.are_equalized&&setTimeout(this.AppletColumns.remove,100);for(let t=0;t<this.Multicols.texts.length;t++)this.Multicols.texts[t].style.marginLeft=this.Multicols.reference.getBoundingClientRect().left+"px",this.Multicols.image_links[t].style.marginLeft=this.Multicols.reference.getBoundingClientRect().left+"px";let t=document.querySelectorAll("iframe");for(let e=0;e<t.length;e++)t[e].style.height=`${t[e].offsetWidth-8}px`;this.aspect_ratio<1?Page.Banner.file_name="portrait."+Page.Images.file_extension:Page.Banner.file_name="landscape."+Page.Images.file_extension,this.resize_time=0,this.window_width_step_distance=(this.new_window_height-this.window_height)*(8/Site.opacity_animation_time),this.window_height_step_distance=(this.new_window_height-this.window_height)*(8/Site.opacity_animation_time);let e=setInterval(()=>{this.resize_step(),this.resize_time>=Site.opacity_animation_time&&(clearInterval(e),this.window_width=this.new_window_width,this.window_height=this.new_window_height,Page.Banner.on_scroll(0))},8)},resize_step:function(){this.window_width+=this.window_width_step_distance,this.window_height+=this.window_height_step_distance,this.resize_time+=8,Page.Banner.on_scroll(0)},Multicols:{active:!1,texts:[],image_links:[],reference:null,create:function(){if(this.active)return;this.active=!0;let t=document.querySelectorAll(".multicol-block");if(0!==t.length){this.texts=[],this.image_links=[];for(let e=0;e<t.length;e++)if(t[e].querySelector(".image-links").children.length<=3)if(e<t.length-1&&t[e+1].querySelector(".image-links").children.length<=3){let n=document.createElement("div");n.classList.add("image-links-double-column-container"),t[e].parentNode.insertBefore(n,t[e]),this.reference=t[e].querySelector(".image-links"),n.appendChild(t[e]),n.appendChild(t[e+1]);let o=t[e+1].querySelector(".new-aos-section");o.classList.remove("new-aos-section"),o.classList.add("old-new-aos-section"),e++}else e>=1&&t[e-1].querySelector(".image-links").children.length<=3&&(this.texts.push(t[e].querySelector(".section-text, .heading-text")),this.image_links.push(t[e].querySelector(".image-links")),this.texts[this.texts.length-1].classList.add("multicol-text"),this.texts[this.texts.length-1].style.marginLeft=this.reference.getBoundingClientRect().left+"px",this.image_links[this.image_links.length-1].style.gridRowGap="1.5vw",this.image_links[this.image_links.length-1].style.gridColumnGap="1.5vw",this.image_links[this.image_links.length-1].style.width="62.5vw",this.image_links[this.image_links.length-1].style.marginLeft=this.reference.getBoundingClientRect().left+"px")}},remove:function(){if(!this.active)return;this.active=!1;let t=document.querySelectorAll(".image-links-double-column-container");if(0===t.length)return;for(let t=0;t<this.texts.length;t++)this.texts[t].style.marginLeft="",this.image_links[t].style.width="",this.image_links[t].style.gridRowGap="",this.image_links[t].style.gridColumnGap="",this.image_links[t].style.marginLeft="";this.texts=[],this.image_links=[],this.reference=null;for(let e=0;e<t.length;e++){for(;t[e].firstChild;)t[e].parentNode.insertBefore(t[e].firstChild,t[e]);t[e].remove()}let e=document.querySelectorAll(".old-new-aos-section");for(let t=0;t<e.length;t++)e[t].classList.remove("old-new-aos-section"),e[t].classList.add("new-aos-section")}},AppletColumns:{are_equalized:!1,equalize:function(){let t=null,e=null;try{t=document.querySelector("#canvas-landscape-left"),e=document.querySelector("#canvas-landscape-right")}catch(t){}if(null===t||null===e)return;let n=[],o=t.children.length,i=e.children.length;for(let e=0;e<o;e++)n.push(t.children[e]);for(let t=0;t<i;t++)n.push(e.children[t]);let a=[n[0].clientHeight];for(let t=1;t<n.length;t++)a.push(a[t-1]+n[t].clientHeight);let s=1/0,r=0;if(n.length>1)for(let t=0;t<n.length;t++){let e=Math.abs(a[t]-(a[a.length-1]-a[t]));e<s&&(s=e,r=t+1)}if(r<o){for(let e=r;e<o;e++)t.children[e].classList.add("move-to-right");let n=document.querySelectorAll(".move-to-right");for(let t=n.length-1;t>=0;t--)e.insertBefore(n[t],e.firstElementChild)}else{for(let t=0;t<r-o;t++)e.children[t].classList.add("move-to-left");let n=document.querySelectorAll(".move-to-left");for(let e=0;e<n.length;e++)t.appendChild(n[e])}this.are_equalized=!0},remove:function(){let t=null,e=null;try{t=document.querySelector("#canvas-landscape-left"),e=document.querySelector("#canvas-landscape-right")}catch(t){}if(null===t||null===e)return;let n=document.querySelectorAll(".move-to-left");for(let t=n.length-1;t>=0;t--)e.insertBefore(n[t],e.firstElementChild),n[t].classList.remove("move-to-left");n=document.querySelectorAll(".move-to-right");for(let e=0;e<n.length;e++)t.appendChild(n[e]),n[e].classList.remove("move-to-right");this.are_equalized=!1}}};let DEBUG=!1;Page.scroll=0,Page.settings={},Page.parent_folder="/",Page.temporary_handlers={scroll:[],resize:[],wheel:[],touchstart:[],touchmove:[],touchend:[],mousedown:[],mousemove:[],mouseup:[],keydown:[]},Page.temporary_intervals=[],Page.temporary_web_workers=[],Page.background_color_changed=!1,Page.set_element_styles=function(t,e,n,o=!1){let i=document.querySelectorAll(t),a=o?"important":"";for(let t=0;t<i.length;t++)i[t].style.setProperty(e,n,a)},Site.scripts_loaded={mathjax:!1,complexjs:!1,glsl:!1},Site.last_pages=[],Site.base_animation_time=250,Site.applet_process_id=0,Site.load=async function(t){if(this.aos_separation_time=this.base_animation_time/5,this.button_animation_time=this.base_animation_time/2,this.opacity_animation_time=this.base_animation_time,this.background_color_animation_time=2*this.base_animation_time,this.aos_animation_time=4*this.base_animation_time,Page.Layout.window_width=window.innerWidth,Page.Layout.window_height=window.innerHeight,Page.Layout.aspect_ratio=Page.Layout.window_width/Page.Layout.window_height,window.addEventListener("resize",()=>{Page.Load.AOS.on_resize(),Page.Layout.on_resize()}),Page.Load.AOS.on_resize(),setInterval(()=>{window.dispatchEvent(new Event("resize"))},5e3),Browser.detect(),Site.Interaction.set_up_listeners(),window.addEventListener("scroll",()=>{Page.Banner.on_scroll(0)}),"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.matchMedia("(display-mode: standalone)").matches){document.documentElement.style.WebkitUserSelect="none",document.documentElement.style.userSelect="none",document.documentElement.style.WebkitTouchCallout="none";let t=document.querySelectorAll("body *");for(let e=0;e<t.length;e++)t[e].setAttribute("draggable","false");this.add_style("\n\t\t\t#logo, .name-text-container, .empty-top\n\t\t\t{\n\t\t\t\tmargin-top: 2vh;\n\t\t\t}\n\t\t",!1)}window.addEventListener("popstate",t=>{if(-1!==window.location.href.indexOf("#"))return;let e=Site.last_pages.length-1;-1!==e&&Site.last_pages[e]!==Page.url?Page.Navigation.redirect(Site.last_pages.pop(),!1,!0,!0):Page.Navigation.redirect("/home/home.html",!1,!0)}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")}),Page.Banner.ScrollButton.exists=!1,AOS.init({duration:Site.aos_animation_time,once:!0,offset:Math.min(100,Page.Layout.window_height/10)}),window.addEventListener("scroll",()=>{Page.Load.AOS.on_scroll()}),window.addEventListener("resize",()=>{Page.Load.AOS.on_resize()}),Site.Settings.set_up(),Site.load_glsl(),Page.Images.check_webp_support().then(()=>{"html"!==t.substring(t.lastIndexOf(".")+1,t.length)?window.location.href=t:Page.Navigation.redirect(t,!1,!0)})},Site.load_script=function(t,e=!1){return new Promise((n,o)=>{const i=document.createElement("script");e&&i.setAttribute("type","module"),document.body.appendChild(i),i.onload=n,i.onerror=o,i.async=!0,i.src=t})},Site.add_style=function(t,e=!0,n=!1){let o=document.createElement("style");return o.textContent=t,e&&o.classList.add("temporary-style"),n?document.head.insertBefore(o,document.head.firstChild):document.head.appendChild(o),o},Site.Fetch={queue:[],busy:!1,get_next_item_from_queue:function(){0===this.queue.length||this.busy||(this.busy=!0,console.log("Now fetching "+this.queue[0]),fetch(this.queue[0]).then(()=>{this.busy=!1,this.queue.shift(),this.get_next_item_from_queue()}))}},Site.Interaction={currently_touch_device:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,last_mousemove_event:0,last_touch_x:0,last_touch_y:0,set_up_listeners:function(){let t=this.handle_touch_event.bind(this);document.documentElement.addEventListener("touchstart",t,!1),document.documentElement.addEventListener("touchmove",t,!1),document.documentElement.addEventListener("mousemove",()=>{if(this.currently_touch_device){let t=Date.now()-this.last_mousemove_event;this.last_mousemove_event=Date.now(),t>=3&&t<=50&&33!==t&&(this.currently_touch_device=!1,Page.Footer.Floating.is_visible||Page.Footer.Floating.animate_in())}}),document.documentElement.addEventListener("keydown",t=>{13===t.keyCode&&(document.activeElement.classList.contains("click-on-child")?document.activeElement.children[0].click():"BUTTON"===document.activeElement.tagName||"INPUT"===document.activeElement.tagName&&"button"!==document.activeElement.getAttribute("type")||document.activeElement.click())}),document.documentElement.addEventListener("mousedown",()=>{"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName&&document.activeElement.blur()})},handle_touch_event:function(t){this.last_touch_x=t.touches[0].clientX,this.last_touch_y=t.touches[0].clientY,"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName&&document.activeElement.blur(),this.currently_touch_device||(Page.Load.HoverEvents.remove(),this.currently_touch_device=!0)}},Page.Navigation={currently_changing_page:!1,last_page_scroll:0,redirect:function(t,e=!1,n=!1,o=!1){if(this.currently_changing_page)return;if(e||".html"!==t.slice(t.length-5))return void window.open(t,"_blank");this.currently_changing_page=!0;let i=window.scrollY;Site.applet_process_id++,n||Site.last_pages.push(Page.url),Page.url=t,Page.parent_folder=t.slice(0,t.lastIndexOf("/")+1);let a=document.documentElement.style.backgroundColor;Promise.all([fetch(t),Page.Unload.fade_out(),Page.Banner.load()]).then(t=>{if(t[0].ok)return t[0].text();window.location.replace("/404.html")}).then(e=>{Page.unload(),n?history.replaceState({},document.title,t+this.concat_url_vars()):history.pushState({},document.title,t+this.concat_url_vars()),document.documentElement.style.overflowY="visible",document.body.style.overflowY="visible",document.body.style.userSelect="auto",document.body.style.WebkitUserSelect="auto",document.body.innerHTML=Page.Components.decode(e),o?(window.scrollTo(0,this.last_page_scroll),Page.Banner.on_scroll(this.last_page_scroll)):(window.scrollTo(0,0),Page.scroll=0),this.last_page_scroll=i,Page.Load.parse_script_tags()}).catch(t=>{console.error(t.message),console.log("Failed to load new page -- reversing fade-out."),this.currently_changing_page=!1,setTimeout(()=>{Page.background_color_changed?setTimeout(()=>{document.documentElement.classList.add("background-transition"),document.body.classList.add("background-transition"),document.documentElement.style.backgroundColor=a,document.body.style.backgroundColor=a,setTimeout(()=>{document.documentElement.classList.remove("background-transition"),document.body.classList.remove("background-transition"),document.body.style.backgroundColor="",setTimeout(()=>{Page.Animate.change_opacity(document.body,1,Site.opacity_animation_time)},Site.opacity_animation_time)},Site.background_color_animation_time)},Site.background_color_animation_time):Page.Animate.change_opacity(document.body,1,Site.opacity_animation_time)},Site.opacity_animation_time)})},concat_url_vars:function(){let t="",e="",n=!1;for(let o=0;o<Object.keys(Site.Settings.url_vars).length;o++)e=Object.keys(Site.Settings.url_vars)[o],(0!==Site.Settings.url_vars[e]||window.matchMedia("(prefers-color-scheme: dark)").matches&&0===Site.Settings.url_vars.theme&&"theme"===e)&&(n?t+="&"+e+"="+Site.Settings.url_vars[e]:(t+="?"+e+"="+Site.Settings.url_vars[e],n=!0));return t},write_url_vars:function(){history.replaceState({},document.title,window.location.pathname+this.concat_url_vars())}},Page.Unload={fade_out:function(){return new Promise((t,e)=>{1===Site.Settings.url_vars.content_animation?(Page.background_color_changed&&(1===Site.Settings.url_vars.theme?1===Site.Settings.url_vars.dark_theme_color?document.documentElement.style.backgroundColor="rgb(0, 0, 0)":document.documentElement.style.backgroundColor="rgb(24, 24, 24)":document.documentElement.style.backgroundColor="rgb(255, 255, 255)"),t()):(Page.Animate.change_opacity(document.body,0,Site.opacity_animation_time),setTimeout(()=>{!1===Page.background_color_changed?t():(document.documentElement.classList.add("background-transition"),document.body.classList.add("background-transition"),1===Site.Settings.url_vars.theme?1===Site.Settings.url_vars.dark_theme_color?(document.documentElement.style.backgroundColor="rgb(0, 0, 0)",document.body.style.backgroundColor="rgb(0, 0, 0)"):(document.documentElement.style.backgroundColor="rgb(24, 24, 24)",document.body.style.backgroundColor="rgb(24, 24, 24)"):(document.documentElement.style.backgroundColor="rgb(255, 255, 255)",document.body.style.backgroundColor="rgb(255, 255, 255)"),setTimeout(()=>{document.body.style.backgroundColor="",document.documentElement.classList.remove("background-transition"),document.body.classList.remove("background-transition")},Site.background_color_animation_time),t())},Site.opacity_animation_time))})}},Page.unload=function(){let t=document.querySelectorAll("style.temporary-style, link.temporary-style, script.temporary-script");for(let e=0;e<t.length;e++)t[e].remove();t=document.querySelectorAll("body > *:not(script)");for(let e=0;e<t.length;e++)t[e].remove();for(let t in Page.temporary_handlers)for(let e=0;e<Page.temporary_handlers[t].length;e++)window.removeEventListener(t,Page.temporary_handlers[t][e]),document.documentElement.removeEventListener(t,Page.temporary_handlers[t][e]);for(let t=0;t<Page.temporary_intervals.length;t++)clearInterval(Page.temporary_intervals[t]);Page.temporary_intervals=[];for(let t=0;t<Page.temporary_web_workers.length;t++)Page.temporary_web_workers[t].terminate();Page.temporary_web_workers=[]},Page.load=async function(){this.Navigation.currently_changing_page=!1,this.Load.parse_custom_style(),this.Load.parse_custom_scripts(),document.querySelector("title").innerHTML=this.settings.title,"title_page_text"in this.settings&&""!==this.settings.title_page_text&&await this.Load.TitleText.prepare(),"no_footer"in this.settings&&this.settings.no_footer||(this.Footer.load(),setTimeout(()=>{this.Footer.Floating.on_scroll()},50)),this.Load.AOS.load(),setTimeout(()=>{this.Load.AOS.on_resize()},1e3),Page.Layout.Multicols.active=!1,Page.Layout.on_resize(),"ultrawide"===this.Layout.layout_string&&this.Layout.Multicols.create(),this.Layout.AppletColumns.are_equalized=!1,this.Layout.aspect_ratio>1&&this.Layout.AppletColumns.equalize();let t=document.querySelectorAll("select");for(let e=0;e<t.length;e++){let n=t[e].previousElementSibling;n.innerHTML=`${t[e].querySelector(`[value=${t[e].value}]`).textContent}  <span style="font-size: 12px">&#x25BC;</span>`,n.parentNode.parentNode.style.gridTemplateColumns="repeat(auto-fit, 100%)",t[e].addEventListener("input",()=>{n.innerHTML=`${t[e].querySelector(`[value=${t[e].value}]`).textContent}  <span style="font-size: 12px">&#x25BC;</span>`})}"no_footer"in this.settings&&this.settings.no_footer||setTimeout(()=>{this.Load.AOS.fix_footer_anchor()},500),this.Load.fade_in(),this.Images.add_extensions(),this.Load.AOS.on_resize(),Page.Banner.fetch_other_page_banners_in_background(),this.Load.Links.set(),this.Load.Links.disable(),this.Load.HoverEvents.set_up(),this.Load.TextButtons.set_up(),setTimeout(()=>{this.Load.FocusEvents.set_up_weird_elements()},50),Page.background_color_changed=!1,Site.Settings.handle_theme_revert(),"banner_page"in this.settings&&this.settings.banner_page&&this.Banner.fetch_other_size_in_background(),1===Site.Settings.url_vars.contrast&&Site.Settings.set_img_button_contrast(),"writing_page"in this.settings&&this.settings.writing_page&&1===Site.Settings.url_vars.font&&Site.Settings.set_writing_page_font(),"ultrawide"===this.Layout.layout_string&&"small_margins_on_ultrawide"in this.settings&&this.settings.small_margins_on_ultrawide&&Site.Settings.reduce_page_margins(),1===Site.Settings.url_vars.content_animation&&Site.Settings.remove_animation(),"math_page"in this.settings&&this.settings.math_page&&this.Load.Math.typeset()},Page.Load={parse_script_tags:function(){var t=document.querySelectorAll("script");for(let e=0;e<t.length;e++){let n=document.createElement("script");n.innerHTML=t[e].textContent,document.body.appendChild(n),t[e].remove()}},parse_custom_style:function(){let t=Page.url.split("/");t=(t=(t=t[t.length-1]).split("."))[0];try{fetch(Page.parent_folder+"style/"+t+".css").then(e=>{let n=document.createElement("link");n.setAttribute("rel","stylesheet"),DEBUG?n.setAttribute("href",Page.parent_folder+"style/"+t+".css"):n.setAttribute("href",Page.parent_folder+"style/"+t+".min.css"),n.classList.add("temporary-style"),document.head.insertBefore(n,document.head.firstChild)})}catch(t){}},parse_custom_scripts:function(){let t=Page.url.split("/");t=(t=(t=t[t.length-1]).split("."))[0];try{fetch(Page.parent_folder+"scripts/"+t+".js").then(e=>{let n=document.createElement("script");DEBUG?n.setAttribute("src",Page.parent_folder+"scripts/"+t+".js"):n.setAttribute("src",Page.parent_folder+"scripts/"+t+".min.js"),n.classList.add("temporary-script"),document.body.appendChild(n)})}catch(t){}},fade_in:function(){"banner_page"in Page.settings&&Page.settings.banner_page&&Site.add_style(`\n\t\t\t\t#banner\n\t\t\t\t{\n\t\t\t\t\tbackground: url(${Page.Banner.file_path}landscape.${Page.Images.file_extension}) no-repeat center center;\n\t\t\t\t\tbackground-size: cover;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t@media (max-aspect-ratio: 1/1)\n\t\t\t\t{\n\t\t\t\t\t#banner\n\t\t\t\t\t{\n\t\t\t\t\t\tbackground: url(${Page.Banner.file_path}portrait.${Page.Images.file_extension}) no-repeat center center;\n\t\t\t\t\t\tbackground-size: cover;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`),Page.Animate.change_opacity(document.body,1,Site.opacity_animation_time)},TitleText:{canceled:!1,cancel_message_shown:!1,page_ids:{"/teaching/uo/111/111.html":0,"/teaching/uo/112/112.html":1,"/teaching/uo/105/105.html":2,"/teaching/uo/252/252.html":3},prepare:async function(){1===Site.Settings.url_vars.content_animation||Site.Settings.url_vars.title_pages_seen>>this.page_ids[Page.url]&1?(document.querySelector("#vara-container").remove(),document.querySelector("#cancel-vara-text").remove()):(Page.Animate.change_opacity(document.body,1,Site.opacity_animation_time),await Promise.any([this.show(Page.settings.title_page_text),this.listen_for_click()]),document.documentElement.removeEventListener("mousemove",this.show_cancel_message_no_touch),document.documentElement.removeEventListener("touchmove",this.show_cancel_message_touch),Site.Settings.url_vars.title_pages_seen>>this.page_ids[Page.url]&1||(Site.Settings.url_vars.title_pages_seen+=1<<this.page_ids[Page.url],Page.Navigation.write_url_vars()))},show:function(t){return new Promise((e,n)=>{this.canceled=!1,document.documentElement.style.overflowY="hidden",document.body.style.overflowY="hidden",document.body.style.userSelect="none",document.body.style.WebkitUserSelect="none",document.querySelector("#vara-container").addEventListener("touchmove",t=>{t.preventDefault()}),setTimeout(()=>{let n="black";1===Site.Settings.url_vars.theme&&(n="white"),new Vara("#vara-container",Page.parent_folder+"/vara-font.json",[{text:t,fontSize:Page.settings.title_page_text_size*Page.Layout.window_width/t.length,duration:4e3,strokeWidth:.5,textAlign:"center",color:n}]).animationEnd((t,n)=>{this.canceled||setTimeout(()=>{this.canceled||(document.body.style.opacity=0,setTimeout(()=>{this.canceled||(document.querySelector("#vara-container").remove(),document.querySelector("#cancel-vara-text").remove(),document.documentElement.style.overflowY="visible",document.body.style.overflowY="visible",document.body.style.userSelect="auto",document.body.style.WebkitUserSelect="auto",e())},Site.opacity_animation_time))},2*Site.opacity_animation_time)})},Site.opacity_animation_time)})},listen_for_click:function(){return new Promise((t,e)=>{document.querySelector("#vara-container").addEventListener("click",()=>{this.canceled=!0,document.body.style.opacity=0,setTimeout(()=>{document.querySelector("#vara-container").remove(),document.querySelector("#cancel-vara-text").remove(),document.documentElement.style.overflowY="visible",document.body.style.overflowY="visible",document.body.style.userSelect="auto",document.body.style.WebkitUserSelect="auto",t()},Site.opacity_animation_time)}),setTimeout(()=>{this.cancel_message_shown=!1,document.documentElement.addEventListener("mousemove",this.show_cancel_message_no_touch),document.documentElement.addEventListener("touchmove",this.show_cancel_message_touch)},6*Site.opacity_animation_time)})},show_cancel_message_no_touch:function(){if(!this.cancel_message_shown){this.cancel_message_shown=!0;try{document.querySelector("#cancel-vara-text").textContent="Click animation to skip",document.querySelector("#cancel-vara-text").style.opacity=1}catch(t){}}},show_cancel_message_touch:function(){this.cancel_message_shown||(this.cancel_message_shown=!0,document.querySelector("#cancel-vara-text").textContent="Tap animation to skip",document.querySelector("#cancel-vara-text").style.opacity=1)}},AOS:{elements:[],anchor_positions:[],anchor_offsets:[],anchors_shown:[],currently_animating:[],load:function(){this.elements=[];let t=document.querySelectorAll("[data-aos]"),e=0,n=0;for(let o=0;o<t.length;o++)t[o].classList.contains("new-aos-section")?(this.elements.push([]),this.currently_animating.push([]),e++,n=null!==t[o].getAttribute("data-aos-delay")?parseInt(t[o].getAttribute("data-aos-delay")):0,null!==t[o].getAttribute("data-aos-offset")?this.anchor_offsets[e-1]=parseInt(t[o].getAttribute("data-aos-offset")):this.anchor_offsets[e-1]=100,t[o].setAttribute("data-aos-offset",1e6),t[o].setAttribute("data-aos-delay",0),this.elements[e-1].push([t[o],n]),this.anchor_positions[e-1]=t[o].getBoundingClientRect().top+Page.scroll,this.anchors_shown[e-1]=!1):(null!==t[o].getAttribute("data-aos-delay-increase")?(n+=parseInt(t[o].getAttribute("data-aos-delay-increase")))>2e3&&(n=2e3):null!==t[o].getAttribute("data-aos-delay")?n=parseInt(t[o].getAttribute("data-aos-delay")):(n+=Site.aos_separation_time)>2e3&&(n=2e3),t[o].setAttribute("data-aos-offset",1e6),t[o].setAttribute("data-aos-delay",0),this.elements[e-1].push([t[o],n]));this.on_resize(),this.on_scroll()},on_resize:function(){for(let t=0;t<this.elements.length;t++)this.anchor_positions[t]=this.elements[t][0][0].getBoundingClientRect().top+Page.scroll;this.fix_footer_anchor()},fix_footer_anchor:function(){"no_footer"in Page.settings&&Page.settings.no_footer||(this.anchor_positions[this.elements.length-1]=document.body.clientHeight-10)},on_scroll:function(){for(let t=0;t<this.elements.length;t++)Page.scroll+Page.Layout.window_height>=this.anchor_positions[t]+this.anchor_offsets[t]&&!1===this.anchors_shown[t]?this.show_section(t):Page.scroll+Page.Layout.window_height<this.anchor_positions[t]-this.anchor_offsets[t]/2&&!0===this.anchors_shown[t]&&this.hide_section(t)},show_section:function(t,e=!1){if(1!==Site.Settings.url_vars.content_animation&&(0!==Page.scroll||0===t||e)){for(let e=0;e<this.elements[t].length;e++){let n=setTimeout(()=>{this.elements[t][e][0].setAttribute("data-aos-offset",-1e6),AOS.refresh()},this.elements[t][e][1]);this.currently_animating[t].push(n)}if(this.anchors_shown[t]=!0,0===Page.scroll&&t+1<this.elements.length&&Page.Layout.window_height>=this.anchor_positions[t+1]+this.anchor_offsets[t+1]){let e=this.elements[t][this.elements[t].length-1][1]+3*Site.aos_separation_time;setTimeout(()=>{this.show_section(t+1,!0)},e)}}},hide_section:function(t){try{for(let e=0;e<this.currently_animating[t].length;e++)clearTimeout(this.currently_animating[t][e])}catch(t){}this.currently_animating[t]=[];for(let e=0;e<this.elements[t].length;e++)this.elements[t][e][0].setAttribute("data-aos-offset",1e6),AOS.refresh();this.anchors_shown[t]=!1}},HoverEvents:{element_selectors:"\n\t\t\ta,\n\t\t\t\n\t\t\tselect\n\t\t",element_selectors_with_scale:[["#logo img",1.05],["#scroll-button",1.1],[".text-button",1.075],[".checkbox-container",1.1],[".radio-button-container",1.1],[".footer-button",1.1],[".footer-image-link img",1.05],[".footer-menu-image-link img",1.1],[".image-link img",1.05],["#enter-fullscreen-button",1.1],["#exit-fullscreen-button",1.1],[".gallery-image-1-1 img",1.075],[".gallery-image-2-2 img",1.0375],[".gallery-image-3-3 img",1.025]],set_up:function(){let t=document.querySelectorAll(this.element_selectors);for(let e=0;e<t.length;e++)this.add(t[e]);for(let t=0;t<this.element_selectors_with_scale.length;t++){let e=document.querySelectorAll(this.element_selectors_with_scale[t][0]);for(let n=0;n<e.length;n++)this.add_with_scale(e[n],this.element_selectors_with_scale[t][1])}},add:function(t){t.addEventListener("mouseenter",()=>{Site.Interaction.currently_touch_device||(t.classList.add("hover"),"SELECT"===t.tagName&&t.previousElementSibling.classList.add("hover"))}),t.addEventListener("mouseleave",()=>{Site.Interaction.currently_touch_device||(t.classList.remove("hover"),"SELECT"===t.tagName?t.previousElementSibling.classList.remove("hover"):t.blur())})},add_with_scale:function(t,e){t.addEventListener("mouseenter",()=>{Site.Interaction.currently_touch_device||(t.classList.add("hover"),Page.Animate.change_scale(t,e,Site.button_animation_time))}),t.addEventListener("mouseleave",()=>{Site.Interaction.currently_touch_device||(t.classList.remove("hover"),Page.Animate.change_scale(t,1,Site.button_animation_time))})},remove:function(){let t=document.querySelectorAll(this.element_selectors);for(let e=0;e<t.length;e++)t[e].classList.remove("hover")}},FocusEvents:{set_up_weird_elements:function(){let t=document.querySelectorAll(".focus-on-child");for(let e=0;e<t.length;e++)t[e].addEventListener("focus",()=>{t[e].children[0].focus()})}},TextButtons:{set_up:function(){let t=this.equalize.bind(this);window.addEventListener("resize",t),Page.temporary_handlers.resize.push(t),setTimeout(()=>{t()},50),setTimeout(()=>{t()},500)},equalize:function(){let t=document.querySelectorAll(".text-button");for(let e=0;e<t.length;e++)t[e].parentNode.style.margin="0 auto";t=document.querySelectorAll(".linked-text-button");let e=[],n=0,o=[],i=0;for(let a=0;a<t.length;a++)t[a].style.height="fit-content",t[a].style.width="fit-content",e.push(t[a].offsetHeight),e[a]>n&&(n=e[a]),o.push(t[a].offsetWidth),o[a]>i&&(i=o[a]);for(let a=0;a<t.length;a++)e[a]<n?t[a].style.height=n+"px":t[a].style.height="fit-content",o[a]<i?t[a].style.width=i+"px":t[a].style.width="fit-content",t[a].parentNode.parentNode.style.gridTemplateColumns=`repeat(auto-fit, ${i}px)`}},Links:{set:function(){let t=document.querySelectorAll("a"),e=Page.Navigation.concat_url_vars();for(let n=0;n<t.length;n++)if(!t[n].parentNode.classList.contains("footer-image-link")){let o=t[n].getAttribute("href");"https"!==o.slice(0,5)&&"data"!==o.slice(0,4)?(t[n].setAttribute("href","/index.html?page="+encodeURIComponent(o)+e),t[n].setAttribute("onclick",`Page.Navigation.redirect("${o}")`)):t[n].setAttribute("onclick",`Page.Navigation.redirect("${o}", true)`)}},disable:function(){let t=document.querySelectorAll("a:not(.real-link)");for(let e=0;e<t.length;e++)t[e].addEventListener("click",t=>{t.preventDefault()})}},Math:{typeset:function(){Site.scripts_loaded.mathjax?MathJax.typeset():(window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]}},Site.load_script("https://polyfill.io/v3/polyfill.min.js?features=es6"),Site.load_script("https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js").then(function(){Site.scripts_loaded.mathjax=!0}).catch(function(t){console.error("Could not load MathJax")})),setTimeout(()=>{let t=document.querySelectorAll("mjx-container");for(let e=0;e<t.length;e++)t[e].setAttribute("tabindex",-1)},500)}}},Site.Settings={url_vars:{},texts:{theme:["Theme: light","Theme: dark"],dark_theme_color:["Dark theme color: dark gray","Dark theme color: black"],contrast:["Contrast: normal","Contrast: high"],text_size:["Text size: normal","Text size: large"],font:["Font: always sans serif","Font: serif on writing"],content_animation:["Content animation: enabled","Content animation: disabled"]},dark_theme_background_color:"rgb(24, 24, 24)",dark_theme_background_color_rgba:"rgba(24, 24, 24, ",gradient_suffix:"-0-0",revert_theme:-1,get_url_var:function(t){let e=window.location.search.substring(1).split("&"),n=[];for(let o=0;o<e.length;o++)if((n=e[o].split("="))[0]===t)return n[1];return null},set_up:function(){this.url_vars={theme:this.get_url_var("theme"),dark_theme_color:this.get_url_var("dark_theme_color"),contrast:this.get_url_var("contrast"),text_size:this.get_url_var("text_size"),font:this.get_url_var("font"),content_animation:this.get_url_var("content_animation"),title_pages_seen:this.get_url_var("title_pages_seen")},window.matchMedia("(prefers-color-scheme: dark)").addListener(t=>{t.matches&&1!==this.url_vars.theme?this.toggle_theme():t.matches||1!==this.url_vars.theme||(this.toggle_theme(),1===this.url_vars.dark_theme_color&&setTimeout(()=>{this.toggle_dark_theme_color()},2*Site.opacity_animation_time))}),window.matchMedia("(prefers-color-scheme: dark)").matches&&null===this.url_vars.theme&&(this.url_vars.theme=1),1===this.url_vars.dark_theme_color&&(this.dark_theme_background_color="rgb(0, 0, 0)",this.dark_theme_background_color_rgba="rgba(0, 0, 0, ");for(let t in this.url_vars)null==this.url_vars[t]?this.url_vars[t]=0:1==this.url_vars[t]&&(this.url_vars[t]=0,this.toggle(t,!0));let t=null;1===this.url_vars.theme&&1!==this.url_vars.contrast?t=Site.add_style(this.get_settings_style("dark"),!1):1!==this.url_vars.theme&&1===this.url_vars.contrast?t=Site.add_style(this.get_settings_style("contrast"),!1):1===this.url_vars.theme&&1===this.url_vars.contrast&&(t=Site.add_style(this.get_settings_style("dark_contrast"),!1));try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}},meta_theme_color_refresh_id:null,meta_theme_color_animation_step:0,meta_theme_color_element:document.querySelector("#theme-color-meta"),animate_meta_theme_color:function(t,e,n=45){try{clearInterval(this.meta_theme_color_refresh_id)}catch(t){}this.meta_theme_color_animation_step=0,this.meta_theme_color_refresh_id=setInterval(()=>{this.meta_theme_color_animation_step++;let o=(1-this.meta_theme_color_animation_step/n)*t+this.meta_theme_color_animation_step/n*e;if(this.meta_theme_color_element.setAttribute("content",`rgb(${o}, ${o}, ${o})`),this.meta_theme_color_animation_step===n)try{clearInterval(this.meta_theme_color_refresh_id)}catch(t){}},10)},handle_theme_revert:function(){1===this.url_vars.content_animation?0===this.revert_theme?(this.revert_theme=-1,this.url_vars.dark_theme_color=1,this.toggle("theme",!0,!0)):1===Site.Settings.revert_theme&&(this.revert_theme=-1,this.toggle("theme",!0,!0)):0===this.revert_theme?(this.revert_theme=-1,this.url_vars.dark_theme_color=1,this.toggle("theme",!1,!0)):1===Site.Settings.revert_theme&&(this.revert_theme=-1,this.toggle("theme",!1,!0))},toggle:function(t,e=!1,n=!1){let o=null;!1!==e||"theme"!==t&&"dark_theme_color"!==t&&"contrast"!==t||(o=Site.add_style(`\n\t\t\t\thtml\n\t\t\t\t{\n\t\t\t\t\ttransition: background-color ${2*Site.opacity_animation_time/1e3}s ease !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tp, span, h1, h2, a, q, em, strong, dfn\n\t\t\t\t{\n\t\t\t\t\ttransition: color ${2*Site.opacity_animation_time/1e3}s ease !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box, .text-field, .checkbox-container, .checkbox-container > input ~ .checkbox, .radio-button-container, .radio-button-container > input ~ .radio-button, .loading-spinner:after, #floating-footer-content, #floating-footer-button-background, .footer-button, .text-button, .nav-button, .slider-container > input\n\t\t\t\t{\n\t\t\t\t\ttransition: background-color ${2*Site.opacity_animation_time/1e3}s ease, border-color ${2*Site.opacity_animation_time/1e3}s ease, color ${2*Site.opacity_animation_time/1e3}s ease !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.line-break\n\t\t\t\t{\n\t\t\t\t\ttransition: ${2*Site.opacity_animation_time/1e3}s ease !important;\n\t\t\t\t}\n\t\t\t`)),"theme"===t?1===this.url_vars.theme&&1!==this.url_vars.dark_theme_color?(this.toggle_dark_theme_color(n),this.animate_meta_theme_color(24,0),e||setTimeout(()=>{if(!n)try{Page.Footer.Floating.show_settings_text("Theme: black")}catch(t){}},2*Site.opacity_animation_time)):1===this.url_vars.theme&&1===this.url_vars.dark_theme_color?(this.toggle_theme(n),e||setTimeout(()=>{if(this.toggle_dark_theme_color(),!n)try{Page.Footer.Floating.show_settings_text("Theme: light")}catch(t){}},2*Site.opacity_animation_time)):(this.toggle_theme(n),e||setTimeout(()=>{if(!n)try{Page.Footer.Floating.show_settings_text("Theme: dark")}catch(t){}},2*Site.opacity_animation_time)):"dark_theme_color"===t?this.toggle_dark_theme_color(n):"contrast"===t?this.toggle_contrast(n):"text_size"===t?this.toggle_text_size(n):"font"===t?this.toggle_font(n):"content_animation"===t?this.toggle_content_animation(n):console.log("Unknown setting"),Page.Navigation.write_url_vars(),!1!==e||"theme"!==t&&"dark_theme_color"!==t&&"contrast"!==t||setTimeout(()=>{o.remove()},2*Site.opacity_animation_time)},toggle_theme:function(t){0===this.url_vars.theme?("manual_dark_theme"in Page.settings&&Page.settings.manual_dark_theme||(1!==this.url_vars.dark_theme_color?(document.documentElement.style.backgroundColor="rgb(24, 24, 24)",this.animate_meta_theme_color(255,24)):(document.documentElement.style.backgroundColor="rgb(0, 0, 0)",this.animate_meta_theme_color(24,0))),1===this.url_vars.contrast?(Page.settings.manual_dark_theme||this.animate_theme_contrast("dark_contrast"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("dark_contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},2*Site.opacity_animation_time)):("manual_dark_theme"in Page.settings&&Page.settings.manual_dark_theme||this.animate_theme_contrast("dark"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("dark"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},2*Site.opacity_animation_time)),this.url_vars.theme=1):("manual_dark_theme"in Page.settings&&Page.settings.manual_dark_theme||(document.documentElement.style.backgroundColor="rgb(255, 255, 255)",this.animate_meta_theme_color(0,255)),1===this.url_vars.contrast?(Page.settings.manual_dark_theme||this.animate_theme_contrast("contrast"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},2*Site.opacity_animation_time)):("manual_dark_theme"in Page.settings&&Page.settings.manual_dark_theme||this.animate_theme_contrast(""),setTimeout(()=>{try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}this.clear_weird_inline_styles()},2*Site.opacity_animation_time)),this.url_vars.theme=0)},toggle_dark_theme_color:function(t){0===this.url_vars.dark_theme_color?(this.dark_theme_background_color="rgb(0, 0, 0)",this.dark_theme_background_color_rgba="rgba(0, 0, 0, ",1===this.url_vars.theme&&(document.documentElement.style.backgroundColor="rgb(0, 0, 0)",1==this.url_vars.contrast?this.animate_theme_contrast("dark_contrast"):this.animate_theme_contrast("dark")),setTimeout(()=>{let t=null;1===this.url_vars.theme?t=1===this.url_vars.contrast?Site.add_style(this.get_settings_style("dark_contrast"),!1):Site.add_style(this.get_settings_style("dark"),!1):1===this.url_vars.contrast&&(t=Site.add_style(this.get_settings_style("contrast"),!1));try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},2*Site.opacity_animation_time),this.url_vars.dark_theme_color=1):(this.dark_theme_background_color="rgb(24, 24, 24)",this.dark_theme_background_color_rgba="rgba(24, 24, 24, ",1===this.url_vars.theme&&(document.documentElement.style.backgroundColor="rgb(24, 24, 24)",1==this.url_vars.contrast?this.animate_theme_contrast("dark_contrast"):this.animate_theme_contrast("dark")),setTimeout(()=>{let t=null;1===this.url_vars.theme?t=1===this.url_vars.contrast?Site.add_style(this.get_settings_style("dark_contrast"),!1):Site.add_style(this.get_settings_style("dark"),!1):1===this.url_vars.contrast&&(t=Site.add_style(this.get_settings_style("contrast"),!1));try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},2*Site.opacity_animation_time),this.url_vars.dark_theme_color=0)},toggle_contrast:function(t){0===this.url_vars.contrast?(1===this.url_vars.theme?(this.animate_theme_contrast("dark_contrast"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("dark_contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},2*Site.opacity_animation_time)):(this.animate_theme_contrast("contrast"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},2*Site.opacity_animation_time)),setTimeout(()=>{if(!t)try{Page.Footer.Floating.show_settings_text("Contrast: high")}catch(t){}},2*Site.opacity_animation_time+50),this.url_vars.contrast=1):(1===this.url_vars.theme?(this.animate_theme_contrast("dark"),setTimeout(()=>{let t=Site.add_style(this.get_settings_style("dark"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}this.clear_weird_inline_styles()},2*Site.opacity_animation_time)):(this.animate_theme_contrast(""),setTimeout(()=>{try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}this.clear_weird_inline_styles()},2*Site.opacity_animation_time)),setTimeout(()=>{if(!t)try{Page.Footer.Floating.show_settings_text("Contrast: normal")}catch(t){}},2*Site.opacity_animation_time+50),this.url_vars.contrast=0)},toggle_text_size:function(t){Page.Animate.change_opacity(document.body,0,Site.opacity_animation_time),0===this.url_vars.text_size?(setTimeout(()=>{try{document.querySelector("#text-size-adjust").remove()}catch(t){}Site.add_style("\n\t\t\t\t\thtml\n\t\t\t\t\t{\n\t\t\t\t\t\tfont-size: 18px;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t@media (min-width: 1000px)\n\t\t\t\t\t{\n\t\t\t\t\t\thtml\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfont-size: 22px;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t",!1).id="text-size-adjust",setTimeout(()=>{if(!t)try{Page.Footer.Floating.show_settings_text("Text size: large")}catch(t){}},Site.opacity_animation_time)},Site.opacity_animation_time),this.url_vars.text_size=1):(setTimeout(()=>{try{document.querySelector("#text-size-adjust").remove()}catch(t){}setTimeout(()=>{if(!t)try{Page.Footer.Floating.show_settings_text("Text size: normal")}catch(t){}},Site.opacity_animation_time)},Site.opacity_animation_time),this.url_vars.text_size=0),setTimeout(()=>{setTimeout(()=>{Page.Animate.change_opacity(document.body,1,Site.opacity_animation_time)},50)},Site.opacity_animation_time)},toggle_font:function(t){"writing_page"in Page.settings&&Page.settings.writing_page&&(document.body.style.opacity=0),0===this.url_vars.font?(setTimeout(()=>{if("writing_page"in Page.settings&&Page.settings.writing_page&&Page.set_element_styles(".body-text, .heading-text","font-family","'Gentium Book Basic', serif"),!t)try{Page.Footer.Floating.show_settings_text("Font: serif on writing")}catch(t){}},Site.opacity_animation_time),this.url_vars.font=1):(setTimeout(()=>{if("writing_page"in Page.settings&&Page.settings.writing_page&&Page.set_element_styles(".body-text, .heading-text","font-family","'Rubik', sans-serif"),!t)try{Page.Footer.Floating.show_settings_text("Font: always sans serif")}catch(t){}},Site.opacity_animation_time),this.url_vars.font=0),"writing_page"in Page.settings&&Page.settings.writing_page&&setTimeout(()=>{setTimeout(()=>{document.body.style.opacity=1,Page.Load.AOS.on_resize()},50)},Site.opacity_animation_time)},toggle_content_animation:function(t){0===this.url_vars.content_animation?(document.body.style.opacity=0,setTimeout(()=>{this.remove_animation(),setTimeout(()=>{Page.Animate.change_opacity(document.body,1,Site.opacity_animation_time)},50)},Site.opacity_animation_time),setTimeout(()=>{if(!t)try{Page.Footer.Floating.show_settings_text("Content animation: disabled")}catch(t){}},2*Site.opacity_animation_time),this.url_vars.content_animation=1):(this.url_vars.content_animation=0,Page.Navigation.last_page_scroll=window.scrollY,Page.Navigation.redirect(Page.url,!1,!0,!0))},set_img_button_contrast:function(){let t=document.querySelectorAll(".nav-button, .scroll-button");for(let e=0;e<t.length;e++)t[e].setAttribute("src",t[e].getAttribute("src").replace("chevron-left","chevron-left-dark").replace("chevron-right","chevron-right-dark").replace("chevron-down","chevron-down-dark"))},set_writing_page_font:function(){Page.set_element_styles(".body-text, .heading-text","font-family","'Gentium Book Basic', serif")},reduce_page_margins:function(){try{document.querySelector("#ultrawide-margin-adjust").remove()}catch(t){}if("ultrawide"===Page.Layout.layout_string){Site.add_style("\n\t\t\t\t.body-text, .nav-buttons, .line-break\n\t\t\t\t{\n\t\t\t\t\twidth: 50vw;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text.narrow\n\t\t\t\t{\n\t\t\t\t\twidth: 40vw;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tpre code\n\t\t\t\t{\n\t\t\t\t\twidth: calc(50vw - 24px);\n\t\t\t\t}\n\t\t\t").id="ultrawide-margin-adjust"}},remove_animation:function(){let t=document.body.querySelectorAll("[data-aos]");for(let e=0;e<t.length;e++)t[e].removeAttribute("data-aos")},animate_theme_contrast:function(t){let e="-0-0";if(""===t){Page.set_element_styles(".heading-text, .date-text, .title-text","color","rgb(0, 0, 0)"),Page.set_element_styles(".section-text","color","rgb(96, 96, 96)"),Page.set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext, .floating-settings-button-text","color","rgb(127, 127, 127)"),Page.set_element_styles(".body-text .link","color","rgb(127, 192, 127)"),Page.set_element_styles(".quote-text q","color","rgb(176, 176, 176)"),Page.set_element_styles(".quote-attribution","color","rgb(92, 92, 92)"),Page.set_element_styles(".text-box","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".text-box","color","rgb(127, 127, 127)"),Page.set_element_styles(".text-box","border-color","rgb(192, 192, 192)"),Page.set_element_styles(".text-field","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".text-field","color","rgb(127, 127, 127)"),Page.set_element_styles(".text-field","border-color","rgb(192, 192, 192)"),Page.set_element_styles(".checkbox-container > input ~ .checkbox","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(127, 127, 127)"),Page.set_element_styles(".radio-button-container > input ~ .radio-button","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(127, 127, 127)");try{document.querySelector("#slider-style").remove()}catch(t){}Page.set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".footer-button, .text-button, .nav-button, .checkbox-container, #output-canvas","border-color","rgb(127, 127, 127)")}else if("dark"===t){Page.set_element_styles(".heading-text, .date-text, .title-text","color","rgb(255, 255, 255)"),Page.set_element_styles(".section-text","color","rgb(184, 184, 184)"),Page.set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext, .floating-settings-button-text","color","rgb(152, 152, 152)"),Page.set_element_styles(".body-text .link","color","rgb(152, 216, 152)"),Page.set_element_styles(".quote-text q","color","rgb(104, 104, 104)"),Page.set_element_styles(".quote-attribution","color","rgb(188, 188, 188)"),Page.set_element_styles(".text-box","background-color",this.dark_theme_background_color),Page.set_element_styles(".text-box","color","rgb(152, 152, 152)"),Page.set_element_styles(".text-box","border-color","rgb(88, 88, 88)"),Page.set_element_styles(".text-field","background-color",this.dark_theme_background_color),Page.set_element_styles(".text-field","color","rgb(152, 152, 152)"),Page.set_element_styles(".text-field","border-color","rgb(88, 88, 88)"),Page.set_element_styles(".checkbox-container > input ~ .checkbox","background-color",this.dark_theme_background_color),Page.set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(152, 152, 152)"),Page.set_element_styles(".radio-button-container > input ~ .radio-button","background-color",this.dark_theme_background_color),Page.set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(152, 152, 152)");let t=Site.add_style("\n\t\t\t\t.slider-container > input\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(80, 80, 80) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input::-webkit-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(127, 127, 127) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input::-moz-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(127, 127, 127) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:active\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(144, 144, 144) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:hover::-webkit-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(168, 168, 168) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:hover::-moz-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(168, 168, 168) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:active::-webkit-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(216, 216, 216) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:active::-moz-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(216, 216, 216) !important;\n\t\t\t\t}\n\t\t\t",!1);try{document.querySelector("#slider-style").remove()}catch(t){}try{t.id="slider-style"}catch(t){}Page.set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color",this.dark_theme_background_color),Page.set_element_styles(".footer-button, .text-button, .nav-button, #output-canvas","border-color","rgb(152, 152, 152)"),e="-1-0"}else if("contrast"===t){Page.set_element_styles(".heading-text, .date-text, .title-text","color","rgb(0, 0, 0)"),Page.set_element_styles(".section-text","color","rgb(48, 48, 48)"),Page.set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext, .floating-settings-button-text","color","rgb(64, 64, 64)"),Page.set_element_styles(".body-text .link","color","rgb(64, 128, 64)"),Page.set_element_styles(".quote-text q","color","rgb(88, 88, 88)"),Page.set_element_styles(".quote-attribution","color","rgb(46, 46, 46)"),Page.set_element_styles(".text-box","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".text-box","color","rgb(64, 64, 64)"),Page.set_element_styles(".text-box","border-color","rgb(96, 96, 96)"),Page.set_element_styles(".text-field","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".text-field","color","rgb(64, 64, 64)"),Page.set_element_styles(".text-field","border-color","rgb(96, 96, 96)"),Page.set_element_styles(".checkbox-container > input ~ .checkbox","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(64, 64, 64)"),Page.set_element_styles(".radio-button-container > input ~ .radio-button","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(64, 64, 64)");let t=Site.add_style("\n\t\t\t\t.slider-container > input\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(100, 100, 100) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input::-webkit-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(80, 80, 80) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input::-moz-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(80, 80, 80) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:active\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(64, 64, 64) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:hover::-webkit-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(56, 56, 56) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:hover::-moz-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(56, 56, 56) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:active::-webkit-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(0, 0, 0) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:active::-moz-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(0, 0, 0) !important;\n\t\t\t\t}\n\t\t\t",!1);try{document.querySelector("#slider-style").remove()}catch(t){}try{t.id="slider-style"}catch(t){}Page.set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color","rgb(255, 255, 255)"),Page.set_element_styles(".footer-button, .text-button, .nav-button, #output-canvas","border-color","rgb(64, 64, 64)"),e="-0-1"}else if("dark_contrast"===t){Page.set_element_styles(".heading-text, .date-text, .title-text","color","rgb(255, 255, 255)"),Page.set_element_styles(".section-text","color","rgb(232, 232, 232)"),Page.set_element_styles(".body-text, .body-text span, .song-lyrics, .image-link-subtext","color","rgb(216, 216, 216)"),Page.set_element_styles(".body-text .link","color","rgb(216, 255, 216)"),Page.set_element_styles(".floating-settings-button-text","color","rgb(64, 64, 64)"),Page.set_element_styles(".quote-text q","color","rgb(192, 192, 192)"),Page.set_element_styles(".quote-attribution","color","rgb(234, 234, 234)"),Page.set_element_styles(".text-box","background-color",this.dark_theme_background_color),Page.set_element_styles(".text-box","color","rgb(216, 216, 216)"),Page.set_element_styles(".text-box","border-color","rgb(152, 152, 152)"),Page.set_element_styles(".text-field","background-color",this.dark_theme_background_color),Page.set_element_styles(".text-field","color","rgb(216, 216, 216)"),Page.set_element_styles(".text-field","border-color","rgb(152, 152, 152)"),Page.set_element_styles(".checkbox-container","border-color","rgb(216, 216, 216)"),Page.set_element_styles(".checkbox-container > input ~ .checkbox","background-color",this.dark_theme_background_color),Page.set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color","rgb(216, 216, 216)"),Page.set_element_styles(".radio-button-container","border-color","rgb(216, 216, 216)"),Page.set_element_styles(".radio-button-container > input ~ .radio-button","background-color",this.dark_theme_background_color),Page.set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color","rgb(216, 216, 216)");let t=Site.add_style("\n\t\t\t\t.slider-container > input\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(180, 180, 180) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input::-webkit-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(200, 200, 200) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input::-moz-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(200, 200, 200) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:active\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(216, 216, 216) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:hover::-webkit-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(224, 224, 224) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:hover::-moz-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(224, 224, 224) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:active::-webkit-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(255, 255, 255) !important;\n\t\t\t\t}\n\n\t\t\t\t.slider-container > input:active::-moz-slider-thumb\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(255, 255, 255) !important;\n\t\t\t\t}\n\t\t\t",!1);try{document.querySelector("#slider-style").remove()}catch(t){}try{t.id="slider-style"}catch(t){}Page.set_element_styles("#floating-footer-content, #floating-footer-button-background","background-color",this.dark_theme_background_color),Page.set_element_styles(".footer-button, .text-button, .nav-button, #output-canvas","border-color","rgb(152, 152, 152)"),e="-1-1"}Page.set_element_styles(`.line-break${this.gradient_suffix}`,"opacity",0),Page.set_element_styles(`.line-break${e}`,"opacity",1),this.gradient_suffix=e},clear_weird_inline_styles:function(){Page.set_element_styles(".checkbox-container > input ~ .checkbox","background-color",""),Page.set_element_styles(".checkbox-container > input:checked ~ .checkbox","background-color",""),Page.set_element_styles(".radio-button-container > input ~ .radio-button","background-color",""),Page.set_element_styles(".radio-button-container > input:checked ~ .radio-button","background-color",""),Page.set_element_styles(".text-box","background-color",""),Page.set_element_styles(".text-box","color",""),Page.set_element_styles(".text-box","border-color",""),Page.set_element_styles(".text-field","background-color",""),Page.set_element_styles(".text-field","color",""),Page.set_element_styles(".text-field","border-color","")},get_settings_style:function(t){return"dark"===t?`\n\t\t\t\t.heading-text, .date-text, .title-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.section-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(184, 184, 184);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text, .body-text span, .song-lyrics, .image-link-subtext\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text .link\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(152, 216, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.quote-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(104, 104, 104);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.quote-attribution\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(188, 188, 188);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.text-box\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t\t\tborder-color: rgb(88, 88, 88);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.text-field\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t\t\tborder-color: rgb(88, 88, 88);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-field:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.checkbox-container > input ~ .checkbox\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\n\t\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.radio-button-container > input ~ .radio-button\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\n\t\t\t\t.radio-button-container > input:checked ~ .radio-button\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.loading-spinner:after\n\t\t\t\t{\n\t\t\t\t\tborder: 2px solid rgb(152, 152, 152);\n\t\t\t\t\tborder-color: rgb(152, 152, 152) transparent rgb(152, 152, 152) transparent;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t#floating-footer-content, #floating-footer-button-background\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t#banner-gradient, #floating-footer-gradient\n\t\t\t\t{\n\t\t\t\t\tbackground: -moz-linear-gradient(top, ${this.dark_theme_background_color_rgba}0) 0%, ${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t\tbackground: -webkit-linear-gradient(top, ${this.dark_theme_background_color_rgba}0) 0%,${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t\tbackground: linear-gradient(to bottom, ${this.dark_theme_background_color_rgba}0) 0%,${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.footer-button, .text-button, .nav-button, .checkbox-container, #output-canvas\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.line-break-1-0\n\t\t\t\t{\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t`:"contrast"===t?"\n\t\t\t\t.heading-text, .date-text, .title-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(0, 0, 0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.section-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(48, 48, 48);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text, .body-text span, .song-lyrics, .image-link-subtext, .text-button\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.settings-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(64, 64, 64) !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text .link\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(64, 128, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.floating-settings-button-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.quote-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(88, 88, 88);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.quote-attribution\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(46, 46, 46);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.text-box\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(255, 255, 255);\n\t\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\t\tborder-color: rgb(96, 96, 96);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(48, 48, 48);\n\t\t\t\t\tcolor: rgb(0, 0, 0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.text-field\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(255, 255, 255);\n\t\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\t\tborder-color: rgb(96, 96, 96);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-field:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(48, 48, 48);\n\t\t\t\t\tcolor: rgb(0, 0, 0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\n\t\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.radio-button-container > input:checked ~ .radio-button\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.loading-spinner:after\n\t\t\t\t{\n\t\t\t\t\tborder: 2px solid rgb(64, 64, 64);\n\t\t\t\t\tborder-color: rgb(64, 64, 64) transparent rgb(64, 64, 64) transparent;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.footer-button, .text-button, .nav-button, .checkbox-container, #output-canvas\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t":"dark_contrast"===t?`\n\t\t\t\t.heading-text, .date-text, .title-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.section-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(232, 232, 232);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text, .body-text span, .song-lyrics, .image-link-subtext\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.settings-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(64, 64, 64) !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.body-text .link\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(216, 255, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.floating-settings-button-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.quote-text\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(192, 192, 192);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.quote-attribution\n\t\t\t\t{\n\t\t\t\t\tcolor: rgb(234, 234, 234);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.text-box\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-box:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.text-field\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-field:focus\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.checkbox-container\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.checkbox-container > input ~ .checkbox\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\n\t\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.radio-button-container\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.radio-button-container > input ~ .radio-button\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\n\t\t\t\t.radio-button-container > input:checked ~ .radio-button\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(216, 216, 216);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.loading-spinner:after\n\t\t\t\t{\n\t\t\t\t\tborder: 2px solid rgb(216, 216, 216);\n\t\t\t\t\tborder-color: rgb(216, 216, 216) transparent rgb(216, 216, 216) transparent;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t#floating-footer-content, #floating-footer-button-background\n\t\t\t\t{\n\t\t\t\t\tbackground-color: ${this.dark_theme_background_color};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t#banner-gradient, #floating-footer-gradient\n\t\t\t\t{\n\t\t\t\t\tbackground: -moz-linear-gradient(top, ${this.dark_theme_background_color_rgba}0) 0%, ${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t\tbackground: -webkit-linear-gradient(top, ${this.dark_theme_background_color_rgba}0) 0%,${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t\tbackground: linear-gradient(to bottom, ${this.dark_theme_background_color_rgba}0) 0%,${this.dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t.footer-button, .text-button, .nav-button, #output-canvas\n\t\t\t\t{\n\t\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.line-break-1-1\n\t\t\t\t{\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t`:void 0}},Page.url=decodeURIComponent(Site.Settings.get_url_var("page"));