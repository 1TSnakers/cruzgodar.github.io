"use strict";let scroll=0,banner_done=!1,scroll_button_done=!1,banner_extension="",banner_name="",banner_path="",scroll_button_exists=!1,scroll_button_timeout=null,banner_pages=["/home/home.html","/bio/bio.html","/blog/1/on-leaving-and-the-beginnings-of-things.html","/blog/2/nach-heidelberg.html","/blog/3/the-city-and-the-city.html","/blog/4/a-taste-of-chaos.html","/blog/5/halloween-in-january.html","/blog/6/erinnerungen.html","/blog/7/on-leaving-again-and-new-beginnings.html","/writing/mist/mist.html","/writing/desolation-point/desolation-point.html"],multibanner_pages={"/home/home.html":{current_banner:Math.floor(20*Math.random())+1,num_banners:20}},banner_pages_already_fetched=[];function load_banner(){return new Promise(function(t,e){if(banner_pages.includes(current_url)){let e=255;1===url_vars.theme&&(e=24,1===url_vars.dark_theme_color&&(e=0));try{document.querySelector("#opacity-cover-style").remove()}catch(t){}add_style(`\n\t\t\t\t#opacity-cover\n\t\t\t\t{\n\t\t\t\t\tbackground-color: rgb(${e}, ${e}, ${e});\n\t\t\t\t}\n\t\t\t`,!1).id="opacity-cover-style",banner_name=window_width/window_height<1?"portrait."+banner_extension:"landscape."+banner_extension,banner_path="",multibanner_pages.hasOwnProperty(current_url)?(multibanner_pages[current_url].current_banner++,multibanner_pages[current_url].current_banner===multibanner_pages[current_url].num_banners+1&&(multibanner_pages[current_url].current_banner=1),banner_path=parent_folder+"banners/"+multibanner_pages[current_url].current_banner+"/"):banner_path=parent_folder+"banners/",fetch(banner_path+banner_name).then(function(e){let n=new Image;n.onload=function(){scroll_button_timeout=setTimeout(add_scroll_button,5e3),t()},n.style.display="hidden",n.style.opacity=0,document.body.appendChild(n),setTimeout(function(){n.src=banner_path+banner_name},20)}).catch(function(e){document.querySelector("#banner").remove(),document.querySelector("#opacity-cover").remove(),document.querySelector("#banner-cover").remove(),AOS.init({duration:1200,once:!1,offset:window_height/4}),t()})}else t()})}function scroll_update(t){if(0===t?scroll=window.scrollY:(scroll=t,banner_done=!1,scroll_button_done=!1),scroll>=0){if(1!==url_vars.banner_style)if(scroll<=window_height){let t=.5-.5*Math.sin(Math.PI*Math.max(1-scroll/window_height,0)-Math.PI/2);try{document.querySelector("#opacity-cover").style.opacity=t}catch(t){}banner_done=0===t}else if(!1===banner_done){try{document.querySelector("#opacity-cover").style.opacity=1}catch(t){}banner_done=!0}if(scroll<=window_height/3){let t=.5+.5*Math.sin(Math.PI*Math.max(1-3*scroll/window_height,0)-Math.PI/2);scroll_button_exists&&(document.querySelector("#scroll-button").style.opacity=t);try{1!==url_vars.banner_style&&set_element_styles(".name-text","opacity",t)}catch(t){}0===t?(scroll_button_exists&&(document.querySelector("#scroll-button").remove(),scroll_button_exists=!1),scroll_button_done=!0):scroll_button_done=!1}else null!==scroll_button_timeout?(clearTimeout(scroll_button_timeout),scroll_button_timeout=null):!1===scroll_button_done&&(1!==url_vars.banner_style&&set_element_styles(".name-text","opacity",0),scroll_button_exists&&(document.querySelector("#scroll-button").remove(),scroll_button_exists=!1),scroll_button_done=!0)}}function add_scroll_button(){let t=.5+.5*Math.sin(Math.PI*Math.max(1-3*scroll/window_height,0)-Math.PI/2);if(scroll<=window_height/3){let e="chevron-down";1===url_vars.contrast&&(e+="-dark");try{document.querySelector("#banner-cover").insertAdjacentHTML("beforebegin",`\n\t\t\t\t<div id="new-banner-cover" data-aos="fade-down">\n\t\t\t\t\t<input type="image" id="scroll-button" src="/graphics/general-icons/${e}.png" style="opacity: ${t}" alt="Scroll down" onclick="smooth_scroll_to('#scroll-to')">\n\t\t\t\t</div>\n\t\t\t`),scroll_button_exists=!0,document.querySelector("#banner-cover").remove()}catch(t){}}}window.addEventListener("scroll",function(){scroll_update(0)});let browser_detect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(t){for(let e=0;e<t.length;e++){let n=t[e].string;if(this.versionSearchString=t[e].subString,-1!==n.indexOf(t[e].subString))return t[e].identity}},searchVersion:function(t){let e=t.indexOf(this.versionSearchString);if(-1===e)return;let n=t.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==n?parseFloat(t.substring(n+3)):parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"MS Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}]};browser_detect.init();let browser_name=browser_detect.browser;function hasTouch(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function remove_hover_on_touch(){if(hasTouch())try{for(let t in document.styleSheets){let e=document.styleSheets[t];if(e.rules)for(let t=e.rules.length-1;t>=0;t--)e.rules[t].selectorText&&e.rules[t].selectorText.match(":hover")&&e.deleteRule(t)}}catch(t){}}let disqus_config=null;function load_disqus(){if(scripts_loaded.disqus)DISQUS.reset({reload:!0,config:disqus_config});else{let t=document,e=t.createElement("script");e.src="https://cruzgodar.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e),scripts_loaded.disqus=!0}}function insert_footer(){let t=100,e=supports_webp?"webp":"jpg",n=concat_url_vars(!1);n=-1===n.indexOf("&")?"":n.substring(n.indexOf("&"));let o=concat_url_vars(!0);if(o=-1===o.indexOf("&")?"":o.substring(o.indexOf("&")),document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",`\n\t\t<div class="footer-buttons" style="position: relative">\n\t\t\t<div data-aos="zoom-out" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu" style="position: absolute; bottom: 6.5px; left: 10px">\n\t\t\t\t<a href="/index.html?page=%2Fsettings%2Fsettings.html${o}">\n\t\t\t\t\t<input type="image" class="footer-button" src="/graphics/button-icons/gear.png" alt="Change Theme" onclick="redirect('/settings/settings.html')">\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div data-aos="zoom-out" data-aos-delay="1000" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu" style="position: absolute; bottom: 6.5px; right: 10px">\n\t\t\t\t<a href="/index.html?page=%2Fpwa%2Fpwa.html${n}">\n\t\t\t\t\t<input type="image" id="pwa-button" class="footer-button" src="/graphics/button-icons/app.png" alt="Progressive Web App Info" onclick="redirect('/pwa/pwa.html')">\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t`),document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t<div style="position: relative">\n\t\t\t<div id="trigger-menu" style="position: absolute; bottom: 5px"></div>\n\t\t</div>\n\t'),""===page_settings.footer_exclusion?document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t\t<div style="height: 30vh"></div>\n\t\t\t\t<div data-aos="fade-in" data-aos-duration="500" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t\t<div class="line-break" style="width: 75vw !important"></div>\n\t\t\t\t</div>\n\t\t\t<div style="height: 3vw"></div>\n\t\t\t\n\t\t\t<nav class="footer-image-links" style="width: 63vw"></nav>\n\t\t'):document.querySelector("#spawn-footer").insertAdjacentHTML("afterend",'\n\t\t\t<div style="height: 30vh"></div>\n\t\t\t\t<div data-aos="fade-in" data-aos-duration="500" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t\t<div class="line-break" style="width: 65vw !important"></div>\n\t\t\t\t</div>\n\t\t\t<div style="height: 3vw"></div>\n\t\t\t\n\t\t\t<nav class="footer-image-links"></nav>\n\t\t'),"writing"!==page_settings.footer_exclusion){let o=document.createElement("div");document.querySelector(".footer-image-links").appendChild(o),o.outerHTML=`\n\t\t\t<div id="writing-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="/index.html?page=%2Fwriting%2Fwriting.html${n}">\n\t\t\t\t\t<img onclick="redirect('/writing/writing.html')" src="/writing/cover.${e}" alt="Writing"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,t+=100}if("applets"!==page_settings.footer_exclusion){let o=document.createElement("div");document.querySelector(".footer-image-links").appendChild(o),o.outerHTML=`\n\t\t\t<div id="applets-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="index.html?page=%2Fapplets%2Fapplets.html${n}">\n\t\t\t\t\t<img onclick="redirect('/applets/applets.html')" src="/applets/cover.${e}" alt="Applets"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,t+=100}if("blog"!==page_settings.footer_exclusion){let o=document.createElement("div");document.querySelector(".footer-image-links").appendChild(o),o.outerHTML=`\n\t\t\t<div id="blog-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="/index.html?page=%2Fblog%2Fblog.html${n}">\n\t\t\t\t\t<img onclick="redirect('/blog/blog.html')" src="/blog/cover.${e}" alt="Blog"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,t+=100}if("notes"!==page_settings.footer_exclusion){let o=document.createElement("div");document.querySelector(".footer-image-links").appendChild(o),o.outerHTML=`\n\t\t\t<div id="notes-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="/index.html?page=%2Fnotes%2Fnotes.html${n}">\n\t\t\t\t\t<img onclick="redirect('/notes/notes.html')" src="/notes/cover.${e}" alt="Notes"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,t+=100}if("bio"!==page_settings.footer_exclusion){let o=document.createElement("div");document.querySelector(".footer-image-links").appendChild(o),o.outerHTML=`\n\t\t\t<div id="about-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="/index.html?page=%2Fbio%2Fbio.html${n}">\n\t\t\t\t\t<img onclick="redirect('/bio/bio.html')" src="/bio/cover.${e}" alt="Me"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,t+=100}if("about"!==page_settings.footer_exclusion){let o=document.createElement("div");document.querySelector(".footer-image-links").appendChild(o),o.outerHTML=`\n\t\t\t<div id="about-link" class="footer-image-link" data-aos="zoom-out" data-aos-delay="${t}" data-aos-offset="0" data-aos-once="false" data-aos-anchor="#trigger-menu">\n\t\t\t\t<a href="/index.html?page=%2Fabout%2Fabout.html${n}">\n\t\t\t\t\t<img onclick="redirect('/about/about.html')" src="/about/cover.${e}" alt="About"></img>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`,t+=100}if(document.querySelector("#pwa-button").parentNode.parentNode.setAttribute("data-aos-delay",t),1===url_vars.content_animation){try{let t=document.querySelectorAll(".line-break");for(let e=0;e<t.length;e++)t[e].parentNode.removeAttribute("data-aos")}catch(t){}try{let t=document.querySelectorAll(".footer-image-link");for(let e=0;e<t.length;e++)t[e].removeAttribute("data-aos")}catch(t){}try{let t=document.querySelectorAll(".footer-button");for(let e=0;e<t.length;e++)t[e].parentNode.parentNode.removeAttribute("data-aos")}catch(t){}}document.body.clientHeight<window_height&&document.querySelector("#spawn-footer").insertAdjacentHTML("beforebegin",`\n\t\t\t<div style="height: ${window_height-document.body.clientHeight}px"></div>\n\t\t`),set_up_floating_footer(),scroll>0&&window.scrollTo(0,scroll)}function set_up_floating_footer(){let t=document.createElement("footer");t.id="floating-footer",document.body.insertBefore(t,document.body.firstChild),t.innerHTML='\n\t\t<div id="floating-footer-gradient"></div>\n\t\t\n\t\t<div id="floating-footer-content">\n\t\t\t<div id="floating-footer-bottom-margin"></div>\n\t\t</div>\n\t';try{let t=document.querySelector("#spawn-footer").parentNode.querySelector(".footer-image-links").cloneNode(!0);for(let e=0;e<t.children.length;e++)t.children[e].removeAttribute("data-aos-anchor");document.querySelector("#floating-footer-content").appendChild(t)}catch(t){}let e=document.querySelector("#spawn-footer").parentNode.querySelector(".footer-buttons").cloneNode(!0);for(let t=0;t<e.children.length;t++)e.children[t].removeAttribute("data-aos-anchor");document.querySelector("#floating-footer-content").appendChild(e),(e=document.createElement("div")).id="floating-footer-button-background",document.querySelector("#floating-footer-content").appendChild(e),document.querySelector("#floating-footer").insertAdjacentHTML("afterend",'<div id="floating-footer-touch-target"></div>'),fit_floating_footer_to_window_width(),window.addEventListener("resize",fit_floating_footer_to_window_width),temporary_handlers.resize.push(fit_floating_footer_to_window_width),window.addEventListener("scroll",floating_footer_scroll),temporary_handlers.scroll.push(floating_footer_scroll),setTimeout(function(){document.querySelector("#floating-footer-touch-target").style.display="block"},50),hasTouch()?init_floating_footer_listeners_touch():init_floating_footer_listeners_no_touch()}function fit_floating_footer_to_window_width(){document.querySelector("#floating-footer").style.width=document.documentElement.clientWidth+"px",floating_footer_is_visible&&setTimeout(function(){document.querySelector("#floating-footer-touch-target").style.display="none"},50)}function floating_footer_scroll(){window.innerHeight+window.pageYOffset>=document.body.offsetHeight?(document.querySelector("#floating-footer").style.opacity=0,floating_footer_is_visible=!1,document.querySelector("#floating-footer-touch-target").style.display="none",setTimeout(function(){document.querySelector("#floating-footer").style.display="none"},300)):!1===floating_footer_is_visible&&(document.querySelector("#floating-footer-touch-target").style.display="block")}let floating_footer_is_visible=!1;function init_floating_footer_listeners_no_touch(){floating_footer_is_visible=!1,document.querySelector("#floating-footer-touch-target").addEventListener("mouseenter",function(){!1!==floating_footer_is_visible||window.innerHeight+window.pageYOffset>=document.body.offsetHeight||(document.querySelector("#floating-footer").style.display="block",document.querySelector("#floating-footer-touch-target").style.display="none",setTimeout(function(){document.querySelector("#floating-footer").style.opacity=1,floating_footer_is_visible=!0},50))}),document.querySelector("#floating-footer-content").addEventListener("mouseleave",function(){floating_footer_is_visible&&(document.querySelector("#floating-footer").style.opacity=0,floating_footer_is_visible=!1,setTimeout(function(){document.querySelector("#floating-footer").style.display="none",document.querySelector("#floating-footer-touch-target").style.display="block"},300))})}function init_floating_footer_listeners_touch(){floating_footer_is_visible=!1,document.documentElement.addEventListener("touchend",footer_process_touchend,!1),temporary_handlers.touchend.push(footer_process_touchend),document.documentElement.addEventListener("touchstart",footer_process_touchstart,!1),temporary_handlers.touchstart.push(footer_process_touchstart)}function footer_process_touchend(){let t=document.elementFromPoint(last_touch_x,last_touch_y);document.querySelector("#floating-footer-touch-target")===t&&(!1!==floating_footer_is_visible||window.innerHeight+window.pageYOffset>=document.body.offsetHeight||(document.querySelector("#floating-footer").style.display="block",document.querySelector("#floating-footer-touch-target").style.display="none",floating_footer_is_visible=!0,setTimeout(function(){document.querySelector("#floating-footer").style.opacity=1},50)))}function footer_process_touchstart(t){document.querySelector("#floating-footer-content").contains(t.target)||floating_footer_is_visible&&(document.querySelector("#floating-footer").style.opacity=0,floating_footer_is_visible=!1,setTimeout(function(){document.querySelector("#floating-footer").style.display="none",document.querySelector("#floating-footer-touch-target").style.display="block"},300))}function insert_images(){currently_fetching=!0;let t=document.querySelectorAll(".check-webp"),e=supports_webp?"webp":"non-webp",n=0;fetch(parent_folder+"images.json").then(t=>t.json()).then(function(o){for(let r=0;r<t.length;r++){let a=o[t[r].getAttribute("id")][e];"https"===a.slice(0,5)?t[r].setAttribute("src",a):t[r].setAttribute("src",parent_folder+a),t[r].onload=function(){n++,console.log(n+" of "+t.length+" fetched."),n===t.length&&(currently_fetching=!1,fetch_item_from_queue())}}}).catch(function(t){console.error("Could not load images.json")})}function check_webp(){return new Promise(function(t,e){load_script("/scripts/modernizr-webp.min.js").then(function(){Modernizr.on("webp",function(e){e?(supports_webp=!0,banner_extension="webp"):(supports_webp=!1,banner_extension="jpg"),t()})}).catch(function(e){console.error("Could not load Modernizr"),supports_webp=!1,banner_extension="jpg",t()})})}let old_layout="";window.addEventListener("resize",resize_update);let resize_time=0,new_window_width=0,new_window_height=0,window_width_step_distance=0,window_height_step_distance=0;function resize_update(){let t=window.innerWidth,e=window.innerHeight;(old_layout=layout_string)!==(layout_string=t/e<9/16||t<=700?"compact":t/e>16/9||t>=1400?"ultrawide":"default")&&page_settings.small_margins_on_ultrawide&&reduce_page_margins(),banner_name=t/e<1?"portrait."+banner_extension:"landscape."+banner_extension,resize_time=0,window_width_step_distance=8/300*(e-window_height),window_height_step_distance=8/300*(e-window_height);let n=setInterval(function(){resize_step(),resize_time>=300&&(clearInterval(n),window_width=t,window_height=e,scroll_update(0))},8)}function resize_step(){window_width+=window_width_step_distance,window_height+=window_height_step_distance,resize_time+=8,scroll_update(0)}let DEBUG=!1,window_width=null,window_height=null,page_settings={},current_url=decodeURIComponent(get_url_var("page")),parent_folder="/",supports_webp=null,scripts_loaded={disqus:!1,mathjax:!1},temporary_handlers={scroll:[],resize:[],touchend:[],touchstart:[]},temporary_web_workers=[],layout_string="",background_color_changed=!1,fetch_queue=[],currently_fetching=!1,last_touch_x=null,last_touch_y=null;document.documentElement.addEventListener("touchstart",function(t){last_touch_x=t.touches[0].clientX,last_touch_y=t.touches[0].clientY},!1),document.documentElement.addEventListener("touchmove",function(t){last_touch_x=t.touches[0].clientX,last_touch_y=t.touches[0].clientY},!1);let smooth_scroll=new SmoothScroll("[data-never-use*='#']",{speed:750,speedAsDuration:!0,easing:"easeInOutQuad",updateURL:!1});async function entry_point(t){if(window_width=window.innerWidth,window_height=window.innerHeight,resize_update(),"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.matchMedia("(display-mode: standalone)").matches){document.documentElement.style.WebkitUserSelect="none",document.documentElement.style.userSelect="none",document.documentElement.style.WebkitTouchCallout="none";let t=document.querySelectorAll("body *");for(let e=0;e<t.length;e++)t[e].setAttribute("draggable","false");add_style("\n\t\t\t#pwa-button\n\t\t\t{\n\t\t\t\tdisplay: none;\n\t\t\t\twidth: 0px;\n\t\t\t\theight: 0px;\n\t\t\t}\n\t\t\t\n\t\t\t#logo, .name-text-container, .empty-top\n\t\t\t{\n\t\t\t\tmargin-top: 2vh;\n\t\t\t}\n\t\t",!1)}scroll_button_exists=!1,AOS.init({duration:1200,once:!1,offset:window_height/4}),init_settings(),check_webp().then(function(){"html"!==t.substring(t.lastIndexOf(".")+1,t.length)?window.location.href=t:redirect(t,!1,!0)})}function load_script(t){return new Promise(function(e,n){const o=document.createElement("script");document.body.appendChild(o),o.onload=e,o.onerror=n,o.async=!0,o.src=t})}function add_style(t,e=!0,n=!1){let o=document.createElement("style");return o.textContent=t,e&&o.classList.add("temporary-style"),n?document.head.insertBefore(o,document.head.firstChild):document.head.appendChild(o),o}function set_element_styles(t,e,n){let o=document.querySelectorAll(t);for(let t=0;t<o.length;t++)o[t].style.setProperty(e,n)}let new_page_data=null,last_page_scroll=0;function set_links(){let t=document.querySelectorAll("a"),e=concat_url_vars(!1);e=-1===e.indexOf("&")?"":e.substring(e.indexOf("&"));let n=concat_url_vars(!0);n=-1===n.indexOf("&")?"":n.substring(n.indexOf("&"));for(let o=0;o<t.length;o++){let r=t[o].getAttribute("href");"https"===r.slice(0,5)||"data"===r.slice(0,4)||t[o].parentNode.classList.contains("footer-image-link")||("/settings/settings.html"===r?t[o].setAttribute("href","/index.html?page="+encodeURIComponent(r)+n):t[o].setAttribute("href","/index.html?page="+encodeURIComponent(r)+e))}}function redirect(t,e=!1,n=!1,o=!1){if(e)return void window.open(t,"_blank");let r=window.scrollY,a=!1;"/settings/settings.html"===t&&(a=!0),current_url=t,parent_folder=t.slice(0,t.lastIndexOf("/")+1);let c=document.documentElement.style.backgroundColor;Promise.all([fetch(t),fade_out(),load_banner()]).then(t=>t[0].text()).then(function(t){on_page_unload(),!1===n?history.pushState({},document.title,"/index.html"+concat_url_vars(a)):history.replaceState({},document.title,"/index.html"+concat_url_vars(a)),document.body.innerHTML=t,o?(window.scrollTo(0,last_page_scroll),scroll_update(last_page_scroll)):(window.scrollTo(0,0),scroll=0),last_page_scroll=r,parse_scripts()}).catch(function(t){console.log("Failed to load new page -- reversing fade-out."),setTimeout(function(){!1===background_color_changed?document.documentElement.style.opacity=1:setTimeout(function(){document.documentElement.classList.add("background-transition"),document.body.classList.add("background-transition"),document.documentElement.style.backgroundColor=c,document.body.style.backgroundColor=c,setTimeout(function(){document.documentElement.classList.remove("background-transition"),document.body.classList.remove("background-transition"),document.body.style.backgroundColor="",setTimeout(function(){document.documentElement.style.opacity=1},300)},450)},450)},300)})}function fade_out(){return new Promise(function(t,e){1===url_vars.content_animation?(background_color_changed&&(1===url_vars.theme?1===url_vars.dark_theme_color?document.documentElement.style.backgroundColor="rgb(0, 0, 0)":document.documentElement.style.backgroundColor="rgb(24, 24, 24)":document.documentElement.style.backgroundColor="rgb(255, 255, 255)"),t()):(document.documentElement.style.opacity=0,setTimeout(function(){!1===background_color_changed?t():(document.documentElement.classList.add("background-transition"),document.body.classList.add("background-transition"),1===url_vars.theme?1===url_vars.dark_theme_color?(document.documentElement.style.backgroundColor="rgb(0, 0, 0)",document.body.style.backgroundColor="rgb(0, 0, 0)"):(document.documentElement.style.backgroundColor="rgb(24, 24, 24)",document.body.style.backgroundColor="rgb(24, 24, 24)"):(document.documentElement.style.backgroundColor="rgb(255, 255, 255)",document.body.style.backgroundColor="rgb(255, 255, 255)"),setTimeout(function(){document.body.style.backgroundColor="",document.documentElement.classList.remove("background-transition"),document.body.classList.remove("background-transition"),t()},450))},300))})}function parse_scripts(){var t=document.querySelectorAll("script");for(let e=0;e<t.length;e++){let n=document.createElement("script");n.innerHTML=t[e].textContent,document.body.appendChild(n),t[e].remove()}}function on_page_unload(){let t=document.querySelectorAll("style.temporary-style, link.temporary-style, script.temporary-script");for(let e=0;e<t.length;e++)t[e].remove();t=document.querySelectorAll("body > *:not(script)");for(let e=0;e<t.length;e++)t[e].remove();for(let t in temporary_handlers)for(let e=0;e<temporary_handlers[t].length;e++)window.removeEventListener(t,temporary_handlers[t][e]),document.documentElement.removeEventListener(t,temporary_handlers[t][e]);for(let t=0;t<temporary_web_workers.length;t++)temporary_web_workers[t].terminate();temporary_web_workers=[]}function concat_url_vars(t){let e="?page="+encodeURIComponent(current_url),n="";for(var o=0;o<Object.keys(url_vars).length;o++)n=Object.keys(url_vars)[o],(1===url_vars[n]||window.matchMedia("(prefers-color-scheme: dark)").matches&&0===url_vars.theme&&"theme"===n)&&(e+="&"+n+"="+url_vars[n]);return t&&(e+="&return="+get_url_var("page")),e}function write_url_vars(){window.location.href.includes("settings")||history.replaceState({},document.title,window.location.pathname+concat_url_vars(!1))}function on_page_load(){parse_page_specific_style(),parse_page_specific_scripts(),document.querySelector("title").innerHTML=page_settings.title,fade_in(),insert_images(),set_up_aos(),!1===page_settings.no_footer&&(insert_footer(),setTimeout(floating_footer_scroll,50)),set_up_scroll_up_button(),fetch_other_page_banners_in_background(),remove_hover_on_touch(),set_links(),disable_links(),background_color_changed=!1,page_settings.banner_page&&fetch_other_banner_size_in_background(),1===url_vars.contrast&&set_img_button_contrast(),page_settings.writing_page&&1===url_vars.font&&set_writing_page_font(),page_settings.writing_page&&1===url_vars.writing_style&&set_writing_page_style(),page_settings.small_margins_on_ultrawide&&"ultrawide"===layout_string&&reduce_page_margins(),1===url_vars.comments&&remove_disqus(),1===url_vars.content_animation&&remove_animation(),page_settings.math_page&&typeset_math(),1!==url_vars.comments&&page_settings.comments&&load_disqus()}function parse_page_specific_style(){let t=current_url.split("/");t=(t=(t=t[t.length-1]).split("."))[0];try{fetch(parent_folder+"style/"+t+".css").then(function(e){let n=document.createElement("link");n.setAttribute("rel","stylesheet"),DEBUG?n.setAttribute("href",parent_folder+"style/"+t+".css"):n.setAttribute("href",parent_folder+"style/"+t+".min.css"),n.classList.add("temporary-style"),document.head.insertBefore(n,document.head.firstChild)})}catch(t){}}function parse_page_specific_scripts(){let t=current_url.split("/");t=(t=(t=t[t.length-1]).split("."))[0];try{fetch(parent_folder+"scripts/"+t+".js").then(function(e){let n=document.createElement("script");DEBUG?n.setAttribute("src",parent_folder+"scripts/"+t+".js"):n.setAttribute("src",parent_folder+"scripts/"+t+".min.js"),n.classList.add("temporary-script"),document.body.appendChild(n)})}catch(t){}}function fade_in(){page_settings.banner_page?(add_style(`\n\t\t\t#banner\n\t\t\t{\n\t\t\t\tbackground: url(${banner_path}landscape.${banner_extension}) no-repeat center center;\n\t\t\t\tbackground-size: cover;\n\t\t\t}\n\t\t\t\n\t\t\t@media (max-aspect-ratio: 1/1)\n\t\t\t{\n\t\t\t\t#banner\n\t\t\t\t{\n\t\t\t\t\tbackground: url(${banner_path}portrait.${banner_extension}) no-repeat center center;\n\t\t\t\t\tbackground-size: cover;\n\t\t\t\t}\n\t\t\t}\n\t\t`),document.documentElement.style.opacity=1):(document.documentElement.classList.remove("animated-opacity"),document.documentElement.style.opacity=1,document.documentElement.classList.add("animated-opacity"))}function set_up_aos(){let t=document.querySelectorAll("[data-aos]"),e=0,n=0;for(let o=0;o<t.length;o++)t[o].classList.contains("new-aos-section")?(e++,n=null!==t[o].getAttribute("data-aos-delay")?parseInt(t[o].getAttribute("data-aos-delay")):0,t[o].id="aos-section-"+e):(null!==t[o].getAttribute("data-aos-delay")?n=parseInt(t[o].getAttribute("data-aos-delay")):n+=100,t[o].setAttribute("data-aos-delay",n),t[o].setAttribute("data-aos-anchor","#aos-section-"+e));setTimeout(function(){for(let e=0;e<t.length;e++)t[e].offsetHeight;AOS.refreshHard()},1e3)}function fetch_item_from_queue(){0===fetch_queue.length||currently_fetching||(currently_fetching=!0,console.log("Now fetching "+fetch_queue[0]),fetch(fetch_queue[0]).then(function(){currently_fetching=!1,fetch_queue.shift(),fetch_item_from_queue()}))}function fetch_other_banner_size_in_background(){"landscape.webp"===banner_name||"landscape.jpg"===banner_name?(fetch_queue.push(banner_path+"portrait."+banner_extension),fetch_item_from_queue()):(fetch_queue.push(banner_path+"landscape."+banner_extension),fetch_item_from_queue())}function fetch_other_page_banners_in_background(){let t=document.querySelectorAll("a");for(let e=0;e<t.length;e++){let n=t[e].getAttribute("href");if(banner_pages.includes(n)&&!banner_pages_already_fetched.includes(n))if(multibanner_pages.hasOwnProperty(n)){let t=multibanner_pages[n].current_banner%(multibanner_pages[n].current_banner+1)+1;fetch_queue.push(n.slice(0,n.lastIndexOf("/")+1)+"banners/"+t+"/"+banner_name),fetch_item_from_queue()}else banner_pages_already_fetched.push(n),fetch_queue.push(n.slice(0,n.lastIndexOf("/")+1)+"banners/"+banner_name),fetch_item_from_queue()}}function disable_links(){let t=document.querySelectorAll("a:not(.real-link)");for(let e=0;e<t.length;e++)t[e].addEventListener("click",function(t){t.preventDefault()})}function typeset_math(){!1===scripts_loaded.mathjax?(load_script("https://polyfill.io/v3/polyfill.min.js?features=es6"),load_script("https://cdn.jsdelivr.net/npm/mathjax@3.0.0/es5/tex-mml-chtml.js").then(function(){scripts_loaded.mathjax=!0}).catch(function(t){console.error("Could not load MathJax")})):MathJax.typeset()}function set_img_button_contrast(){let t=document.querySelectorAll(".nav-button, .scroll-button");for(i=0;i<t.length;i++)t[i].setAttribute("src",t[i].getAttribute("src").replace("chevron-left","chevron-left-dark").replace("chevron-right","chevron-right-dark").replace("chevron-down","chevron-down-dark"))}function set_writing_page_font(){set_element_styles(".body-text","font-family","'Gentium Book Basic', serif")}function set_writing_page_style(){let t=document.querySelectorAll("section div .body-text");for(let e=0;e<t.length;e++)try{let n=t[e].parentNode.nextElementSibling;"br"===n.tagName.toLowerCase()&&n.remove()}catch(t){}t=document.querySelectorAll("section div:not(:first-child) .body-text");for(let e=0;e<t.length;e++)t[e].style.textIndent="10pt"}function reduce_page_margins(){try{document.querySelector("#ultrawide-margin-adjust").remove()}catch(t){}if("ultrawide"===layout_string){add_style("\n\t\t\t.body-text, #disqus_thread, .nav-buttons, .line-break\n\t\t\t{\n\t\t\t\twidth: 50vw;\n\t\t\t}\n\t\t").id="ultrawide-margin-adjust"}}function remove_disqus(){try{document.querySelector("#disqus_thread").previousElementSibling.remove(),document.querySelector("#disqus_thread").previousElementSibling.remove(),document.querySelector("#disqus_thread").previousElementSibling.remove(),document.querySelector("#disqus_thread").remove()}catch(t){}}function remove_animation(){let t=document.body.querySelectorAll("[data-aos]");for(let e=0;e<t.length;e++)t[e].removeAttribute("data-aos")}window.addEventListener("popstate",function(t){let e=get_url_var("page");null!==e&&decodeURIComponent(e)!==current_url?redirect(decodeURIComponent(e),!1,!0,!0):redirect("/home/home.html",!1,!0)}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js")});let scroll_up_button_visible=!1;function set_up_scroll_up_button(){let t=document.createElement("div");t.id="scroll-up-button-location",document.body.insertBefore(t,document.body.firstChild),fit_scroll_up_button_to_window_width(),window.addEventListener("resize",fit_scroll_up_button_to_window_width),temporary_handlers.resize.push(fit_scroll_up_button_to_window_width),hasTouch()?init_scroll_up_button_listeners_touch():init_scroll_up_button_listeners_no_touch()}function fit_scroll_up_button_to_window_width(){try{document.querySelector("#scroll-up-button-container").style.width=document.documentElement.clientWidth+"px"}catch(t){}}function init_scroll_up_button_listeners_no_touch(){scroll_up_button_visible=!1,document.querySelector("#scroll-up-button-location").addEventListener("mouseenter",function(){if(!1===scroll_up_button_visible&&0!==window.scrollY){let t="chevron-up";1===url_vars.contrast&&(t+="-dark"),document.querySelector("#scroll-up-button-location").insertAdjacentHTML("afterend",`\n\t\t\t\t<div id="scroll-up-button-container">\n\t\t\t\t\t<div class="center-content" data-aos="fade-down">\n\t\t\t\t\t\t<input type="image" id="scroll-up-button" src="/graphics/general-icons/${t}.png" onclick="smooth_scroll_to('body')"></input>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`),scroll_up_button_visible=!0,fit_scroll_up_button_to_window_width()}setTimeout(function(){document.querySelector("#scroll-up-button-container").addEventListener("mouseleave",function(){scroll_up_button_visible&&remove_scroll_up_button()})},100)})}function init_scroll_up_button_listeners_touch(){scroll_up_button_visible=!1,document.documentElement.addEventListener("touchend",scroll_up_button_process_touchend,!1),temporary_handlers.touchend.push(scroll_up_button_process_touchend),document.documentElement.addEventListener("touchstart",scroll_up_button_process_touchstart,!1),temporary_handlers.touchstart.push(scroll_up_button_process_touchstart)}function scroll_up_button_process_touchend(){let t=document.elementFromPoint(last_touch_x,last_touch_y);if(document.querySelector("#scroll-up-button-location")===t&&!1===scroll_up_button_visible&&0!==window.scrollY){let t="chevron-up";1===url_vars.contrast&&(t+="-dark"),document.querySelector("#scroll-up-button-location").insertAdjacentHTML("afterend",`\n\t\t\t\t<div id="scroll-up-button-container">\n\t\t\t\t\t<div class="center-content" data-aos="fade-down">\n\t\t\t\t\t\t<input type="image" id="scroll-up-button" src="/graphics/general-icons/${t}.png" onclick="smooth_scroll_to('body')"></input>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`),scroll_up_button_visible=!0,fit_scroll_up_button_to_window_width()}}function scroll_up_button_process_touchstart(t){scroll_up_button_visible&&(document.querySelector("#scroll-up-button-container").contains(t.target)||remove_scroll_up_button())}function remove_scroll_up_button(){document.querySelector("#scroll-up-button-container").classList.add("animated-opacity"),document.querySelector("#scroll-up-button-container").style.opacity=0,setTimeout(function(){document.querySelector("#scroll-up-button-container").remove(),scroll_up_button_visible=!1},300)}function smooth_scroll_to(t){smooth_scroll.animateScroll(document.querySelector(t)),scroll_up_button_visible&&remove_scroll_up_button()}function get_url_var(t){let e=window.location.search.substring(1).split("&"),n=[];for(let o=0;o<e.length;o++)if((n=e[o].split("="))[0]===t)return n[1];return null}let url_vars={theme:get_url_var("theme"),dark_theme_color:get_url_var("dark_theme_color"),contrast:get_url_var("contrast"),text_size:get_url_var("text_size"),font:get_url_var("font"),writing_style:get_url_var("writing_style"),comments:get_url_var("comments"),content_animation:get_url_var("content_animation"),banner_style:get_url_var("banner_style")};window.matchMedia("(prefers-color-scheme: dark)").matches&&null===url_vars.theme&&(url_vars.theme=1);let url_var_functions={theme:switch_theme,dark_theme_color:switch_dark_theme_color,contrast:switch_contrast,text_size:switch_text_size,font:switch_font,writing_style:switch_writing_style,comments:switch_comments,content_animation:switch_content_animation,banner_style:switch_banner_style},settings_texts={theme:["Theme: light","Theme: dark"],dark_theme_color:["Dark theme color: dark gray","Dark theme color: black"],contrast:["Contrast: normal","Contrast: high"],text_size:["Text size: normal","Text size: large"],font:["Font: always sans serif","Font: serif on writing"],writing_style:["Text on writing pages: double-spaced","Text on writing pages: single-spaced and indented"],comments:["Comments: enabled","Comments: disabled"],content_animation:["Content animation: enabled","Content animation: disabled"],banner_style:["Banners: parallax","Banners: simple"]},dark_theme_background_color="rgb(24, 24, 24)",dark_theme_background_color_rgba="rgba(24, 24, 24, ";function init_settings(){for(let t in url_vars)null===url_vars[t]?url_vars[t]=0:1===url_vars[t]&&(url_vars[t]=0,url_var_functions[t]())}function switch_theme(){try{document.querySelector("#theme-button-row").style.opacity=0}catch(t){}if(0===url_vars.theme){1!==url_vars.dark_theme_color?document.documentElement.style.backgroundColor="rgb(24, 24, 24)":document.documentElement.style.backgroundColor="rgb(0, 0, 0)",1===url_vars.contrast?(set_element_styles(".heading-text","color","rgb(255, 255, 255)"),set_element_styles(".body-text","color","rgb(216, 216, 216)"),set_element_styles(".text-button","color","rgb(64, 64, 64)"),set_element_styles(".footer-button, .text-button","border-color","rgb(127, 127, 127)"),setTimeout(function(){let t=add_style(get_settings_style("dark_contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}},600)):(set_element_styles(".heading-text","color","rgb(255, 255, 255)"),set_element_styles(".body-text","color","rgb(152, 152, 152)"),set_element_styles(".text-button","color","rgb(127, 127, 127)"),set_element_styles(".footer-button, .text-button","border-color","rgb(127, 127, 127)"),setTimeout(function(){let t=add_style(get_settings_style("dark"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}},600));try{document.querySelector("#theme-button-row").style.opacity=0}catch(t){}setTimeout(function(){try{document.querySelector("#theme-button-text").textContent=settings_texts.theme[1]}catch(t){}},300),url_vars.theme=1}else document.documentElement.style.backgroundColor="rgb(255, 255, 255)",1===url_vars.contrast?(set_element_styles(".heading-text","color","rgb(0, 0, 0)"),set_element_styles(".body-text","color","rgb(64, 64, 64)"),set_element_styles(".text-button","color","rgb(64, 64, 64)"),set_element_styles(".footer-button, .text-button","border-color","rgb(64, 64, 64)"),setTimeout(function(){let t=add_style(get_settings_style("contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}},600)):(set_element_styles(".heading-text","color","rgb(0, 0, 0)"),set_element_styles(".body-text","color","rgb(127, 127, 127)"),set_element_styles(".text-button","color","rgb(127, 127, 127)"),set_element_styles(".footer-button, .text-button","border-color","rgb(127, 127, 127)"),setTimeout(function(){try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}},600)),setTimeout(function(){try{document.querySelector("#theme-button-text").textContent=settings_texts.theme[0]}catch(t){}},300),url_vars.theme=0;setTimeout(function(){try{document.querySelector("#theme-button-row").style.opacity=1}catch(t){}},300),write_url_vars()}function switch_dark_theme_color(){try{document.querySelector("#dark-theme-color-button-row").style.opacity=0}catch(t){}0===url_vars.dark_theme_color?(dark_theme_background_color="rgb(0, 0, 0)",dark_theme_background_color_rgba="rgba(0, 0, 0, ",1===url_vars.theme&&(document.documentElement.style.backgroundColor="rgb(0, 0, 0)"),setTimeout(function(){let t=null;1===url_vars.theme?t=1===url_vars.contrast?add_style(get_settings_style("dark_contrast"),!1):add_style(get_settings_style("dark"),!1):1===url_vars.contrast&&(t=add_style(get_settings_style("contrast"),!1));try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}},600),setTimeout(function(){try{document.querySelector("#dark-theme-color-button-text").textContent=settings_texts.dark_theme_color[1]}catch(t){}},300),url_vars.dark_theme_color=1):(dark_theme_background_color="rgb(24, 24, 24)",dark_theme_background_color_rgba="rgba(24, 24, 24, ",1===url_vars.theme&&(document.documentElement.style.backgroundColor="rgb(24, 24, 24)"),setTimeout(function(){let t=null;1===url_vars.theme?t=1===url_vars.contrast?add_style(get_settings_style("dark_contrast"),!1):add_style(get_settings_style("dark"),!1):1===url_vars.contrast&&(t=add_style(get_settings_style("contrast"),!1));try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}},600),setTimeout(function(){try{document.querySelector("#dark-theme-color-button-text").textContent=settings_texts.dark_theme_color[0]}catch(t){}},300),url_vars.dark_theme_color=0),setTimeout(function(){try{document.querySelector("#dark-theme-color-button-row").style.opacity=1}catch(t){}},300),write_url_vars()}function switch_contrast(){try{document.querySelector("#contrast-button-row").style.opacity=0}catch(t){}0===url_vars.contrast?(1===url_vars.theme?(set_element_styles(".heading-text","color","rgb(255, 255, 255)"),set_element_styles(".body-text","color","rgb(216, 216, 216)"),set_element_styles(".text-button","color","rgb(64, 64, 64)"),set_element_styles(".footer-button, .text-button","border-color","rgb(127, 127, 127)"),setTimeout(function(){let t=add_style(get_settings_style("dark_contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}},600)):(set_element_styles(".heading-text","color","rgb(0, 0, 0)"),set_element_styles(".body-text","color","rgb(64, 64, 64)"),set_element_styles(".text-button","color","rgb(64, 64, 64)"),set_element_styles(".footer-button, .text-button","border-color","rgb(64, 64, 64)"),setTimeout(function(){let t=add_style(get_settings_style("contrast"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}},600)),setTimeout(function(){try{document.querySelector("#contrast-button-text").textContent=settings_texts.contrast[1]}catch(t){}},300),url_vars.contrast=1):(1===url_vars.theme?(set_element_styles(".heading-text","color","rgb(255, 255, 255)"),set_element_styles(".body-text","color","rgb(152, 152, 152)"),set_element_styles(".text-button","color","rgb(127, 127, 127)"),set_element_styles(".footer-button, .text-button","border-color","rgb(127, 127, 127)"),setTimeout(function(){let t=add_style(get_settings_style("dark"),!1);try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}try{t.id="theme-contrast-adjust"}catch(t){}},600)):(set_element_styles(".heading-text","color","rgb(0, 0, 0)"),set_element_styles(".body-text","color","rgb(127, 127, 127)"),set_element_styles(".text-button","color","rgb(127, 127, 127)"),set_element_styles(".footer-button, .text-button","border-color","rgb(127, 127, 127)"),setTimeout(function(){try{document.querySelector("#theme-contrast-adjust").remove()}catch(t){}},600)),setTimeout(function(){try{document.querySelector("#contrast-button-text").textContent=settings_texts.contrast[0]}catch(t){}},300),url_vars.contrast=0),setTimeout(function(){try{document.querySelector("#contrast-button-row").style.opacity=1}catch(t){}},300),write_url_vars()}function switch_text_size(){document.body.classList.add("animated-opacity"),document.body.style.opacity=0,0===url_vars.text_size?(setTimeout(function(){try{document.querySelector("#text-size-adjust").remove()}catch(t){}add_style("\n\t\t\t\thtml\n\t\t\t\t{\n\t\t\t\t\tfont-size: 18px;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t@media (min-width: 1000px)\n\t\t\t\t{\n\t\t\t\t\thtml\n\t\t\t\t\t{\n\t\t\t\t\t\tfont-size: 22px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t",!1).id="text-size-adjust";try{document.querySelector("#text-size-button-text").textContent=settings_texts.text_size[1]}catch(t){}},300),url_vars.text_size=1):(setTimeout(function(){try{document.querySelector("#text-size-adjust").remove()}catch(t){}try{document.querySelector("#text-size-button-text").textContent=settings_texts.text_size[0]}catch(t){}},300),url_vars.text_size=0),setTimeout(function(){document.body.style.opacity=1,setTimeout(function(){document.body.classList.remove("animated-opacity")},300)},300),write_url_vars()}function switch_font(){try{document.querySelector("#font-button-row").style.opacity=0}catch(t){}0===url_vars.font?(setTimeout(function(){try{document.querySelector("#font-button-text").textContent=settings_texts.font[1]}catch(t){}},300),url_vars.font=1):(setTimeout(function(){try{document.querySelector("#font-button-text").textContent=settings_texts.font[0]}catch(t){}},300),url_vars.font=0),setTimeout(function(){try{document.querySelector("#font-button-row").style.opacity=1}catch(t){}},300),write_url_vars()}function switch_writing_style(){try{document.querySelector("#writing-style-button-row").style.opacity=0}catch(t){}0===url_vars.writing_style?(setTimeout(function(){try{document.querySelector("#writing-style-button-text").textContent=settings_texts.writing_style[1]}catch(t){}},300),url_vars.writing_style=1):(setTimeout(function(){try{document.querySelector("#writing-style-button-text").textContent=settings_texts.writing_style[0]}catch(t){}},300),url_vars.writing_style=0),setTimeout(function(){try{document.querySelector("#writing-style-button-row").style.opacity=1}catch(t){}},300),write_url_vars()}function switch_comments(){try{document.querySelector("#comments-button-row").style.opacity=0}catch(t){}0===url_vars.comments?(setTimeout(function(){try{document.querySelector("#comments-button-text").textContent=settings_texts.comments[1]}catch(t){}},300),url_vars.comments=1):(setTimeout(function(){try{document.querySelector("#comments-button-text").textContent=settings_texts.comments[0]}catch(t){}},300),url_vars.comments=0),setTimeout(function(){try{document.querySelector("#comments-button-row").style.opacity=1}catch(t){}},300),write_url_vars()}function switch_content_animation(){try{document.querySelector("#content-animation-button-row").style.opacity=0}catch(t){}0===url_vars.content_animation?(document.documentElement.classList.remove("animated-opacity"),setTimeout(function(){try{document.querySelector("#content-animation-button-text").textContent=settings_texts.content_animation[1]}catch(t){}},300),url_vars.content_animation=1):(document.documentElement.classList.add("animated-opacity"),setTimeout(function(){try{document.querySelector("#content-animation-button-text").textContent=settings_texts.content_animation[0]}catch(t){}},300),url_vars.content_animation=0),setTimeout(function(){try{document.querySelector("#content-animation-button-row").style.opacity=1}catch(t){}},300),write_url_vars()}function switch_banner_style(){try{document.querySelector("#banner-style-button-row").style.opacity=0}catch(t){}if(0===url_vars.banner_style){try{document.querySelector("#banner-adjust").remove()}catch(t){}add_style('\n\t\t\t#banner\n\t\t\t{\n\t\t\t\tposition: absolute !important;\n\t\t\t}\n\t\t\t\n\t\t\t#banner:after\n\t\t\t{\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\t\n\t\t\t\twidth: 100vw;\n\t\t\t\theight: 30vh;\n\t\t\t\tmargin-top: 70vh;\n\t\t\t\t\n\t\t\t\tbackground: -moz-linear-gradient(top, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%);\n\t\t\t\tbackground: -webkit-linear-gradient(top, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);\n\t\t\t\tbackground: linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);\n\t\t\t}\n\t\t',!1).id="banner-adjust",setTimeout(function(){try{document.querySelector("#banner-style-button-text").textContent=settings_texts.banner_style[1]}catch(t){}},300),url_vars.banner_style=1}else{try{document.querySelector("#banner-adjust").remove()}catch(t){}setTimeout(function(){try{document.querySelector("#banner-style-button-text").textContent=settings_texts.banner_style[0]}catch(t){}},300),url_vars.banner_style=0}setTimeout(function(){try{document.querySelector("#banner-style-button-row").style.opacity=1}catch(t){}},300),write_url_vars()}function get_settings_style(t){return"dark"===t?`\n\t\t\t.heading-text, .date-text, .title-text\n\t\t\t{\n\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t}\n\t\t\t\n\t\t\t.section-text\n\t\t\t{\n\t\t\t\tcolor: rgb(184, 184, 184);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text, .song-lyrics, .image-link-subtext\n\t\t\t{\n\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text .link\n\t\t\t{\n\t\t\t\tcolor: rgb(152, 216, 152);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.quote-text\n\t\t\t{\n\t\t\t\tcolor: rgb(104, 104, 104);\n\t\t\t}\n\t\t\t\n\t\t\t.quote-attribution\n\t\t\t{\n\t\t\t\tcolor: rgb(188, 188, 188);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.line-break\n\t\t\t{\n\t\t\t\tbackground: -moz-linear-gradient(left, ${dark_theme_background_color} 0%, rgb(116,116,116) 50%, ${dark_theme_background_color} 100%);\n\t\t\t\tbackground: -webkit-linear-gradient(left, ${dark_theme_background_color} 0%,rgb(116,116,116) 50%,${dark_theme_background_color}) 100%);\n\t\t\t\tbackground: linear-gradient(to right, ${dark_theme_background_color} 0%,rgb(116,116,116) 50%,${dark_theme_background_color} 100%);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t\tborder-color: rgb(88, 88, 88);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box:focus\n\t\t\t{\n\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.checkbox-container > input ~ .checkbox\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t}\n\n\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t{\n\t\t\t\tbackground-color: rgb(152, 152, 152);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.loading-spinner:after\n\t\t\t{\n\t\t\t\tborder: 2px solid rgb(152, 152, 152);\n\t\t\t\tborder-color: rgb(152, 152, 152) transparent rgb(152, 152, 152) transparent;\n\t\t\t}\n\t\t\t\n\t\t\t\t\t\t\n\t\t\t\n\t\t\t#floating-footer-content, #floating-footer-button-background\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t#banner:after, #floating-footer-gradient\n\t\t\t{\n\t\t\t\tbackground: -moz-linear-gradient(top, ${dark_theme_background_color_rgba}0) 0%, ${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\tbackground: -webkit-linear-gradient(top, ${dark_theme_background_color_rgba}0) 0%,${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\tbackground: linear-gradient(to bottom, ${dark_theme_background_color_rgba}0) 0%,${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.footer-button, .text-button, .nav-button, .checkbox-container\n\t\t\t{\n\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t}\n\t\t`:"contrast"===t?"\n\t\t\t.heading-text, .date-text, .title-text\n\t\t\t{\n\t\t\t\tcolor: rgb(0, 0, 0);\n\t\t\t}\n\t\t\t\n\t\t\t.section-text\n\t\t\t{\n\t\t\t\tcolor: rgb(48, 48, 48);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text, .song-lyrics, .image-link-subtext, .text-button\n\t\t\t{\n\t\t\t\tcolor: rgb(64, 64, 64);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text .link\n\t\t\t{\n\t\t\t\tcolor: rgb(64, 128, 64);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.quote-text\n\t\t\t{\n\t\t\t\tcolor: rgb(88, 88, 88);\n\t\t\t}\n\t\t\t\n\t\t\t.quote-attribution\n\t\t\t{\n\t\t\t\tcolor: rgb(46, 46, 46);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.line-break\n\t\t\t{\n\t\t\t\tbackground: rgb(255, 255, 255);\n\t\t\t\tbackground: -moz-linear-gradient(left, rgb(255, 255, 255) 0%, rgb(120,120,120) 50%, rgb(255, 255, 255) 100%);\n\t\t\t\tbackground: -webkit-linear-gradient(left, rgb(255, 255, 255) 0%,rgb(120,120,120) 50%,rgb(255, 255, 255)) 100%);\n\t\t\t\tbackground: linear-gradient(to right, rgb(255, 255, 255) 0%,rgb(120,120,120) 50%,rgb(255, 255, 255) 100%);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box\n\t\t\t{\n\t\t\t\tbackground-color: rgb(255, 255, 255);\n\t\t\t\tcolor: rgb(152, 152, 152);\n\t\t\t\tborder-color: rgb(88, 88, 88);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box:focus\n\t\t\t{\n\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t}\n\t\t\t\n\t\t\t\n\n\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t{\n\t\t\t\tbackground-color: rgb(64, 64, 64);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.loading-spinner:after\n\t\t\t{\n\t\t\t\tborder: 2px solid rgb(64, 64, 64);\n\t\t\t\tborder-color: rgb(64, 64, 64) transparent rgb(64, 64, 64) transparent;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.footer-button, .text-button, .nav-button, .checkbox-container\n\t\t\t{\n\t\t\t\tborder-color: rgb(64, 64, 64);\n\t\t\t}\n\t\t":"dark_contrast"===t?`\n\t\t\t.heading-text, .date-text, .title-text\n\t\t\t{\n\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t}\n\t\t\t\n\t\t\t.section-text\n\t\t\t{\n\t\t\t\tcolor: rgb(232, 232, 232);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text, .song-lyrics, .image-link-subtext\n\t\t\t{\n\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t}\n\t\t\t\n\t\t\t.body-text .link\n\t\t\t{\n\t\t\t\tcolor: rgb(216, 255, 216);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.quote-text\n\t\t\t{\n\t\t\t\tcolor: rgb(192, 192, 192);\n\t\t\t}\n\t\t\t\n\t\t\t.quote-attribution\n\t\t\t{\n\t\t\t\tcolor: rgb(234, 234, 234);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.line-break\n\t\t\t{\n\t\t\t\tbackground: ${dark_theme_background_color};\n\t\t\t\tbackground: -moz-linear-gradient(left, ${dark_theme_background_color} 0%, rgb(164,164,164) 50%, ${dark_theme_background_color} 100%);\n\t\t\t\tbackground: -webkit-linear-gradient(left, ${dark_theme_background_color} 0%,rgb(164,164,164) 50%,${dark_theme_background_color}) 100%);\n\t\t\t\tbackground: linear-gradient(to right, ${dark_theme_background_color} 0%,rgb(164,164,164) 50%,${dark_theme_background_color} 100%);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t\tcolor: rgb(216, 216, 216);\n\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t}\n\t\t\t\n\t\t\t.text-box:focus\n\t\t\t{\n\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.checkbox-container\n\t\t\t{\n\t\t\t\tborder-color: rgb(216, 216, 216);\n\t\t\t}\n\t\t\t\n\t\t\t.checkbox-container > input ~ .checkbox\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t}\n\n\t\t\t.checkbox-container > input:checked ~ .checkbox\n\t\t\t{\n\t\t\t\tbackground-color: rgb(216, 216, 216);\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.loading-spinner:after\n\t\t\t{\n\t\t\t\tborder: 2px solid rgb(216, 216, 216);\n\t\t\t\tborder-color: rgb(216, 216, 216) transparent rgb(216, 216, 216) transparent;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t#floating-footer-content, #floating-footer-button-background\n\t\t\t{\n\t\t\t\tbackground-color: ${dark_theme_background_color};\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t#banner:after, #floating-footer-gradient\n\t\t\t{\n\t\t\t\tbackground: -moz-linear-gradient(top, ${dark_theme_background_color_rgba}0) 0%, ${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\tbackground: -webkit-linear-gradient(top, ${dark_theme_background_color_rgba}0) 0%,${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t\tbackground: linear-gradient(to bottom, ${dark_theme_background_color_rgba}0) 0%,${dark_theme_background_color_rgba}1) 100%) !important;\n\t\t\t}\n\t\t\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t.footer-button, .text-button, .nav-button\n\t\t\t{\n\t\t\t\tborder-color: rgb(152, 152, 152);\n\t\t\t}\n\t\t`:void 0}1===url_vars.dark_theme_color&&(dark_theme_background_color="rgb(0, 0, 0)",dark_theme_background_color_rgba="rgba(0, 0, 0, ");