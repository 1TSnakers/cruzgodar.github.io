var scroll=0,banner_done=!1,scroll_button_done=!1,global_opacity=0,banner_extension="";function load_banner(){var t;(banner_extension=supports_webp?"webp":"jpg",1!=page_settings.manual_banner)&&(t=window_width/window_height<.625||window_width<=800?"portrait."+banner_extension:"landscape."+banner_extension,$.get(parent_folder+"banners/"+t).done(function(){$("head").append(`\n\t\t\t\t<style class="temporary-style">\n\t\t\t\t\t.banner:before\n\t\t\t\t\t{\n\t\t\t\t\t\tbackground: url("${parent_folder}banners/landscape.${banner_extension}") no-repeat center center;\n\t\t\t\t\t\t-webkit-background-size: cover;\n\t\t\t\t\t\tbackground-size: cover;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t@media screen and (max-aspect-ratio: 10/16), (max-width: 800px)\n\t\t\t\t\t{\n\t\t\t\t\t\t.banner:before\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbackground: url("${parent_folder}banners/portrait.${banner_extension}") no-repeat center center;\n\t\t\t\t\t\t\t-webkit-background-size: cover;\n\t\t\t\t\t\t\tbackground-size: cover;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t`),1!=url_vars.content_animation?$("html").animate({opacity:1},300,"swing"):$("html").css("opacity",1),0==scroll&&setTimeout(add_scroll_button,3e3)}).fail(function(){$("#background-image, #banner-cover").remove(),1!=url_vars.content_animation?$("html").animate({opacity:1},300,"swing"):$("html").css("opacity",1),update_aos()}))}function scroll_update(){(scroll=$(window).scrollTop())>=0&&(1!=url_vars.banner_style&&(scroll<=window_height?(global_opacity=.5+.5*Math.sin(Math.PI*Math.max(1-scroll/window_height,0)-.5*Math.PI),$("#background-image").css("opacity",global_opacity),banner_done=0==global_opacity):0==banner_done&&($("#background-image").css("opacity",0),banner_done=!0)),scroll<=window_height/3?(global_opacity=.5+.5*Math.sin(Math.PI*Math.max(1-3*scroll/window_height,0)-.5*Math.PI),$(".scroll-button").css("opacity",global_opacity),0==global_opacity?($(".scroll-button").remove(),scroll_button_done=!0):scroll_button_done=!1):0==scroll_button_done?(1!=url_vars.banner_style&&$(".name-text").css("opacity",0),$(".scroll-button").remove(),scroll_button_done=!0):global_opacity=0)}function add_scroll_button(){if(0==scroll){var t="chevron-down";1==url_vars.contrast&&(t+="-dark"),$("#banner-cover").before('\n\t\t\t<div style="height: 100vh; display: flex; align-items: center; justify-content: center" data-aos="fade-down">\n\t\t\t\t<input type="image" class="scroll-button" src="/graphics/general-icons/'+t+'.png" alt="Scroll down" onclick="scroll_down()">\n\t\t\t</div>\n\t\t'),$("#banner-cover").remove()}}function scroll_down(){$("html, body").animate({scrollTop:$("#scroll-to").offset().top},1200,"swing")}$(function(){$(window).on("scroll",function(){scroll_update()}),$(window).on("resize",function(){scroll_update()})});