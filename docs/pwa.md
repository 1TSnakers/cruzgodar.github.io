# Progressive Web App Functionality



The site is a progressive web app. All this means is that it takes explicit control of how resources get cached, and in particular, it can be installed like a native app. Three files accomplish this:

- `manifest.json` defines a bunch of information about the site that is required for an app, like its name, the icons it can use, and the url the app should load at launch. In particular, it also defines `display` to be `standalone`, which tells the browser that the app should launch in its own window and without a url bar.

- `service-worker.js` controls what the app caches and when. It uses [Workbox](https://developers.google.com/web/tools/workbox) to make this process simpler — in particular, customizing when and how resources expire is made *much* easier. The two `workbox` calls tell the app to cache everything that ever gets fetched. If it's an image file, then it can stay for a month. The app won't fetch cached image files from the server at *all* — it will always use the cached version. This is great for images, since they're the main source of network usage and they aren't often changed, but for all other kinds of files, it's worth it to always use the network to get the latest version if possible. To that end, the first `workbox` call says to cache anything else that gets fetched, but to always go to the network if the app is online. The main benefit to all of this is that the app form of the site can load anything that it's ever seen before without using data, even when offline. The website can also technically do this, but getting the site to load at all can be difficult or impossible when offline.

- Finally, `register-service-worker.js` is a very short script that's part of the JS bundle. It tests to see if the browser supports service workers, and if so, registers `service-worker.js` as one. This means that those critical resources are cached as soon as the first page loads, so there's no need to wait when installing the app.