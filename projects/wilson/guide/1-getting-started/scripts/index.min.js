import{showPage}from"/scripts/src/load-page.min.mjs";import{$,$$}from"/scripts/src/main.min.mjs";import{Wilson}from"/scripts/wilson.min.mjs";!function(){"use strict";var e=$$("pre code");for(let r=0;r<e.length;r++)e[r].classList.add("highlightable");hljs.highlightAll();{var t={renderer:"cpu",canvasWidth:500,canvasHeight:500,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0};let p=new Wilson($("#output-canvas-1"),t),o=$("#a-1-input"),n=$("#b-1-input"),l=$("#resolution-1-input");function i(a,b,resolution){var l=new Array(resolution*resolution);let i=0;for(let d=0;d<resolution;d++)for(let n=0;n<resolution;n++){var s=p.utils.interpolate.canvasToWorld(d,n);let e=s[0],t=s[1],r=Math.exp(-Math.sqrt(e*e+t*t)),o=0;for(o=0;o<100;o++){var u=e*e-t*t+a;if(t=2*e*t+b,e=u,r+=Math.exp(-Math.sqrt(e*e+t*t)),4<e*e+t*t)break}100===o?l[resolution*d+n]=0:(l[resolution*d+n]=r)>i&&(i=r)}var e=new Uint8ClampedArray(resolution*resolution*4);for(let t=0;t<resolution*resolution;t++)e[4*t]=0,e[4*t+1]=1.5*l[t]/i*255,e[4*t+2]=1.5*l[t]/i*255,e[4*t+3]=255;return e}$("#generate-1-button").addEventListener("click",()=>{let e=parseFloat(o.value||0),t=parseFloat(n.value||1),r=parseInt(l.value||500);p.changeCanvasSize(r,r),window.requestAnimationFrame(()=>p.render.drawFrame(i(e,t,r)))})}{t={renderer:"hybrid",canvasWidth:500,canvasHeight:500,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0};let p=new Wilson($("#output-canvas-2"),t),o=$("#a-2-input"),n=$("#b-2-input"),l=$("#resolution-2-input");function i(a,b,resolution){var l=new Array(resolution*resolution);let i=0;for(let d=0;d<resolution;d++)for(let n=0;n<resolution;n++){var s=p.utils.interpolate.canvasToWorld(d,n);let e=s[0],t=s[1],r=Math.exp(-Math.sqrt(e*e+t*t)),o=0;for(o=0;o<100;o++){var u=e*e-t*t+a;if(t=2*e*t+b,e=u,r+=Math.exp(-Math.sqrt(e*e+t*t)),4<e*e+t*t)break}100===o?l[resolution*d+n]=0:(l[resolution*d+n]=r)>i&&(i=r)}var e=new Uint8ClampedArray(resolution*resolution*4);for(let t=0;t<resolution*resolution;t++)e[4*t]=0,e[4*t+1]=1.5*l[t]/i*255,e[4*t+2]=1.5*l[t]/i*255,e[4*t+3]=255;return e}$("#generate-2-button").addEventListener("click",()=>{let e=parseFloat(o.value||0),t=parseFloat(n.value||1),r=parseInt(l.value||500);p.changeCanvasSize(r,r),window.requestAnimationFrame(()=>p.render.drawFrame(i(e,t,r)))}),$("#download-2-button").addEventListener("click",()=>{p.downloadFrame("a-julia-set.png")})}showPage()}();