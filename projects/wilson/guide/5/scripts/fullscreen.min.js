!function(){"use strict";let t=document.querySelectorAll("pre code");for(let e=0;e<t.length;e++)t[e].classList.add("highlightable");hljs.highlightAll();{let t="\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightness_scale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z = vec2(uv.x * 2.0, uv.y * 2.0);\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightness_scale * color, 1.0);\n\t\t\t}\n\t\t",r={renderer:"gpu",shader:t,canvas_width:1e3,canvas_height:1e3,world_width:4,world_height:4,world_center_x:0,world_center_y:0,use_draggables:!0,draggables_mousemove_callback:e,draggables_touchmove_callback:e,use_fullscreen:!0,use_fullscreen_button:!0,enter_fullscreen_button_icon_path:"/graphics/general-icons/enter-fullscreen.png",exit_fullscreen_button_icon_path:"/graphics/general-icons/exit-fullscreen.png"},a={renderer:"gpu",shader:t,canvas_width:100,canvas_height:100},i=new Wilson(document.querySelector("#output-canvas-1"),r);i.render.init_uniforms(["a","b","brightness_scale"]);i.draggables.add(0,1);let o=new Wilson(document.querySelector("#hidden-canvas-1"),a);o.render.init_uniforms(["a","b","brightness_scale"]),i.draggables.container.setAttribute("data-aos-offset",1e6),i.draggables.container.setAttribute("data-aos-delay",0),Page.Load.AOS.elements[0].splice(Page.Load.AOS.elements[0].length-2,0,[i.draggables.container,Page.Load.AOS.elements[0][Page.Load.AOS.elements[0].length-2][1]]),Page.Load.AOS.show_section(0),i.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),o.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let s=0,l=1,c=1e3,u=100,d=-1,g=document.querySelector("#resolution-1-input");function e(t,e,r,a){s=e,l=r,window.requestAnimationFrame(n)}function n(t){let e=t-d;if(d=t,0===e)return;o.gl.uniform1f(o.uniforms.a,s),o.gl.uniform1f(o.uniforms.b,l),o.gl.uniform1f(o.uniforms.brightness_scale,20),o.render.draw_frame();let n=o.render.get_pixel_data(),r=new Array(u*u);for(let t=0;t<u*u;t++)r[t]=n[4*t]+n[4*t+1]+n[4*t+2];r.sort((t,e)=>t-e);let a=r[Math.floor(u*u*.98)]/255*18;a=Math.max(a,.1),i.gl.uniform1f(i.uniforms.a,s),i.gl.uniform1f(i.uniforms.b,l),i.gl.uniform1f(i.uniforms.brightness_scale,a),i.render.draw_frame()}g.addEventListener("input",()=>{c=parseInt(g.value||1e3),i.change_canvas_size(c,c)}),document.querySelector("#download-1-button").addEventListener("click",()=>{i.download_frame("a-julia-set.png")}),i.change_canvas_size(c,c),window.requestAnimationFrame(n)}{let t="\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float aspect_ratio;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightness_scale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z;\n\t\t\t\t\n\t\t\t\tif (aspect_ratio >= 1.0)\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * aspect_ratio * 2.0, uv.y * 2.0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * 2.0, uv.y / aspect_ratio * 2.0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightness_scale * color, 1.0);\n\t\t\t}\n\t\t",a={renderer:"gpu",shader:t,canvas_width:1e3,canvas_height:1e3,world_width:4,world_height:4,world_center_x:0,world_center_y:0,use_draggables:!0,draggables_mousemove_callback:e,draggables_touchmove_callback:e,use_fullscreen:!0,true_fullscreen:!0,use_fullscreen_button:!0,enter_fullscreen_button_icon_path:"/graphics/general-icons/enter-fullscreen.png",exit_fullscreen_button_icon_path:"/graphics/general-icons/exit-fullscreen.png",switch_fullscreen_callback:r},i={renderer:"gpu",shader:t,canvas_width:100,canvas_height:100},o=new Wilson(document.querySelector("#output-canvas-2"),a);o.render.init_uniforms(["aspect_ratio","a","b","brightness_scale"]);o.draggables.add(0,1);let s=new Wilson(document.querySelector("#hidden-canvas-2"),i);s.render.init_uniforms(["aspect_ratio","a","b","brightness_scale"]),o.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),s.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let l=1,c=0,u=1,d=1e3,g=100,_=-1,f=document.querySelector("#resolution-2-input");function e(t,e,r,a){c=e,u=r,window.requestAnimationFrame(n)}function n(t){let e=t-_;if(_=t,0===e)return;s.gl.uniform1f(s.uniforms.a,c),s.gl.uniform1f(s.uniforms.b,u),s.gl.uniform1f(s.uniforms.brightness_scale,20),s.render.draw_frame();let n=s.render.get_pixel_data(),r=new Array(g*g);for(let t=0;t<g*g;t++)r[t]=n[4*t]+n[4*t+1]+n[4*t+2];r.sort((t,e)=>t-e);let a=r[Math.floor(g*g*.98)]/255*18;a=Math.max(a,.1),o.gl.uniform1f(o.uniforms.aspect_ratio,l),o.gl.uniform1f(o.uniforms.a,c),o.gl.uniform1f(o.uniforms.b,u),o.gl.uniform1f(o.uniforms.brightness_scale,a),o.render.draw_frame()}function r(){o.fullscreen.currently_fullscreen?(l=window.innerWidth/window.innerHeight)>=1?(o.change_canvas_size(d,Math.floor(d/l)),o.world_width=4*l,o.world_height=4):(o.change_canvas_size(Math.floor(d*l),d),o.world_width=4,o.world_height=4/l):(l=1,o.change_canvas_size(d,d),o.world_width=4,o.world_height=4),window.requestAnimationFrame(n)}f.addEventListener("input",()=>{d=parseInt(f.value||1e3),o.change_canvas_size(d,d)}),document.querySelector("#download-2-button").addEventListener("click",()=>{o.download_frame("a-julia-set.png")}),o.gl.uniform1f(o.uniforms.aspect_ratio,1),s.gl.uniform1f(s.uniforms.aspect_ratio,1),window.requestAnimationFrame(n),window.addEventListener("resize",r),Page.temporary_handlers.resize.push(r)}document.querySelector("#previous-part-button").addEventListener("click",()=>{Page.Navigation.redirect("/projects/wilson/guide/4/hidden-canvases.html")}),document.querySelector("#next-part-button").addEventListener("click",()=>{Page.Navigation.redirect("/projects/wilson/guide/6/interactivity.html")})}();