import{showPage}from"/scripts/src/load-page.mjs";!function(){"use strict";var e=$$("pre code");for(let a=0;a<e.length;a++)e[a].classList.add("highlightable");hljs.highlightAll();var a={renderer:"hybrid",canvasWidth:1e3,canvasHeight:1e3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousedownCallback:g,draggablesMousemoveCallback:c,draggablesMouseupCallback:u,draggablesTouchstartCallback:g,draggablesTouchmoveCallback:c,draggablesTouchendCallback:u};let h=new Wilson($("#output-canvas"),a);h.draggables.add(0,1);let n=1e3,l=200,o=0,i=1,s=200,r=0,t=-1,d=$("#resolution-input");function g(a,e,r,t){h.changeCanvasSize(l,l),o=e,i=r,s=l,window.requestAnimationFrame(w)}function c(a,e,r,t){o=e,i=r,s=l,window.requestAnimationFrame(w)}function u(a,e,r,t){h.changeCanvasSize(n,n),o=e,i=r,s=n,window.requestAnimationFrame(w)}function w(a){var e=a-t;t=a,0==e&&r===s||(r=s,h.render.drawFrame(function(o,i,s){var d=new Array(s*s);let g=0;for(let l=0;l<s;l++)for(let n=0;n<s;n++){var c=h.utils.interpolate.canvasToWorld(l,n);let a=c[0],e=c[1],r=Math.exp(-Math.sqrt(a*a+e*e)),t=0;for(t=0;t<100;t++){var u=a*a-e*e+o;if(e=2*a*e+i,a=u,r+=Math.exp(-Math.sqrt(a*a+e*e)),4<a*a+e*e)break}100===t?d[s*l+n]=0:(d[s*l+n]=r)>g&&(g=r)}var e=new Uint8ClampedArray(s*s*4);for(let a=0;a<s*s;a++)e[4*a]=0,e[4*a+1]=1.5*d[a]/g*255,e[4*a+2]=1.5*d[a]/g*255,e[4*a+3]=255;return e}(o,i,s)))}d.addEventListener("input",()=>{n=parseInt(d.value||1e3),l=Math.floor(n/5)}),$("#download-button").addEventListener("click",()=>{h.downloadFrame("a-julia-set.png")}),h.changeCanvasSize(l,l),window.requestAnimationFrame(w),showPage()}();