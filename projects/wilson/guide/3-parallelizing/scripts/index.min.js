!function(){function f(b,d,n,p){g=d;h=n;window.requestAnimationFrame(k)}function k(b){let d=b-l;l=b;0!==d&&(a.gl.uniform1f(a.uniforms.a,g),a.gl.uniform1f(a.uniforms.b,h),a.gl.uniform1f(a.uniforms.brightnessScale,10),a.render.drawFrame())}var c=$$("pre code");for(let b=0;b<c.length;b++)c[b].classList.add("highlightable");hljs.highlightAll();c={renderer:"gpu",shader:"\n\t\tprecision highp float;\n\t\t\n\t\tvarying vec2 uv;\n\t\t\n\t\tuniform float a;\n\t\tuniform float b;\n\t\tuniform float brightnessScale;\n\t\t\n\t\t\n\t\t\n\t\tvoid main(void)\n\t\t{\n\t\t\tvec2 z = vec2(uv.x * 2.0, uv.y * 2.0);\n\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvec2 c = vec2(a, b);\n\t\t\t\n\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t{\n\t\t\t\tif (iteration == 99)\n\t\t\t\t{\n\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\n\t\t\t\tbrightness += exp(-length(z));\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tgl_FragColor = vec4(brightness / brightnessScale * color, 1.0);\n\t\t}\n\t",
canvasWidth:1E3,canvasHeight:1E3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:f,draggablesTouchmoveCallback:f};let a=new Wilson($("#output-canvas"),c);a.render.initUniforms(["a","b","brightnessScale"]);a.draggables.add(0,1);let g=0,h=1,e=1E3,l=-1,m=$("#resolution-input");m.addEventListener("input",()=>{e=parseInt(m.value||1E3);a.changeCanvasSize(e,e)});$("#download-button").addEventListener("click",()=>{a.downloadFrame("a-julia-set.png")});
window.requestAnimationFrame(k);Page.show()}();
