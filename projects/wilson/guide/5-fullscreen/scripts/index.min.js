!function(){var l=$$("pre code");for(let a=0;a<l.length;a++)l[a].classList.add("highlightable");hljs.highlightAll();l={renderer:"gpu",shader:"\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightnessScale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z = vec2(uv.x * 2.0, uv.y * 2.0);\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightnessScale * color, 1.0);\n\t\t\t}\n\t\t",
canvasWidth:1E3,canvasHeight:1E3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:w,draggablesTouchmoveCallback:w,useFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png"};let e=new Wilson($("#output-canvas-1"),l);e.render.initUniforms(["a","b","brightnessScale"]);e.draggables.add(0,1);let g=new Wilson($("#hidden-canvas-1"),
{renderer:"gpu",shader:"\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightnessScale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z = vec2(uv.x * 2.0, uv.y * 2.0);\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightnessScale * color, 1.0);\n\t\t\t}\n\t\t",
canvasWidth:100,canvasHeight:100});g.render.initUniforms(["a","b","brightnessScale"]);e.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important");g.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let p=0,q=1,m=1E3,x=-1,y=$("#resolution-1-input");y.addEventListener("input",()=>{m=parseInt(y.value||1E3);e.changeCanvasSize(m,m)});$("#download-1-button").addEventListener("click",()=>{e.downloadFrame("a-julia-set.png")});e.changeCanvasSize(m,m);window.requestAnimationFrame(z);
function w(a,d,c,n){p=d;q=c;window.requestAnimationFrame(z)}function z(a){var d=a-x;x=a;if(0!==d){g.gl.uniform1f(g.uniforms.a,p);g.gl.uniform1f(g.uniforms.b,q);g.gl.uniform1f(g.uniforms.brightnessScale,20);g.render.drawFrame();a=g.render.getPixelData();d=Array(1E4);for(let c=0;1E4>c;c++)d[c]=a[4*c]+a[4*c+1]+a[4*c+2];d.sort((c,n)=>c-n);a=d[9800]/255*18;a=Math.max(a,.1);e.gl.uniform1f(e.uniforms.a,p);e.gl.uniform1f(e.uniforms.b,q);e.gl.uniform1f(e.uniforms.brightnessScale,a);e.render.drawFrame()}}l=
{renderer:"gpu",shader:"\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float aspectRatio;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightnessScale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z;\n\t\t\t\t\n\t\t\t\tif (aspectRatio >= 1.0)\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * aspectRatio * 2.0, uv.y * 2.0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * 2.0, uv.y / aspectRatio * 2.0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightnessScale * color, 1.0);\n\t\t\t}\n\t\t",
canvasWidth:1E3,canvasHeight:1E3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:A,draggablesTouchmoveCallback:A,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:r};let b=new Wilson($("#output-canvas-2"),l);b.render.initUniforms(["aspectRatio","a","b","brightnessScale"]);
b.draggables.add(0,1);let f=new Wilson($("#hidden-canvas-2"),{renderer:"gpu",shader:"\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float aspectRatio;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightnessScale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z;\n\t\t\t\t\n\t\t\t\tif (aspectRatio >= 1.0)\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * aspectRatio * 2.0, uv.y * 2.0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * 2.0, uv.y / aspectRatio * 2.0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightnessScale * color, 1.0);\n\t\t\t}\n\t\t",
canvasWidth:100,canvasHeight:100});f.render.initUniforms(["aspectRatio","a","b","brightnessScale"]);b.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important");f.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let k=1,t=0,u=1,h=1E3,B=-1,C=$("#resolution-2-input");C.addEventListener("input",()=>{h=parseInt(C.value||1E3);b.changeCanvasSize(h,h)});$("#download-2-button").addEventListener("click",()=>{b.downloadFrame("a-julia-set.png")});b.gl.uniform1f(b.uniforms.aspectRatio,
1);f.gl.uniform1f(f.uniforms.aspectRatio,1);window.requestAnimationFrame(v);function A(a,d,c,n){t=d;u=c;window.requestAnimationFrame(v)}function v(a){var d=a-B;B=a;if(0!==d){f.gl.uniform1f(f.uniforms.a,t);f.gl.uniform1f(f.uniforms.b,u);f.gl.uniform1f(f.uniforms.brightnessScale,20);f.render.drawFrame();a=f.render.getPixelData();d=Array(1E4);for(let c=0;1E4>c;c++)d[c]=a[4*c]+a[4*c+1]+a[4*c+2];d.sort((c,n)=>c-n);a=d[9800]/255*18;a=Math.max(a,.1);b.gl.uniform1f(b.uniforms.aspectRatio,k);b.gl.uniform1f(b.uniforms.a,
t);b.gl.uniform1f(b.uniforms.b,u);b.gl.uniform1f(b.uniforms.brightnessScale,a);b.render.drawFrame()}}function r(){b.fullscreen.currentlyFullscreen?(k=window.innerWidth/window.innerHeight,1<=k?(b.changeCanvasSize(h,Math.floor(h/k)),b.worldWidth=4*k,b.worldHeight=4):(b.changeCanvasSize(Math.floor(h*k),h),b.worldWidth=4,b.worldHeight=4/k)):(k=1,b.changeCanvasSize(h,h),b.worldWidth=4,b.worldHeight=4);window.requestAnimationFrame(v)}window.addEventListener("resize",r);Page.temporaryHandlers.resize.push(r);
Page.show()}();
