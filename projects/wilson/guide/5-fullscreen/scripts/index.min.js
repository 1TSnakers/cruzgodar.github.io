!function(){"use strict";let e=$$("pre code");for(let r=0;r<e.length;r++)e[r].classList.add("highlightable");hljs.highlightAll();{let n=`
   precision highp float;
   
   varying vec2 uv;
   
   uniform float a;
   uniform float b;
   uniform float brightnessScale;
   
   
   
   void main(void)
   {
    vec2 z = vec2(uv.x * 2.0, uv.y * 2.0);
    vec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));
    float brightness = exp(-length(z));
    
    
    
    vec2 c = vec2(a, b);
    
    for (int iteration = 0; iteration < 100; iteration++)
    {
     if (iteration == 99)
     {
      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
      return;
     }
     
     if (length(z) >= 10.0)
     {
      break;
     }
     
     z = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;
     
     brightness += exp(-length(z));
    }
    
    
    gl_FragColor = vec4(brightness / brightnessScale * color, 1.0);
   }
  `,t=new Wilson($("#output-canvas-1"),{renderer:"gpu",shader:n,canvasWidth:1e3,canvasHeight:1e3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:u,draggablesTouchmoveCallback:u,useFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png"});t.render.initUniforms(["a","b","brightnessScale"]),t.draggables.add(0,1);let a=new Wilson($("#hidden-canvas-1"),{renderer:"gpu",shader:n,canvasWidth:100,canvasHeight:100});a.render.initUniforms(["a","b","brightnessScale"]),t.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),a.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let i=0,o=1,l=1e3,s=-1,c=$("#resolution-1-input");c.addEventListener("input",()=>{l=parseInt(c.value||1e3),t.changeCanvasSize(l,l)});function u(e,r,n,t){i=r,o=n,window.requestAnimationFrame($)}function $(e){let r=e-s;if(s=e,0===r)return;a.gl.uniform1f(a.uniforms.a,i),a.gl.uniform1f(a.uniforms.b,o),a.gl.uniform1f(a.uniforms.brightnessScale,20),a.render.drawFrame();let n=a.render.getPixelData(),l=Array(1e4);for(let c=0;c<1e4;c++)l[c]=n[4*c]+n[4*c+1]+n[4*c+2];l.sort((e,r)=>e-r);let u=l[Math.floor(9800)]/255*18;u=Math.max(u,.1),t.gl.uniform1f(t.uniforms.a,i),t.gl.uniform1f(t.uniforms.b,o),t.gl.uniform1f(t.uniforms.brightnessScale,u),t.render.drawFrame()}$("#download-1-button").addEventListener("click",()=>{t.downloadFrame("a-julia-set.png")}),t.changeCanvasSize(l,l),window.requestAnimationFrame($)}{let g=`
   precision highp float;
   
   varying vec2 uv;
   
   uniform float aspectRatio;
   
   uniform float a;
   uniform float b;
   uniform float brightnessScale;
   
   
   
   void main(void)
   {
    vec2 z;
    
    if (aspectRatio >= 1.0)
    {
     z = vec2(uv.x * aspectRatio * 2.0, uv.y * 2.0);
    }
    
    else
    {
     z = vec2(uv.x * 2.0, uv.y / aspectRatio * 2.0);
    }
    
    vec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));
    float brightness = exp(-length(z));
    
    
    
    vec2 c = vec2(a, b);
    
    for (int iteration = 0; iteration < 100; iteration++)
    {
     if (iteration == 99)
     {
      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
      return;
     }
     
     if (length(z) >= 10.0)
     {
      break;
     }
     
     z = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;
     
     brightness += exp(-length(z));
    }
    
    
    gl_FragColor = vec4(brightness / brightnessScale * color, 1.0);
   }
  `,d=new Wilson($("#output-canvas-2"),{renderer:"gpu",shader:g,canvasWidth:1e3,canvasHeight:1e3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:z,draggablesTouchmoveCallback:z,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:w});d.render.initUniforms(["aspectRatio","a","b","brightnessScale"]),d.draggables.add(0,1);let f=new Wilson($("#hidden-canvas-2"),{renderer:"gpu",shader:g,canvasWidth:100,canvasHeight:100});f.render.initUniforms(["aspectRatio","a","b","brightnessScale"]),d.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),f.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let m=1,h=0,v=1,_=1e3,p=-1,b=$("#resolution-2-input");b.addEventListener("input",()=>{_=parseInt(b.value||1e3),d.changeCanvasSize(_,_)});function z(e,r,n,t){h=r,v=n,window.requestAnimationFrame(y)}function y(e){let r=e-p;if(p=e,0===r)return;f.gl.uniform1f(f.uniforms.a,h),f.gl.uniform1f(f.uniforms.b,v),f.gl.uniform1f(f.uniforms.brightnessScale,20),f.render.drawFrame();let n=f.render.getPixelData(),t=Array(1e4);for(let a=0;a<1e4;a++)t[a]=n[4*a]+n[4*a+1]+n[4*a+2];t.sort((e,r)=>e-r);let i=t[Math.floor(9800)]/255*18;i=Math.max(i,.1),d.gl.uniform1f(d.uniforms.aspectRatio,m),d.gl.uniform1f(d.uniforms.a,h),d.gl.uniform1f(d.uniforms.b,v),d.gl.uniform1f(d.uniforms.brightnessScale,i),d.render.drawFrame()}function w(){d.fullscreen.currentlyFullscreen?(m=window.innerWidth/window.innerHeight)>=1?(d.changeCanvasSize(_,Math.floor(_/m)),d.worldWidth=4*m,d.worldHeight=4):(d.changeCanvasSize(Math.floor(_*m),_),d.worldWidth=4,d.worldHeight=4/m):(m=1,d.changeCanvasSize(_,_),d.worldWidth=4,d.worldHeight=4),window.requestAnimationFrame(y)}$("#download-2-button").addEventListener("click",()=>{d.downloadFrame("a-julia-set.png")}),d.gl.uniform1f(d.uniforms.aspectRatio,1),f.gl.uniform1f(f.uniforms.aspectRatio,1),window.requestAnimationFrame(y),window.addEventListener("resize",w),Page.temporaryHandlers.resize.push(w)}Page.show()}();