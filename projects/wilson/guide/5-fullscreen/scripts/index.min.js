!function(){"use strict";let e=$$("pre code");for(let r=0;r<e.length;r++)e[r].classList.add("highlightable");hljs.highlightAll();{let n=`
   precision highp float;
   
   varying vec2 uv;
   
   uniform float a;
   uniform float b;
   uniform float brightnessScale;
   
   
   
   void main(void)
   {
    vec2 z = vec2(uv.x * 2.0, uv.y * 2.0);
    vec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));
    float brightness = exp(-length(z));
    
    
    
    vec2 c = vec2(a, b);
    
    for (int iteration = 0; iteration < 100; iteration++)
    {
     if (iteration == 99)
     {
      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
      return;
     }
     
     if (length(z) >= 10.0)
     {
      break;
     }
     
     z = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;
     
     brightness += exp(-length(z));
    }
    
    
    gl_FragColor = vec4(brightness / brightnessScale * color, 1.0);
   }
  `,t=new Wilson($("#output-canvas-1"),{renderer:"gpu",shader:n,canvasWidth:1e3,canvasHeight:1e3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:u,draggablesTouchmoveCallback:u,useFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png"});t.render.initUniforms(["a","b","brightnessScale"]),t.draggables.add(0,1);let a=new Wilson($("#hidden-canvas-1"),{renderer:"gpu",shader:n,canvasWidth:100,canvasHeight:100});a.render.initUniforms(["a","b","brightnessScale"]),t.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),a.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let i=0,o=1,l=1e3,s=-1,c=$("#resolution-1-input");c.addEventListener("input",()=>{l=parseInt(c.value||1e3),t.changeCanvasSize(l,l)});function u(e,r,n,t){i=r,o=n,window.requestAnimationFrame(g)}function g(e){let r=e-s;if(s=e,0===r)return;a.gl.uniform1f(a.uniforms.a,i),a.gl.uniform1f(a.uniforms.b,o),a.gl.uniform1f(a.uniforms.brightnessScale,20),a.render.drawFrame();let n=a.render.getPixelData(),l=Array(1e4);for(let c=0;c<1e4;c++)l[c]=n[4*c]+n[4*c+1]+n[4*c+2];l.sort((e,r)=>e-r);let u=l[Math.floor(9800)]/255*18;u=Math.max(u,.1),t.gl.uniform1f(t.uniforms.a,i),t.gl.uniform1f(t.uniforms.b,o),t.gl.uniform1f(t.uniforms.brightnessScale,u),t.render.drawFrame()}$("#download-1-button").addEventListener("click",()=>{t.downloadFrame("a-julia-set.png")}),t.changeCanvasSize(l,l),window.requestAnimationFrame(g)}{let d=`
   precision highp float;
   
   varying vec2 uv;
   
   uniform float aspectRatio;
   
   uniform float a;
   uniform float b;
   uniform float brightnessScale;
   
   
   
   void main(void)
   {
    vec2 z;
    
    if (aspectRatio >= 1.0)
    {
     z = vec2(uv.x * aspectRatio * 2.0, uv.y * 2.0);
    }
    
    else
    {
     z = vec2(uv.x * 2.0, uv.y / aspectRatio * 2.0);
    }
    
    vec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));
    float brightness = exp(-length(z));
    
    
    
    vec2 c = vec2(a, b);
    
    for (int iteration = 0; iteration < 100; iteration++)
    {
     if (iteration == 99)
     {
      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
      return;
     }
     
     if (length(z) >= 10.0)
     {
      break;
     }
     
     z = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;
     
     brightness += exp(-length(z));
    }
    
    
    gl_FragColor = vec4(brightness / brightnessScale * color, 1.0);
   }
  `,f=new Wilson($("#output-canvas-2"),{renderer:"gpu",shader:d,canvasWidth:1e3,canvasHeight:1e3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:w,draggablesTouchmoveCallback:w,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:x});f.render.initUniforms(["aspectRatio","a","b","brightnessScale"]),f.draggables.add(0,1);let h=new Wilson($("#hidden-canvas-2"),{renderer:"gpu",shader:d,canvasWidth:100,canvasHeight:100});h.render.initUniforms(["aspectRatio","a","b","brightnessScale"]),f.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),h.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let m=1,v=0,_=1,p=1e3,b=-1,z=$("#resolution-2-input");z.addEventListener("input",()=>{p=parseInt(z.value||1e3),f.changeCanvasSize(p,p)});function w(e,r,n,t){v=r,_=n,window.requestAnimationFrame(F)}function F(e){let r=e-b;if(b=e,0===r)return;h.gl.uniform1f(h.uniforms.a,v),h.gl.uniform1f(h.uniforms.b,_),h.gl.uniform1f(h.uniforms.brightnessScale,20),h.render.drawFrame();let n=h.render.getPixelData(),t=Array(1e4);for(let a=0;a<1e4;a++)t[a]=n[4*a]+n[4*a+1]+n[4*a+2];t.sort((e,r)=>e-r);let i=t[Math.floor(9800)]/255*18;i=Math.max(i,.1),f.gl.uniform1f(f.uniforms.aspectRatio,m),f.gl.uniform1f(f.uniforms.a,v),f.gl.uniform1f(f.uniforms.b,_),f.gl.uniform1f(f.uniforms.brightnessScale,i),f.render.drawFrame()}function x(){f.fullscreen.currentlyFullscreen?(m=window.innerWidth/window.innerHeight)>=1?(f.changeCanvasSize(p,Math.floor(p/m)),f.worldWidth=4*m,f.worldHeight=4):(f.changeCanvasSize(Math.floor(p*m),p),f.worldWidth=4,f.worldHeight=4/m):(m=1,f.changeCanvasSize(p,p),f.worldWidth=4,f.worldHeight=4),window.requestAnimationFrame(F)}$("#download-2-button").addEventListener("click",()=>{f.downloadFrame("a-julia-set.png")}),f.gl.uniform1f(f.uniforms.aspectRatio,1),h.gl.uniform1f(h.uniforms.aspectRatio,1),window.requestAnimationFrame(F),window.addEventListener("resize",x),Page.temporaryHandlers.resize.push(x)}Page.show()}();