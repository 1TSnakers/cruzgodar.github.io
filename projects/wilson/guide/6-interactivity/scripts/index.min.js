!function(){var v=$$("pre code");for(let b=0;b<v.length;b++)v[b].classList.add("highlightable");hljs.highlightAll();v={renderer:"gpu",shader:"\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float aspectRatio;\n\t\t\t\n\t\t\tuniform float worldCenterX;\n\t\t\tuniform float worldCenterY;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightnessScale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z;\n\t\t\t\t\n\t\t\t\tif (aspectRatio >= 1.0)\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * aspectRatio * 2.0 + worldCenterX, uv.y * 2.0 + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * 2.0 + worldCenterX, uv.y / aspectRatio * 2.0 + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightnessScale * color, 1.0);\n\t\t\t}\n\t\t",
canvasWidth:1E3,canvasHeight:1E3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:U,draggablesTouchmoveCallback:U,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:K,mousedragCallback:V,touchmoveCallback:V};let e=new Wilson($("#output-canvas-1"),v);e.render.initUniforms("aspectRatio worldCenterX worldCenterY a b brightnessScale".split(" "));
e.draggables.add(0,1);let n=new Wilson($("#hidden-canvas-1"),{renderer:"gpu",shader:"\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float aspectRatio;\n\t\t\t\n\t\t\tuniform float worldCenterX;\n\t\t\tuniform float worldCenterY;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightnessScale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z;\n\t\t\t\t\n\t\t\t\tif (aspectRatio >= 1.0)\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * aspectRatio * 2.0 + worldCenterX, uv.y * 2.0 + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * 2.0 + worldCenterX, uv.y / aspectRatio * 2.0 + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightnessScale * color, 1.0);\n\t\t\t}\n\t\t",
canvasWidth:100,canvasHeight:100});n.render.initUniforms("aspectRatio worldCenterX worldCenterY a b brightnessScale".split(" "));e.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important");n.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let w=1,L=0,M=1,r=1E3,W=-1,X=$("#resolution-1-input");X.addEventListener("input",()=>{r=parseInt(X.value||1E3);e.changeCanvasSize(r,r)});$("#download-1-button").addEventListener("click",()=>{e.downloadFrame("a-julia-set.png")});
e.gl.uniform1f(e.uniforms.aspectRatio,1);n.gl.uniform1f(n.uniforms.aspectRatio,1);window.requestAnimationFrame(H);function U(b,f,d,k){L=f;M=d;window.requestAnimationFrame(H)}function V(b,f,d,k,Y){e.worldCenterX-=d;e.worldCenterY-=k;e.worldCenterX=Math.min(Math.max(e.worldCenterX,-2),2);e.worldCenterY=Math.min(Math.max(e.worldCenterY,-2),2);window.requestAnimationFrame(H);e.draggables.recalculateLocations()}function H(b){var f=b-W;W=b;if(0!==f){n.gl.uniform1f(n.uniforms.worldCenterX,e.worldCenterX);
n.gl.uniform1f(n.uniforms.worldCenterY,e.worldCenterY);n.gl.uniform1f(n.uniforms.a,L);n.gl.uniform1f(n.uniforms.b,M);n.gl.uniform1f(n.uniforms.brightnessScale,20);n.render.drawFrame();b=n.render.getPixelData();f=Array(1E4);for(let d=0;1E4>d;d++)f[d]=b[4*d]+b[4*d+1]+b[4*d+2];f.sort((d,k)=>d-k);b=f[9800]/255*18;b=Math.max(b,.1);e.gl.uniform1f(e.uniforms.aspectRatio,w);e.gl.uniform1f(e.uniforms.worldCenterX,e.worldCenterX);e.gl.uniform1f(e.uniforms.worldCenterY,e.worldCenterY);e.gl.uniform1f(e.uniforms.a,
L);e.gl.uniform1f(e.uniforms.b,M);e.gl.uniform1f(e.uniforms.brightnessScale,b);e.render.drawFrame()}}function K(){e.fullscreen.currentlyFullscreen?(w=window.innerWidth/window.innerHeight,1<=w?(e.changeCanvasSize(r,Math.floor(r/w)),e.worldWidth=4*w,e.worldHeight=4):(e.changeCanvasSize(Math.floor(r*w),r),e.worldWidth=4,e.worldHeight=4/w)):(w=1,e.changeCanvasSize(r,r),e.worldWidth=4,e.worldHeight=4);window.requestAnimationFrame(H)}window.addEventListener("resize",K);Page.temporaryHandlers.resize.push(K);
v={renderer:"gpu",shader:"\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float aspectRatio;\n\t\t\t\n\t\t\tuniform float worldCenterX;\n\t\t\tuniform float worldCenterY;\n\t\t\tuniform float worldSize;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightnessScale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z;\n\t\t\t\t\n\t\t\t\tif (aspectRatio >= 1.0)\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * aspectRatio * worldSize + worldCenterX, uv.y * worldSize + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * worldSize + worldCenterX, uv.y / aspectRatio * worldSize + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightnessScale * color, 1.0);\n\t\t\t}\n\t\t",
canvasWidth:1E3,canvasHeight:1E3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:Z,draggablesTouchmoveCallback:Z,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:N,mousedragCallback:aa,touchmoveCallback:aa,wheelCallback:la,pinchCallback:ma};let c=new Wilson($("#output-canvas-2"),
v);c.render.initUniforms("aspectRatio worldCenterX worldCenterY worldSize a b brightnessScale".split(" "));c.draggables.add(0,1);let l=new Wilson($("#hidden-canvas-2"),{renderer:"gpu",shader:"\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float aspectRatio;\n\t\t\t\n\t\t\tuniform float worldCenterX;\n\t\t\tuniform float worldCenterY;\n\t\t\tuniform float worldSize;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightnessScale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z;\n\t\t\t\t\n\t\t\t\tif (aspectRatio >= 1.0)\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * aspectRatio * worldSize + worldCenterX, uv.y * worldSize + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * worldSize + worldCenterX, uv.y / aspectRatio * worldSize + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightnessScale * color, 1.0);\n\t\t\t}\n\t\t",
canvasWidth:100,canvasHeight:100});l.render.initUniforms("aspectRatio worldCenterX worldCenterY worldSize a b brightnessScale".split(" "));c.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important");l.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let p=1,h=0,O=0,P=1,t=1E3,I=0,J=0,ba=-1,ca=$("#resolution-2-input");ca.addEventListener("input",()=>{t=parseInt(ca.value||1E3);c.changeCanvasSize(t,t)});$("#download-2-button").addEventListener("click",()=>
{c.downloadFrame("a-julia-set.png")});c.gl.uniform1f(c.uniforms.aspectRatio,1);l.gl.uniform1f(l.uniforms.aspectRatio,1);window.requestAnimationFrame(B);function Z(b,f,d,k){O=f;P=d;window.requestAnimationFrame(B)}function aa(b,f,d,k,Y){c.worldCenterX-=d;c.worldCenterY-=k;c.worldCenterX=Math.min(Math.max(c.worldCenterX,-2),2);c.worldCenterY=Math.min(Math.max(c.worldCenterY,-2),2);window.requestAnimationFrame(B);c.draggables.recalculateLocations()}function la(b,f,d,k){I=b;J=f;h+=d/100;h=Math.min(h,1);
da(b,f)}function ma(b,f,d,k){h=1<=p?h-d/c.worldWidth*10:h-d/c.worldHeight*10;h=Math.min(h,1);I=b;J=f;da()}function da(){if(1<=p){var b=c.input.getZoomedWorldCenter(I,J,4*Math.pow(2,h)*p,4*Math.pow(2,h));c.worldWidth=4*Math.pow(2,h)*p;c.worldHeight=4*Math.pow(2,h);c.worldCenterX=b[0];c.worldCenterY=b[1]}else b=c.input.getZoomedWorldCenter(I,J,4*Math.pow(2,h),4*Math.pow(2,h)/p),c.worldWidth=4*Math.pow(2,h),c.worldHeight=4*Math.pow(2,h)/p,c.worldCenterX=b[0],c.worldCenterY=b[1];window.requestAnimationFrame(B);
c.draggables.recalculateLocations()}function B(b){var f=b-ba;ba=b;if(0!==f){l.gl.uniform1f(l.uniforms.worldCenterX,c.worldCenterX);l.gl.uniform1f(l.uniforms.worldCenterY,c.worldCenterY);l.gl.uniform1f(l.uniforms.worldSize,Math.min(c.worldHeight,c.worldWidth)/2);l.gl.uniform1f(l.uniforms.a,O);l.gl.uniform1f(l.uniforms.b,P);l.gl.uniform1f(l.uniforms.brightnessScale,20);l.render.drawFrame();b=l.render.getPixelData();f=Array(1E4);for(let d=0;1E4>d;d++)f[d]=b[4*d]+b[4*d+1]+b[4*d+2];f.sort((d,k)=>d-k);
b=f[9800]/255*18;b=Math.max(b,.1);c.gl.uniform1f(c.uniforms.aspectRatio,p);c.gl.uniform1f(c.uniforms.worldCenterX,c.worldCenterX);c.gl.uniform1f(c.uniforms.worldCenterY,c.worldCenterY);c.gl.uniform1f(c.uniforms.worldSize,Math.min(c.worldHeight,c.worldWidth)/2);c.gl.uniform1f(c.uniforms.a,O);c.gl.uniform1f(c.uniforms.b,P);c.gl.uniform1f(c.uniforms.brightnessScale,b);c.render.drawFrame()}}function N(){c.fullscreen.currentlyFullscreen?(p=window.innerWidth/window.innerHeight,1<=p?(c.changeCanvasSize(t,
Math.floor(t/p)),c.worldWidth=4*Math.pow(2,h)*p,c.worldHeight=4*Math.pow(2,h)):(c.changeCanvasSize(Math.floor(t*p),t),c.worldWidth=4*Math.pow(2,h),c.worldHeight=4*Math.pow(2,h)/p)):(p=1,c.changeCanvasSize(t,t),c.worldWidth=4*Math.pow(2,h),c.worldHeight=4*Math.pow(2,h));window.requestAnimationFrame(B)}window.addEventListener("resize",N);Page.temporaryHandlers.resize.push(N);v={renderer:"gpu",shader:"\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float aspectRatio;\n\t\t\t\n\t\t\tuniform float worldCenterX;\n\t\t\tuniform float worldCenterY;\n\t\t\tuniform float worldSize;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightnessScale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z;\n\t\t\t\t\n\t\t\t\tif (aspectRatio >= 1.0)\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * aspectRatio * worldSize + worldCenterX, uv.y * worldSize + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * worldSize + worldCenterX, uv.y / aspectRatio * worldSize + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightnessScale * color, 1.0);\n\t\t\t}\n\t\t",
canvasWidth:1E3,canvasHeight:1E3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:ea,draggablesTouchmoveCallback:ea,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:Q,mousedownCallback:fa,touchstartCallback:fa,mousedragCallback:ha,touchmoveCallback:ha,mouseupCallback:ia,
touchendCallback:ia,wheelCallback:na,pinchCallback:oa};let a=new Wilson($("#output-canvas-3"),v);a.render.initUniforms("aspectRatio worldCenterX worldCenterY worldSize a b brightnessScale".split(" "));a.draggables.add(0,1);let m=new Wilson($("#hidden-canvas-3"),{renderer:"gpu",shader:"\n\t\t\tprecision highp float;\n\t\t\t\n\t\t\tvarying vec2 uv;\n\t\t\t\n\t\t\tuniform float aspectRatio;\n\t\t\t\n\t\t\tuniform float worldCenterX;\n\t\t\tuniform float worldCenterY;\n\t\t\tuniform float worldSize;\n\t\t\t\n\t\t\tuniform float a;\n\t\t\tuniform float b;\n\t\t\tuniform float brightnessScale;\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec2 z;\n\t\t\t\t\n\t\t\t\tif (aspectRatio >= 1.0)\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * aspectRatio * worldSize + worldCenterX, uv.y * worldSize + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tz = vec2(uv.x * worldSize + worldCenterX, uv.y / aspectRatio * worldSize + worldCenterY);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));\n\t\t\t\tfloat brightness = exp(-length(z));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 c = vec2(a, b);\n\t\t\t\t\n\t\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t\t{\n\t\t\t\t\tif (iteration == 99)\n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (length(z) >= 10.0)\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n\t\t\t\t\t\n\t\t\t\t\tbrightness += exp(-length(z));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(brightness / brightnessScale * color, 1.0);\n\t\t\t}\n\t\t",
canvasWidth:100,canvasHeight:100});m.render.initUniforms("aspectRatio worldCenterX worldCenterY worldSize a b brightnessScale".split(" "));a.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important");m.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let q=1,g=0,R=0,S=1,u=1E3,C=0,D=0,E=0,F=0,G=0,x=0,y=0,z=0,ja=-1,ka=$("#resolution-3-input");ka.addEventListener("input",()=>{u=parseInt(ka.value||1E3);a.changeCanvasSize(u,u)});$("#download-3-button").addEventListener("click",
()=>{a.downloadFrame("a-julia-set.png")});a.gl.uniform1f(a.uniforms.aspectRatio,1);m.gl.uniform1f(m.uniforms.aspectRatio,1);window.requestAnimationFrame(A);function ea(b,f,d,k){R=f;S=d;window.requestAnimationFrame(A)}function fa(b,f,d){G=F=E=z=y=x=0}function ha(b,f,d,k,Y){a.worldCenterX-=d;a.worldCenterY-=k;E=-d;F=-k;a.worldCenterX=Math.min(Math.max(a.worldCenterX,-2),2);a.worldCenterY=Math.min(Math.max(a.worldCenterY,-2),2);window.requestAnimationFrame(A);a.draggables.recalculateLocations()}function ia(b,
f,d){Math.sqrt(E*E+F*F)>=.005*Math.min(a.worldWidth,a.worldHeight)&&(x=E,y=F);.01<=Math.abs(G)&&(z=G);window.requestAnimationFrame(A)}function na(b,f,d,k){C=b;D=f;.3>Math.abs(d/100)?(g+=d/100,g=Math.min(g,1)):z+=.05*Math.sign(d);T(b,f)}function oa(b,f,d,k){1<=q?(g-=d/a.worldWidth*10,G=-d/a.worldWidth*10):(g-=d/a.worldHeight*10,G=-d/a.worldHeight*10);g=Math.min(g,1);C=b;D=f;T()}function T(){if(1<=q){var b=a.input.getZoomedWorldCenter(C,D,4*Math.pow(2,g)*q,4*Math.pow(2,g));a.worldWidth=4*Math.pow(2,
g)*q;a.worldHeight=4*Math.pow(2,g);a.worldCenterX=b[0];a.worldCenterY=b[1]}else b=a.input.getZoomedWorldCenter(C,D,4*Math.pow(2,g),4*Math.pow(2,g)/q),a.worldWidth=4*Math.pow(2,g),a.worldHeight=4*Math.pow(2,g)/q,a.worldCenterX=b[0],a.worldCenterY=b[1];window.requestAnimationFrame(A);a.draggables.recalculateLocations()}function A(b){var f=b-ja;ja=b;if(0!==f){m.gl.uniform1f(m.uniforms.worldCenterX,a.worldCenterX);m.gl.uniform1f(m.uniforms.worldCenterY,a.worldCenterY);m.gl.uniform1f(m.uniforms.worldSize,
Math.min(a.worldHeight,a.worldWidth)/2);m.gl.uniform1f(m.uniforms.a,R);m.gl.uniform1f(m.uniforms.b,S);m.gl.uniform1f(m.uniforms.brightnessScale,20);m.render.drawFrame();b=m.render.getPixelData();f=Array(1E4);for(let d=0;1E4>d;d++)f[d]=b[4*d]+b[4*d+1]+b[4*d+2];f.sort((d,k)=>d-k);b=f[9800]/255*18;b=Math.max(b,.1);a.gl.uniform1f(a.uniforms.aspectRatio,q);a.gl.uniform1f(a.uniforms.worldCenterX,a.worldCenterX);a.gl.uniform1f(a.uniforms.worldCenterY,a.worldCenterY);a.gl.uniform1f(a.uniforms.worldSize,Math.min(a.worldHeight,
a.worldWidth)/2);a.gl.uniform1f(a.uniforms.a,R);a.gl.uniform1f(a.uniforms.b,S);a.gl.uniform1f(a.uniforms.brightnessScale,b);a.render.drawFrame();if(0!==x||0!==y||0!==z)a.worldCenterX+=x,a.worldCenterY+=y,a.worldCenterX=Math.min(Math.max(a.worldCenterX,-2),2),a.worldCenterY=Math.min(Math.max(a.worldCenterY,-2),2),x*=.96,y*=.96,Math.sqrt(x*x+y*y)<5E-4*Math.min(a.worldWidth,a.worldHeight)&&(y=x=0),g+=z,g=Math.min(g,1),T(C,D),z*=.93,.001>Math.abs(z)&&(z=0),window.requestAnimationFrame(A),a.draggables.recalculateLocations()}}
function Q(){a.fullscreen.currentlyFullscreen?(q=window.innerWidth/window.innerHeight,1<=q?(a.changeCanvasSize(u,Math.floor(u/q)),a.worldWidth=4*Math.pow(2,g)*q,a.worldHeight=4*Math.pow(2,g)):(a.changeCanvasSize(Math.floor(u*q),u),a.worldWidth=4*Math.pow(2,g),a.worldHeight=4*Math.pow(2,g)/q)):(q=1,a.changeCanvasSize(u,u),a.worldWidth=4*Math.pow(2,g),a.worldHeight=4*Math.pow(2,g));window.requestAnimationFrame(A)}window.addEventListener("resize",Q);Page.temporaryHandlers.resize.push(Q);Page.show()}();
