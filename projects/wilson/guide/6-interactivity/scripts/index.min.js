import { showPage } from "/scripts/src/load-page.min.min.mjs"
!function(){"use strict";var r=$$("pre code");for(let e=0;e<r.length;e++)r[e].classList.add("highlightable");hljs.highlightAll();{var n=`
			precision highp float;
			
			varying vec2 uv;
			
			uniform float aspectRatio;
			
			uniform float worldCenterX;
			uniform float worldCenterY;
			
			uniform float a;
			uniform float b;
			uniform float brightnessScale;
			
			
			
			void main(void)
			{
				vec2 z;
				
				if (aspectRatio >= 1.0)
				{
					z = vec2(uv.x * aspectRatio * 2.0 + worldCenterX, uv.y * 2.0 + worldCenterY);
				}
				
				else
				{
					z = vec2(uv.x * 2.0 + worldCenterX, uv.y / aspectRatio * 2.0 + worldCenterY);
				}
				
				vec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));
				float brightness = exp(-length(z));
				
				
				
				vec2 c = vec2(a, b);
				
				for (int iteration = 0; iteration < 100; iteration++)
				{
					if (iteration == 99)
					{
						gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
						return;
					}
					
					if (length(z) >= 10.0)
					{
						break;
					}
					
					z = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;
					
					brightness += exp(-length(z));
				}
				
				
				gl_FragColor = vec4(brightness / brightnessScale * color, 1.0);
			}
		`,t={renderer:"gpu",shader:n,canvasWidth:1e3,canvasHeight:1e3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:v,draggablesTouchmoveCallback:v,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:M,mousedragCallback:b,touchmoveCallback:b},n={renderer:"gpu",shader:n,canvasWidth:100,canvasHeight:100};let a=new Wilson($("#output-canvas-1"),t);a.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","a","b","brightnessScale"]);a.draggables.add(0,1);let o=new Wilson($("#hidden-canvas-1"),n),i=(o.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","a","b","brightnessScale"]),a.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),o.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important"),1),l=0,s=1,e=1e3,d=-1,r=$("#resolution-1-input");function v(e,r,n,t){l=r,s=n,window.requestAnimationFrame(z)}function b(e,r,n,t,o){a.worldCenterX-=n,a.worldCenterY-=t,a.worldCenterX=Math.min(Math.max(a.worldCenterX,-2),2),a.worldCenterY=Math.min(Math.max(a.worldCenterY,-2),2),window.requestAnimationFrame(z),a.draggables.recalculateLocations()}function z(e){var r=e-d;if(d=e,0!=r){o.gl.uniform1f(o.uniforms.worldCenterX,a.worldCenterX),o.gl.uniform1f(o.uniforms.worldCenterY,a.worldCenterY),o.gl.uniform1f(o.uniforms.a,l),o.gl.uniform1f(o.uniforms.b,s),o.gl.uniform1f(o.uniforms.brightnessScale,20),o.render.drawFrame();var n=o.render.getPixelData(),t=new Array(1e4);for(let e=0;e<1e4;e++)t[e]=n[4*e]+n[4*e+1]+n[4*e+2];t.sort((e,r)=>e-r);e=t[Math.floor(9800)]/255*18,e=Math.max(e,.1);a.gl.uniform1f(a.uniforms.aspectRatio,i),a.gl.uniform1f(a.uniforms.worldCenterX,a.worldCenterX),a.gl.uniform1f(a.uniforms.worldCenterY,a.worldCenterY),a.gl.uniform1f(a.uniforms.a,l),a.gl.uniform1f(a.uniforms.b,s),a.gl.uniform1f(a.uniforms.brightnessScale,e),a.render.drawFrame()}}function M(){a.fullscreen.currentlyFullscreen?1<=(i=window.innerWidth/window.innerHeight)?(a.changeCanvasSize(e,Math.floor(e/i)),a.worldWidth=4*i,a.worldHeight=4):(a.changeCanvasSize(Math.floor(e*i),e),a.worldWidth=4,a.worldHeight=4/i):(i=1,a.changeCanvasSize(e,e),a.worldWidth=4,a.worldHeight=4),window.requestAnimationFrame(z)}r.addEventListener("input",()=>{e=parseInt(r.value||1e3),a.changeCanvasSize(e,e)}),$("#download-1-button").addEventListener("click",()=>{a.downloadFrame("a-julia-set.png")}),a.gl.uniform1f(a.uniforms.aspectRatio,1),o.gl.uniform1f(o.uniforms.aspectRatio,1),window.requestAnimationFrame(z),window.addEventListener("resize",M),Page.temporaryHandlers.resize.push(M)}{t=`
			precision highp float;
			
			varying vec2 uv;
			
			uniform float aspectRatio;
			
			uniform float worldCenterX;
			uniform float worldCenterY;
			uniform float worldSize;
			
			uniform float a;
			uniform float b;
			uniform float brightnessScale;
			
			
			
			void main(void)
			{
				vec2 z;
				
				if (aspectRatio >= 1.0)
				{
					z = vec2(uv.x * aspectRatio * worldSize + worldCenterX, uv.y * worldSize + worldCenterY);
				}
				
				else
				{
					z = vec2(uv.x * worldSize + worldCenterX, uv.y / aspectRatio * worldSize + worldCenterY);
				}
				
				vec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));
				float brightness = exp(-length(z));
				
				
				
				vec2 c = vec2(a, b);
				
				for (int iteration = 0; iteration < 100; iteration++)
				{
					if (iteration == 99)
					{
						gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
						return;
					}
					
					if (length(z) >= 10.0)
					{
						break;
					}
					
					z = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;
					
					brightness += exp(-length(z));
				}
				
				
				gl_FragColor = vec4(brightness / brightnessScale * color, 1.0);
			}
		`,n={renderer:"gpu",shader:t,canvasWidth:1e3,canvasHeight:1e3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:v,draggablesTouchmoveCallback:v,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:M,mousedragCallback:b,touchmoveCallback:b,wheelCallback:F,pinchCallback:S},t={renderer:"gpu",shader:t,canvasWidth:100,canvasHeight:100};let a=new Wilson($("#output-canvas-2"),n);a.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","worldSize","a","b","brightnessScale"]);a.draggables.add(0,1);let o=new Wilson($("#hidden-canvas-2"),t),i=(o.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","worldSize","a","b","brightnessScale"]),a.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),o.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important"),1),l=0,s=0,d=1,e=1e3,u=0,c=0,w=-1,r=$("#resolution-2-input");function v(e,r,n,t){s=r,d=n,window.requestAnimationFrame(z)}function b(e,r,n,t,o){a.worldCenterX-=n,a.worldCenterY-=t,a.worldCenterX=Math.min(Math.max(a.worldCenterX,-2),2),a.worldCenterY=Math.min(Math.max(a.worldCenterY,-2),2),window.requestAnimationFrame(z),a.draggables.recalculateLocations()}function F(e,r,n,t){u=e,c=r,l+=n/100,l=Math.min(l,1),x(e,r)}function S(e,r,n,t){1<=i?l-=n/a.worldWidth*10:l-=n/a.worldHeight*10,l=Math.min(l,1),u=e,c=r,x()}function x(){var e;1<=i?(e=a.input.getZoomedWorldCenter(u,c,4*Math.pow(2,l)*i,4*Math.pow(2,l)),a.worldWidth=4*Math.pow(2,l)*i,a.worldHeight=4*Math.pow(2,l),a.worldCenterX=e[0],a.worldCenterY=e[1]):(e=a.input.getZoomedWorldCenter(u,c,4*Math.pow(2,l),4*Math.pow(2,l)/i),a.worldWidth=4*Math.pow(2,l),a.worldHeight=4*Math.pow(2,l)/i,a.worldCenterX=e[0],a.worldCenterY=e[1]),window.requestAnimationFrame(z),a.draggables.recalculateLocations()}function z(e){var r=e-w;if(w=e,0!=r){o.gl.uniform1f(o.uniforms.worldCenterX,a.worldCenterX),o.gl.uniform1f(o.uniforms.worldCenterY,a.worldCenterY),o.gl.uniform1f(o.uniforms.worldSize,Math.min(a.worldHeight,a.worldWidth)/2),o.gl.uniform1f(o.uniforms.a,s),o.gl.uniform1f(o.uniforms.b,d),o.gl.uniform1f(o.uniforms.brightnessScale,20),o.render.drawFrame();var n=o.render.getPixelData(),t=new Array(1e4);for(let e=0;e<1e4;e++)t[e]=n[4*e]+n[4*e+1]+n[4*e+2];t.sort((e,r)=>e-r);e=t[Math.floor(9800)]/255*18,e=Math.max(e,.1);a.gl.uniform1f(a.uniforms.aspectRatio,i),a.gl.uniform1f(a.uniforms.worldCenterX,a.worldCenterX),a.gl.uniform1f(a.uniforms.worldCenterY,a.worldCenterY),a.gl.uniform1f(a.uniforms.worldSize,Math.min(a.worldHeight,a.worldWidth)/2),a.gl.uniform1f(a.uniforms.a,s),a.gl.uniform1f(a.uniforms.b,d),a.gl.uniform1f(a.uniforms.brightnessScale,e),a.render.drawFrame()}}function M(){a.fullscreen.currentlyFullscreen?1<=(i=window.innerWidth/window.innerHeight)?(a.changeCanvasSize(e,Math.floor(e/i)),a.worldWidth=4*Math.pow(2,l)*i,a.worldHeight=4*Math.pow(2,l)):(a.changeCanvasSize(Math.floor(e*i),e),a.worldWidth=4*Math.pow(2,l),a.worldHeight=4*Math.pow(2,l)/i):(i=1,a.changeCanvasSize(e,e),a.worldWidth=4*Math.pow(2,l),a.worldHeight=4*Math.pow(2,l)),window.requestAnimationFrame(z)}r.addEventListener("input",()=>{e=parseInt(r.value||1e3),a.changeCanvasSize(e,e)}),$("#download-2-button").addEventListener("click",()=>{a.downloadFrame("a-julia-set.png")}),a.gl.uniform1f(a.uniforms.aspectRatio,1),o.gl.uniform1f(o.uniforms.aspectRatio,1),window.requestAnimationFrame(z),window.addEventListener("resize",M),Page.temporaryHandlers.resize.push(M)}{n=`
			precision highp float;
			
			varying vec2 uv;
			
			uniform float aspectRatio;
			
			uniform float worldCenterX;
			uniform float worldCenterY;
			uniform float worldSize;
			
			uniform float a;
			uniform float b;
			uniform float brightnessScale;
			
			
			
			void main(void)
			{
				vec2 z;
				
				if (aspectRatio >= 1.0)
				{
					z = vec2(uv.x * aspectRatio * worldSize + worldCenterX, uv.y * worldSize + worldCenterY);
				}
				
				else
				{
					z = vec2(uv.x * worldSize + worldCenterX, uv.y / aspectRatio * worldSize + worldCenterY);
				}
				
				vec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));
				float brightness = exp(-length(z));
				
				
				
				vec2 c = vec2(a, b);
				
				for (int iteration = 0; iteration < 100; iteration++)
				{
					if (iteration == 99)
					{
						gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
						return;
					}
					
					if (length(z) >= 10.0)
					{
						break;
					}
					
					z = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;
					
					brightness += exp(-length(z));
				}
				
				
				gl_FragColor = vec4(brightness / brightnessScale * color, 1.0);
			}
		`,t={renderer:"gpu",shader:n,canvasWidth:1e3,canvasHeight:1e3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:v,draggablesTouchmoveCallback:v,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:M,mousedownCallback:X,touchstartCallback:X,mousedragCallback:b,touchmoveCallback:b,mouseupCallback:Y,touchendCallback:Y,wheelCallback:F,pinchCallback:S},n={renderer:"gpu",shader:n,canvasWidth:100,canvasHeight:100};let a=new Wilson($("#output-canvas-3"),t);a.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","worldSize","a","b","brightnessScale"]);a.draggables.add(0,1);let o=new Wilson($("#hidden-canvas-3"),n),i=(o.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","worldSize","a","b","brightnessScale"]),a.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),o.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important"),1),l=0,s=0,d=1,e=1e3,u=0,c=0,w=0,h=0,f=0,g=0,m=0,p=0;const y=.005,W=.01;let C=-1,r=$("#resolution-3-input");function v(e,r,n,t){s=r,d=n,window.requestAnimationFrame(z)}function X(e,r,n){g=0,m=0,p=0,w=0,h=0,f=0}function b(e,r,n,t,o){a.worldCenterX-=n,a.worldCenterY-=t,w=-n,h=-t,a.worldCenterX=Math.min(Math.max(a.worldCenterX,-2),2),a.worldCenterY=Math.min(Math.max(a.worldCenterY,-2),2),window.requestAnimationFrame(z),a.draggables.recalculateLocations()}function Y(e,r,n){Math.sqrt(w*w+h*h)>=y*Math.min(a.worldWidth,a.worldHeight)&&(g=w,m=h),Math.abs(f)>=W&&(p=f),window.requestAnimationFrame(z)}function F(e,r,n,t){u=e,c=r,Math.abs(n/100)<.3?(l+=n/100,l=Math.min(l,1)):p+=.05*Math.sign(n),x(e,r)}function S(e,r,n,t){f=1<=i?(l-=n/a.worldWidth*10,-n/a.worldWidth*10):(l-=n/a.worldHeight*10,-n/a.worldHeight*10),l=Math.min(l,1),u=e,c=r,x()}function x(){var e;1<=i?(e=a.input.getZoomedWorldCenter(u,c,4*Math.pow(2,l)*i,4*Math.pow(2,l)),a.worldWidth=4*Math.pow(2,l)*i,a.worldHeight=4*Math.pow(2,l),a.worldCenterX=e[0],a.worldCenterY=e[1]):(e=a.input.getZoomedWorldCenter(u,c,4*Math.pow(2,l),4*Math.pow(2,l)/i),a.worldWidth=4*Math.pow(2,l),a.worldHeight=4*Math.pow(2,l)/i,a.worldCenterX=e[0],a.worldCenterY=e[1]),window.requestAnimationFrame(z),a.draggables.recalculateLocations()}function z(e){var r=e-C;if(C=e,0!=r){o.gl.uniform1f(o.uniforms.worldCenterX,a.worldCenterX),o.gl.uniform1f(o.uniforms.worldCenterY,a.worldCenterY),o.gl.uniform1f(o.uniforms.worldSize,Math.min(a.worldHeight,a.worldWidth)/2),o.gl.uniform1f(o.uniforms.a,s),o.gl.uniform1f(o.uniforms.b,d),o.gl.uniform1f(o.uniforms.brightnessScale,20),o.render.drawFrame();var n=o.render.getPixelData(),t=new Array(1e4);for(let e=0;e<1e4;e++)t[e]=n[4*e]+n[4*e+1]+n[4*e+2];t.sort((e,r)=>e-r);e=t[Math.floor(9800)]/255*18,e=Math.max(e,.1);a.gl.uniform1f(a.uniforms.aspectRatio,i),a.gl.uniform1f(a.uniforms.worldCenterX,a.worldCenterX),a.gl.uniform1f(a.uniforms.worldCenterY,a.worldCenterY),a.gl.uniform1f(a.uniforms.worldSize,Math.min(a.worldHeight,a.worldWidth)/2),a.gl.uniform1f(a.uniforms.a,s),a.gl.uniform1f(a.uniforms.b,d),a.gl.uniform1f(a.uniforms.brightnessScale,e),a.render.drawFrame(),0===g&&0===m&&0===p||(a.worldCenterX+=g,a.worldCenterY+=m,a.worldCenterX=Math.min(Math.max(a.worldCenterX,-2),2),a.worldCenterY=Math.min(Math.max(a.worldCenterY,-2),2),g*=.96,m*=.96,Math.sqrt(g*g+m*m)<5e-4*Math.min(a.worldWidth,a.worldHeight)&&(g=0,m=0),l+=p,l=Math.min(l,1),x(u,c),p*=.93,Math.abs(p)<.001&&(p=0),window.requestAnimationFrame(z),a.draggables.recalculateLocations())}}function M(){a.fullscreen.currentlyFullscreen?1<=(i=window.innerWidth/window.innerHeight)?(a.changeCanvasSize(e,Math.floor(e/i)),a.worldWidth=4*Math.pow(2,l)*i,a.worldHeight=4*Math.pow(2,l)):(a.changeCanvasSize(Math.floor(e*i),e),a.worldWidth=4*Math.pow(2,l),a.worldHeight=4*Math.pow(2,l)/i):(i=1,a.changeCanvasSize(e,e),a.worldWidth=4*Math.pow(2,l),a.worldHeight=4*Math.pow(2,l)),window.requestAnimationFrame(z)}r.addEventListener("input",()=>{e=parseInt(r.value||1e3),a.changeCanvasSize(e,e)}),$("#download-3-button").addEventListener("click",()=>{a.downloadFrame("a-julia-set.png")}),a.gl.uniform1f(a.uniforms.aspectRatio,1),o.gl.uniform1f(o.uniforms.aspectRatio,1),window.requestAnimationFrame(z),window.addEventListener("resize",M),Page.temporaryHandlers.resize.push(M)}showPage()}();