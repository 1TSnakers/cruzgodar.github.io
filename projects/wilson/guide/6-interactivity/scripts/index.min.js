!function(){"use strict";let e=$$("pre code");for(let r=0;r<e.length;r++)e[r].classList.add("highlightable");hljs.highlightAll();{let n=`
   precision highp float;
   
   varying vec2 uv;
   
   uniform float aspectRatio;
   
   uniform float worldCenterX;
   uniform float worldCenterY;
   
   uniform float a;
   uniform float b;
   uniform float brightnessScale;
   
   
   
   void main(void)
   {
    vec2 z;
    
    if (aspectRatio >= 1.0)
    {
     z = vec2(uv.x * aspectRatio * 2.0 + worldCenterX, uv.y * 2.0 + worldCenterY);
    }
    
    else
    {
     z = vec2(uv.x * 2.0 + worldCenterX, uv.y / aspectRatio * 2.0 + worldCenterY);
    }
    
    vec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));
    float brightness = exp(-length(z));
    
    
    
    vec2 c = vec2(a, b);
    
    for (int iteration = 0; iteration < 100; iteration++)
    {
     if (iteration == 99)
     {
      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
      return;
     }
     
     if (length(z) >= 10.0)
     {
      break;
     }
     
     z = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;
     
     brightness += exp(-length(z));
    }
    
    
    gl_FragColor = vec4(brightness / brightnessScale * color, 1.0);
   }
  `,o=new Wilson($("#output-canvas-1"),{renderer:"gpu",shader:n,canvasWidth:1e3,canvasHeight:1e3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:c,draggablesTouchmoveCallback:c,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:m,mousedragCallback:f,touchmoveCallback:f});o.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","a","b","brightnessScale"]),o.draggables.add(0,1);let t=new Wilson($("#hidden-canvas-1"),{renderer:"gpu",shader:n,canvasWidth:100,canvasHeight:100});t.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","a","b","brightnessScale"]),o.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),t.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let l=1,i=0,a=1,s=1e3,d=-1,u=$("#resolution-1-input");u.addEventListener("input",()=>{s=parseInt(u.value||1e3),o.changeCanvasSize(s,s)});function c(e,r,n,o){i=r,a=n,window.requestAnimationFrame(g)}function f(e,r,n,t,l){o.worldCenterX-=n,o.worldCenterY-=t,o.worldCenterX=Math.min(Math.max(o.worldCenterX,-2),2),o.worldCenterY=Math.min(Math.max(o.worldCenterY,-2),2),window.requestAnimationFrame(g),o.draggables.recalculateLocations()}function g(e){let r=e-d;if(d=e,0===r)return;t.gl.uniform1f(t.uniforms.worldCenterX,o.worldCenterX),t.gl.uniform1f(t.uniforms.worldCenterY,o.worldCenterY),t.gl.uniform1f(t.uniforms.a,i),t.gl.uniform1f(t.uniforms.b,a),t.gl.uniform1f(t.uniforms.brightnessScale,20),t.render.drawFrame();let n=t.render.getPixelData(),s=Array(1e4);for(let u=0;u<1e4;u++)s[u]=n[4*u]+n[4*u+1]+n[4*u+2];s.sort((e,r)=>e-r);let c=s[Math.floor(9800)]/255*18;c=Math.max(c,.1),o.gl.uniform1f(o.uniforms.aspectRatio,l),o.gl.uniform1f(o.uniforms.worldCenterX,o.worldCenterX),o.gl.uniform1f(o.uniforms.worldCenterY,o.worldCenterY),o.gl.uniform1f(o.uniforms.a,i),o.gl.uniform1f(o.uniforms.b,a),o.gl.uniform1f(o.uniforms.brightnessScale,c),o.render.drawFrame()}function m(){o.fullscreen.currentlyFullscreen?(l=window.innerWidth/window.innerHeight)>=1?(o.changeCanvasSize(s,Math.floor(s/l)),o.worldWidth=4*l,o.worldHeight=4):(o.changeCanvasSize(Math.floor(s*l),s),o.worldWidth=4,o.worldHeight=4/l):(l=1,o.changeCanvasSize(s,s),o.worldWidth=4,o.worldHeight=4),window.requestAnimationFrame(g)}$("#download-1-button").addEventListener("click",()=>{o.downloadFrame("a-julia-set.png")}),o.gl.uniform1f(o.uniforms.aspectRatio,1),t.gl.uniform1f(t.uniforms.aspectRatio,1),window.requestAnimationFrame(g),window.addEventListener("resize",m),Page.temporaryHandlers.resize.push(m)}{let w=`
   precision highp float;
   
   varying vec2 uv;
   
   uniform float aspectRatio;
   
   uniform float worldCenterX;
   uniform float worldCenterY;
   uniform float worldSize;
   
   uniform float a;
   uniform float b;
   uniform float brightnessScale;
   
   
   
   void main(void)
   {
    vec2 z;
    
    if (aspectRatio >= 1.0)
    {
     z = vec2(uv.x * aspectRatio * worldSize + worldCenterX, uv.y * worldSize + worldCenterY);
    }
    
    else
    {
     z = vec2(uv.x * worldSize + worldCenterX, uv.y / aspectRatio * worldSize + worldCenterY);
    }
    
    vec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));
    float brightness = exp(-length(z));
    
    
    
    vec2 c = vec2(a, b);
    
    for (int iteration = 0; iteration < 100; iteration++)
    {
     if (iteration == 99)
     {
      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
      return;
     }
     
     if (length(z) >= 10.0)
     {
      break;
     }
     
     z = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;
     
     brightness += exp(-length(z));
    }
    
    
    gl_FragColor = vec4(brightness / brightnessScale * color, 1.0);
   }
  `,h=new Wilson($("#output-canvas-2"),{renderer:"gpu",shader:w,canvasWidth:1e3,canvasHeight:1e3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:Y,draggablesTouchmoveCallback:Y,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:k,mousedragCallback:y,touchmoveCallback:y,wheelCallback:function e(r,n,o,t){F=r,S=n,C+=o/100,C=Math.min(C,1),W(r,n)},pinchCallback:function e(r,n,o,t){p>=1?C-=o/h.worldWidth*10:C-=o/h.worldHeight*10,C=Math.min(C,1),F=r,S=n,W()}});h.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","worldSize","a","b","brightnessScale"]),h.draggables.add(0,1);let _=new Wilson($("#hidden-canvas-2"),{renderer:"gpu",shader:w,canvasWidth:100,canvasHeight:100});_.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","worldSize","a","b","brightnessScale"]),h.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),_.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let p=1,C=0,v=0,b=1,z=1e3,F=0,S=0,x=-1,X=$("#resolution-2-input");X.addEventListener("input",()=>{z=parseInt(X.value||1e3),h.changeCanvasSize(z,z)});function Y(e,r,n,o){v=r,b=n,window.requestAnimationFrame(H)}function y(e,r,n,o,t){h.worldCenterX-=n,h.worldCenterY-=o,h.worldCenterX=Math.min(Math.max(h.worldCenterX,-2),2),h.worldCenterY=Math.min(Math.max(h.worldCenterY,-2),2),window.requestAnimationFrame(H),h.draggables.recalculateLocations()}function W(){if(p>=1){let e=h.input.getZoomedWorldCenter(F,S,4*Math.pow(2,C)*p,4*Math.pow(2,C));h.worldWidth=4*Math.pow(2,C)*p,h.worldHeight=4*Math.pow(2,C),h.worldCenterX=e[0],h.worldCenterY=e[1]}else{let r=h.input.getZoomedWorldCenter(F,S,4*Math.pow(2,C),4*Math.pow(2,C)/p);h.worldWidth=4*Math.pow(2,C),h.worldHeight=4*Math.pow(2,C)/p,h.worldCenterX=r[0],h.worldCenterY=r[1]}window.requestAnimationFrame(H),h.draggables.recalculateLocations()}function H(e){let r=e-x;if(x=e,0===r)return;_.gl.uniform1f(_.uniforms.worldCenterX,h.worldCenterX),_.gl.uniform1f(_.uniforms.worldCenterY,h.worldCenterY),_.gl.uniform1f(_.uniforms.worldSize,Math.min(h.worldHeight,h.worldWidth)/2),_.gl.uniform1f(_.uniforms.a,v),_.gl.uniform1f(_.uniforms.b,b),_.gl.uniform1f(_.uniforms.brightnessScale,20),_.render.drawFrame();let n=_.render.getPixelData(),o=Array(1e4);for(let t=0;t<1e4;t++)o[t]=n[4*t]+n[4*t+1]+n[4*t+2];o.sort((e,r)=>e-r);let l=o[Math.floor(9800)]/255*18;l=Math.max(l,.1),h.gl.uniform1f(h.uniforms.aspectRatio,p),h.gl.uniform1f(h.uniforms.worldCenterX,h.worldCenterX),h.gl.uniform1f(h.uniforms.worldCenterY,h.worldCenterY),h.gl.uniform1f(h.uniforms.worldSize,Math.min(h.worldHeight,h.worldWidth)/2),h.gl.uniform1f(h.uniforms.a,v),h.gl.uniform1f(h.uniforms.b,b),h.gl.uniform1f(h.uniforms.brightnessScale,l),h.render.drawFrame()}function k(){h.fullscreen.currentlyFullscreen?(p=window.innerWidth/window.innerHeight)>=1?(h.changeCanvasSize(z,Math.floor(z/p)),h.worldWidth=4*Math.pow(2,C)*p,h.worldHeight=4*Math.pow(2,C)):(h.changeCanvasSize(Math.floor(z*p),z),h.worldWidth=4*Math.pow(2,C),h.worldHeight=4*Math.pow(2,C)/p):(p=1,h.changeCanvasSize(z,z),h.worldWidth=4*Math.pow(2,C),h.worldHeight=4*Math.pow(2,C)),window.requestAnimationFrame(H)}$("#download-2-button").addEventListener("click",()=>{h.downloadFrame("a-julia-set.png")}),h.gl.uniform1f(h.uniforms.aspectRatio,1),_.gl.uniform1f(_.uniforms.aspectRatio,1),window.requestAnimationFrame(H),window.addEventListener("resize",k),Page.temporaryHandlers.resize.push(k)}{let R=`
   precision highp float;
   
   varying vec2 uv;
   
   uniform float aspectRatio;
   
   uniform float worldCenterX;
   uniform float worldCenterY;
   uniform float worldSize;
   
   uniform float a;
   uniform float b;
   uniform float brightnessScale;
   
   
   
   void main(void)
   {
    vec2 z;
    
    if (aspectRatio >= 1.0)
    {
     z = vec2(uv.x * aspectRatio * worldSize + worldCenterX, uv.y * worldSize + worldCenterY);
    }
    
    else
    {
     z = vec2(uv.x * worldSize + worldCenterX, uv.y / aspectRatio * worldSize + worldCenterY);
    }
    
    vec3 color = normalize(vec3(abs(z.x + z.y) / 2.0, abs(z.x) / 2.0, abs(z.y) / 2.0) + .1 / length(z) * vec3(1.0, 1.0, 1.0));
    float brightness = exp(-length(z));
    
    
    
    vec2 c = vec2(a, b);
    
    for (int iteration = 0; iteration < 100; iteration++)
    {
     if (iteration == 99)
     {
      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
      return;
     }
     
     if (length(z) >= 10.0)
     {
      break;
     }
     
     z = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;
     
     brightness += exp(-length(z));
    }
    
    
    gl_FragColor = vec4(brightness / brightnessScale * color, 1.0);
   }
  `,q=new Wilson($("#output-canvas-3"),{renderer:"gpu",shader:R,canvasWidth:1e3,canvasHeight:1e3,worldWidth:4,worldHeight:4,worldCenterX:0,worldCenterY:0,useDraggables:!0,draggablesMousemoveCallback:O,draggablesTouchmoveCallback:O,useFullscreen:!0,trueFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png",switchFullscreenCallback:eo,mousedownCallback:Q,touchstartCallback:Q,mousedragCallback:V,touchmoveCallback:V,mouseupCallback:ee,touchendCallback:ee,wheelCallback:function e(r,n,o,t){D=r,I=n,.3>Math.abs(o/100)?(P+=o/100,P=Math.min(P,1)):G+=.05*Math.sign(o),er(r,n)},pinchCallback:function e(r,n,o,t){L>=1?(P-=o/q.worldWidth*10,j=-o/q.worldWidth*10):(P-=o/q.worldHeight*10,j=-o/q.worldHeight*10),P=Math.min(P,1),D=r,I=n,er()}});q.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","worldSize","a","b","brightnessScale"]),q.draggables.add(0,1);let A=new Wilson($("#hidden-canvas-3"),{renderer:"gpu",shader:R,canvasWidth:100,canvasHeight:100});A.render.initUniforms(["aspectRatio","worldCenterX","worldCenterY","worldSize","a","b","brightnessScale"]),q.canvas.parentNode.parentNode.style.setProperty("margin-bottom",0,"important"),A.canvas.parentNode.parentNode.style.setProperty("margin-top",0,"important");let L=1,P=0,N=0,B=1,E=1e3,D=0,I=0,U=0,Z=0,j=0,M=0,T=0,G=0,J=-1,K=$("#resolution-3-input");K.addEventListener("input",()=>{E=parseInt(K.value||1e3),q.changeCanvasSize(E,E)});function O(e,r,n,o){N=r,B=n,window.requestAnimationFrame(en)}function Q(e,r,n){M=0,T=0,G=0,U=0,Z=0,j=0}function V(e,r,n,o,t){q.worldCenterX-=n,q.worldCenterY-=o,U=-n,Z=-o,q.worldCenterX=Math.min(Math.max(q.worldCenterX,-2),2),q.worldCenterY=Math.min(Math.max(q.worldCenterY,-2),2),window.requestAnimationFrame(en),q.draggables.recalculateLocations()}function ee(e,r,n){Math.sqrt(U*U+Z*Z)>=.005*Math.min(q.worldWidth,q.worldHeight)&&(M=U,T=Z),Math.abs(j)>=.01&&(G=j),window.requestAnimationFrame(en)}function er(){if(L>=1){let e=q.input.getZoomedWorldCenter(D,I,4*Math.pow(2,P)*L,4*Math.pow(2,P));q.worldWidth=4*Math.pow(2,P)*L,q.worldHeight=4*Math.pow(2,P),q.worldCenterX=e[0],q.worldCenterY=e[1]}else{let r=q.input.getZoomedWorldCenter(D,I,4*Math.pow(2,P),4*Math.pow(2,P)/L);q.worldWidth=4*Math.pow(2,P),q.worldHeight=4*Math.pow(2,P)/L,q.worldCenterX=r[0],q.worldCenterY=r[1]}window.requestAnimationFrame(en),q.draggables.recalculateLocations()}function en(e){let r=e-J;if(J=e,0===r)return;A.gl.uniform1f(A.uniforms.worldCenterX,q.worldCenterX),A.gl.uniform1f(A.uniforms.worldCenterY,q.worldCenterY),A.gl.uniform1f(A.uniforms.worldSize,Math.min(q.worldHeight,q.worldWidth)/2),A.gl.uniform1f(A.uniforms.a,N),A.gl.uniform1f(A.uniforms.b,B),A.gl.uniform1f(A.uniforms.brightnessScale,20),A.render.drawFrame();let n=A.render.getPixelData(),o=Array(1e4);for(let t=0;t<1e4;t++)o[t]=n[4*t]+n[4*t+1]+n[4*t+2];o.sort((e,r)=>e-r);let l=o[Math.floor(9800)]/255*18;l=Math.max(l,.1),q.gl.uniform1f(q.uniforms.aspectRatio,L),q.gl.uniform1f(q.uniforms.worldCenterX,q.worldCenterX),q.gl.uniform1f(q.uniforms.worldCenterY,q.worldCenterY),q.gl.uniform1f(q.uniforms.worldSize,Math.min(q.worldHeight,q.worldWidth)/2),q.gl.uniform1f(q.uniforms.a,N),q.gl.uniform1f(q.uniforms.b,B),q.gl.uniform1f(q.uniforms.brightnessScale,l),q.render.drawFrame(),(0!==M||0!==T||0!==G)&&(q.worldCenterX+=M,q.worldCenterY+=T,q.worldCenterX=Math.min(Math.max(q.worldCenterX,-2),2),q.worldCenterY=Math.min(Math.max(q.worldCenterY,-2),2),Math.sqrt((M*=.96)*M+(T*=.96)*T)<5e-4*Math.min(q.worldWidth,q.worldHeight)&&(M=0,T=0),P+=G,P=Math.min(P,1),er(D,I),.001>Math.abs(G*=.93)&&(G=0),window.requestAnimationFrame(en),q.draggables.recalculateLocations())}function eo(){q.fullscreen.currentlyFullscreen?(L=window.innerWidth/window.innerHeight)>=1?(q.changeCanvasSize(E,Math.floor(E/L)),q.worldWidth=4*Math.pow(2,P)*L,q.worldHeight=4*Math.pow(2,P)):(q.changeCanvasSize(Math.floor(E*L),E),q.worldWidth=4*Math.pow(2,P),q.worldHeight=4*Math.pow(2,P)/L):(L=1,q.changeCanvasSize(E,E),q.worldWidth=4*Math.pow(2,P),q.worldHeight=4*Math.pow(2,P)),window.requestAnimationFrame(en)}$("#download-3-button").addEventListener("click",()=>{q.downloadFrame("a-julia-set.png")}),q.gl.uniform1f(q.uniforms.aspectRatio,1),A.gl.uniform1f(A.uniforms.aspectRatio,1),window.requestAnimationFrame(en),window.addEventListener("resize",eo),Page.temporaryHandlers.resize.push(eo)}Page.show()}();