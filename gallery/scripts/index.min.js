import{showPage}from"../../scripts/src/loadPage.min.js";import{galleryImageData}from"./imageData.min.js";import{showCard}from"/scripts/src/cards.min.js";import{addHoverEvent}from"/scripts/src/hoverEvents.min.js";import{$,$$}from"/scripts/src/main.min.js";import{typesetMath}from"/scripts/src/math.min.js";import{redirect}from"/scripts/src/navigation.min.js";export default function(){const a=$("#high-res-viewer-card h1"),i=$("#description-text"),l=$("#featured-text"),s=$("#applet-link"),o=$("#full-res-link");let m="";$$(".gallery-image-1-1 img, .gallery-image-2-2 img, .gallery-image-3-3 img").forEach(element=>{element.addEventListener("click",e=>{return e=e.target.getAttribute("data-image-id"),m=e,a.innerHTML=galleryImageData[e].title,galleryImageData[e].parameters?(i.innerHTML=galleryImageData[e].parameters,i.parentElement.style.display="block"):i.parentElement.style.display="none",galleryImageData[e].featured?(l.innerHTML=galleryImageData[e].featured,l.parentElement.style.display="block",setTimeout(()=>{var e=l.querySelectorAll("a");for(const t of Array.from(e))addHoverEvent({element:t})},10)):l.parentElement.style.display="none",s.setAttribute("href",galleryImageData[e].appletLink),o.setAttribute("href",`https://drive.google.com/uc?id=${galleryImageData[e].driveId}&export=download`),t=document.createElement("img"),(r=$("#high-res-viewer-card img")).parentNode.insertBefore(t,r),r.remove(),typesetMath(),t.onload=()=>{setTimeout(()=>showCard("high-res-viewer"),10)},t.src=`/gallery/high-res/${e}.webp`,void typesetMath();var t,r})}),s.addEventListener("click",()=>{redirect({url:galleryImageData[m].appletLink})}),o.addEventListener("click",()=>{redirect({url:`https://drive.google.com/uc?id=${galleryImageData[m].driveId}&export=download`,inNewTab:!0})}),showPage()}