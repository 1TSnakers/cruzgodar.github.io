import{showPage}from"../../scripts/src/loadPage.min.js";import{galleryImageData}from"./imageData.min.js";import{showCard}from"/scripts/src/cards.min.js";import{$,$$}from"/scripts/src/main.min.js";import{typesetMath}from"/scripts/src/math.min.js";import{redirect}from"/scripts/src/navigation.min.js";function load(){const r=$("#high-res-viewer-card h1"),i=$("#description-text"),l=$("#featured-text"),s=$("#applet-link"),o=$("#full-res-link");let g="";$$(".gallery-image-1-1 img, .gallery-image-2-2 img, .gallery-image-3-3 img").forEach(element=>{element.addEventListener("click",e=>{return e=e.target.getAttribute("data-image-id"),g=e,r.innerHTML=galleryImageData[e].title,galleryImageData[e].parameters?(i.innerHTML=galleryImageData[e].parameters,i.parentElement.style.display="block"):i.parentElement.style.display="none",galleryImageData[e].featured?(l.innerHTML=galleryImageData[e].featured,l.parentElement.style.display="block"):l.parentElement.style.display="none",s.setAttribute("href",`/applets/${galleryImageData[e].appletLink}/`),o.setAttribute("href",`https://drive.google.com/uc?id=${galleryImageData[e].driveId}&export=download`),t=document.createElement("img"),(a=$("#high-res-viewer-card img")).parentNode.insertBefore(t,a),a.remove(),typesetMath(),t.onload=()=>{setTimeout(()=>showCard("high-res-viewer"),10)},void(t.src=`/gallery/high-res/${e}.webp`);var t,a})}),s.addEventListener("click",()=>{redirect({url:`/applets/${galleryImageData[g].appletLink}/`})}),o.addEventListener("click",()=>{redirect({url:`https://drive.google.com/uc?id=${galleryImageData[g].driveId}&export=download`,inNewTab:!0})}),showPage()}export{load};