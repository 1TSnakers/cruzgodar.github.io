import{showPage}from"../../scripts/src/loadPage.min.js";import{galleryImageData}from"./imageData.min.js";import{showCard}from"/scripts/src/cards.min.js";import{$,$$}from"/scripts/src/main.min.js";import{typesetMath}from"/scripts/src/math.min.js";import{redirect}from"/scripts/src/navigation.min.js";function load(){const r=$("#high-res-viewer-card h1"),i=$("#description-text"),l=$("#featured-text"),s=$("#applet-link"),m=$("#full-res-link");let g="";$$(".gallery-image-1-1 img, .gallery-image-2-2 img, .gallery-image-3-3 img").forEach(element=>{element.addEventListener("click",e=>{return e=e.target.getAttribute("data-image-id"),g=e,r.innerHTML=galleryImageData[e].title,galleryImageData[e].parameters?(i.innerHTML=galleryImageData[e].parameters,i.parentElement.style.display="block"):i.parentElement.style.display="none",galleryImageData[e].featured?(l.innerHTML=galleryImageData[e].featured,l.parentElement.style.display="block"):l.parentElement.style.display="none",s.setAttribute("href",`/applets/${galleryImageData[e].appletLink}/`),m.setAttribute("href",galleryImageData[e].imageLink),a=document.createElement("img"),(t=$("#high-res-viewer-card img")).parentNode.insertBefore(a,t),t.remove(),typesetMath(),a.onload=()=>{setTimeout(()=>showCard("high-res-viewer"),10)},void(a.src=`/gallery/high-res/${e}.webp`);var a,t})}),s.addEventListener("click",()=>{redirect({url:`/applets/${galleryImageData[g].appletLink}/`})}),m.addEventListener("click",()=>{redirect({url:galleryImageData[g].imageLink,inNewTab:!0})}),showPage()}export{load};