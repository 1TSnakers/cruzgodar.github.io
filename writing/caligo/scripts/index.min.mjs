!function(){function g(){if(0<=Page.scroll){Page.backgroundColorChanged=!0;0===Page.scroll?Page.backgroundColorChanged=!1:Page.scroll<=window.innerHeight/1.25?(a=.5+.5*Math.sin(Math.PI*Math.max(1-1.25*Page.scroll/window.innerHeight,0)-.5*Math.PI),a=1===Site.Settings.urlVars.theme?1===Site.Settings.urlVars.darkThemeColor?0:24*a:255*a,document.documentElement.style.backgroundColor=`rgb(${a}, ${a}, ${a})`,Site.Settings.metaThemeColorElement.setAttribute("content",`rgb(${a}, ${a}, ${a})`),Page.Banner.doneLoading=
0===a?!0:!1):!1===Page.Banner.doneLoading&&(document.documentElement.style.backgroundColor="rgb(0, 0, 0)",Site.Settings.metaThemeColorElement.setAttribute("content","rgb(0, 0, 0)"),Page.Banner.doneLoading=!0);if(Page.scroll<=window.innerHeight/3){b=.5+.5*Math.sin(Math.PI*Math.max(1-3*Page.scroll/window.innerHeight,0)-.5*Math.PI);try{$("#scroll-button").style.opacity=b}catch(c){}if(0===b){try{$("#scroll-button").remove()}catch(c){}Page.Banner.ScrollButton.doneLoading=!0}else Page.Banner.ScrollButton.doneLoading=
!1}else if(!1===Page.Banner.ScrollButton.doneLoading){try{$("#scroll-button").remove()}catch(c){}Page.Banner.ScrollButton.doneLoading=!0}Page.scroll>=.8*window.innerHeight&&Page.scroll<=6*window.innerHeight/5?(b=.5+.5*Math.sin(Math.PI*Math.max(1-3.5*(Page.scroll-.8*window.innerHeight)/window.innerHeight,0)-.5*Math.PI),$("#eclipse").style.opacity=1-b,e=1===b?!0:!1):scroll>=1.2*window.innerHeight&&!1===e?($("#eclipse").style.opacity=1,e=!0):scroll<=.8*window.innerHeight&&!1===e&&($("#eclipse").style.opacity=
0,e=!0)}}function f(){$("#eclipse").style.height=$("#eclipse").offsetWidth+"px";$("#eclipse img").style.height=$("#eclipse").offsetWidth+"px";let c=0;$$(".chapter-link a").forEach(d=>{d=d.offsetWidth;d>c&&(c=d)});$$(".chapter-link").forEach(d=>d.style.width=c+"px")}let a=255,b=0;Page.Banner.doneLoading=!1;let e=Page.Banner.ScrollButton.doneLoading=!1;setTimeout(function(){Site.addStyle("\n\t\t\t#floating-footer-gradient\n\t\t\t{\n\t\t\t\tbackground: -moz-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 100%) !important;\n\t\t\t\tbackground: -webkit-linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%) !important;\n\t\t\t\tbackground: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%) !important;\n\t\t\t}\n\t\t");
1===Site.Settings.urlVars.contrast?(Page.setElementStyles(".synopsis-text","color","rgb(192, 192, 192)"),Page.setElementStyles(".body-text","color","rgb(192, 192, 192)"),1!==Site.Settings.urlVars.theme&&Page.setElementStyles(".hook-text","color","rgb(120, 120, 120)"),$("#email img").style.filter="brightness(150%)",Page.setElementStyles(".stage-bubble","border-color","rgb(192, 192, 192)"),Page.setElementStyles(".stage-bubble span","background-color","rgb(192, 192, 192)"),Site.addStyle("\n\t\t\t\t.line-break\n\t\t\t\t{\n\t\t\t\t\tbackground: -moz-linear-gradient(left, rgb(0,0,0) 0%, rgb(140,140,140) 50%, rgb(0,0,0) 100%);\n\t\t\t\t\tbackground: -webkit-linear-gradient(left, rgb(0,0,0) 0%,rgb(140,140,140) 50%,rgb(0,0,0) 100%);\n\t\t\t\t\tbackground: linear-gradient(to right, rgb(0,0,0) 0%,rgb(140,140,140) 50%,rgb(0,0,0) 100%);\n\t\t\t\t}\n\t\t\t")):
(Site.addStyle("\n\t\t\t\t.line-break\n\t\t\t\t{\n\t\t\t\t\tbackground: -moz-linear-gradient(left, rgb(0,0,0) 0%, rgb(92,92,92) 50%, rgb(0,0,0) 100%);\n\t\t\t\t\tbackground: -webkit-linear-gradient(left, rgb(0,0,0) 0%,rgb(92,92,92) 50%,rgb(0,0,0) 100%);\n\t\t\t\t\tbackground: linear-gradient(to right, rgb(0,0,0) 0%,rgb(92,92,92) 50%,rgb(0,0,0) 100%);\n\t\t\t\t}\n\t\t\t"),1===Site.Settings.urlVars.theme&&Page.setElementStyles(".hook-text","color","rgb(120, 120, 120)"))},500);$("#eclipse").style.height=
$("#eclipse").offsetWidth+"px";$("#eclipse img").style.height=$("#eclipse").offsetWidth+"px";window.addEventListener("resize",f);Page.temporaryHandlers.resize.push(f);window.addEventListener("scroll",g);Page.temporaryHandlers.scroll.push(g);setTimeout(f,500);setTimeout(f,1E3);0!==scroll&&(document.documentElement.classList.add("background-transition"),g(),setTimeout(()=>{document.documentElement.classList.remove("background-transition")},Site.backgroundColorAnimationTime));setTimeout(Page.Banner.ScrollButton.insert,
7E3);Page.show()}();
