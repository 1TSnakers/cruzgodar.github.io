<noscript>
	<div style="height: 5vh"></div>
	
	<p class="body-text" style="text-align: center">JavaScript is required to use this site and many others. Consider enabling it.</p>
</noscript>

<div id="background-image"></div>

<div style="height: 100vh">
	<div style="height: 5vh"></div>
	
	
	
	<header>
		<div class="new-aos-section logo" data-aos="fade-in">
			<a href="/home.html">
				<img src="/graphics/general-icons/logo.png" alt="Logo" onclick="redirect('/home.html')"></img>
			</a>
		</div>
	</header>
	
	<div style="height: 10vh"></div>
	
	<div data-aos="fade-up" data-aos-delay="1000">
		<h2 class="hook-text">A world well into its epilogue.</h2>
	</div>

	<div style="height: 1vh"></div>

	<div data-aos="fade-up" data-aos-delay="2000">
		<h2 class="hook-text">A city shrouded in darkness.</h2>
	</div>

	<div style="height: 1vh"></div>

	<div data-aos="fade-up" data-aos-delay="3000">
		<h2 class="hook-text">A planet colder each day.</h2>
	</div>
	
	<div id="banner-cover"></div>
</div>



<main>
	<section>
		<div style="height: 20vh"></div>
		
		<div id="scroll-to"></div>
		
		<div class="new-aos-section" data-aos="zoom-out">
			<h1 class="title-text">CORONA</h1>
		</div>

		<div id="eclipse">
			<img id="image-eclipse" class="check-webp" src="" alt="Corona">
		</div>

		<div style="height: 5vh"></div>
		
		<div class="new-aos-section" data-aos="fade-up">
			<p class="synopsis-text">Los Angeles, separated only by a thin glass dome from the hushed apocalypse without, holds tentatively to life. Political tensions mount among its Citizens, and change, in some direction, is imminent.</p>
		</div>

		<br>

		<div data-aos="fade-up">
			<p class="synopsis-text">Amelia has worked the same job for years, driven by her older brother to provide for her family as much as she can. But when she runs face-first into an old homeless man with a secret project and a mastery of martial arts &mdash; and he agrees to teach her &mdash; she starts to grow stronger, though with that strength comes distance from her family. As she struggles to keep old secrets under wraps, Amelia discovers the forces operating against the city and the insurgency at the heart of it all.</p>
		</div>

		<br>

		<div data-aos="fade-up">
			<p class="synopsis-text">Ben is kept safely tucked away in his father&#x2019;s skyscraper, insulated from the dangers of the world and taught by city-renowned instructors. It&#x2019;s stifling, and when his sixteenth birthday comes and goes without a glimpse of the outside world, he reaches a breaking point. But being the son of an oligarch isn&#x2019;t without its perks, among them control of the building&#x2019;s security system, and he manages to sneak out and return, unscathed and unnoticed. His curiosity soon leads him to dark rabbit holes, though, and Ben begins to suspect his father of illicit dealings with strange characters.</p>
		</div>

		<br>

		<div data-aos="fade-up">
			<p class="synopsis-text">The Earth hurtles through space, growing colder each day, the sun long since disappeared. The human race dwindles, and the last strongholds of warmth and life are flickering. As paths cross and secrets come to light, the fate of more than just a city hangs in the balance.</p>
		</div>
	</section>
	
	

	<div style="height: 20vh"></div>
	
	
	
	<section>
		<div class="stage-bubbles">
			<div class="new-aos-section stage-bubble" data-aos="fade-in">
				<span></span>
				<p class="body-text stage-bubble-subtext">Skeleton</p>
			</div>
			
			<div class="stage-bubble" data-aos="fade-in">
				<span></span>
				<p class="body-text stage-bubble-subtext">Outline</p>
			</div>
			
			<div class="stage-bubble" data-aos="fade-in">
				<span></span>
				<p class="body-text stage-bubble-subtext">Draft</p>
			</div>
			
			<div class="stage-bubble" data-aos="fade-in">
				<span></span>
				<p class="body-text stage-bubble-subtext">Revision</p>
			</div>
			
			<div class="stage-bubble" data-aos="fade-in">
				<span style="background-color: rgb(0, 0, 0)"></span>
				<p class="body-text stage-bubble-subtext">Prereaders</p>
			</div>
			
			<div class="stage-bubble" data-aos="fade-in">
				<span></span>
				<p class="body-text stage-bubble-subtext">Editing</p>
			</div>
		</div>
		
		
		
		<div style="height: 20vh"></div>
		
		
		
		<div class="new-aos-section" data-aos="fade-up">
			<p class="body-text">Corona is currently being written. The first draft has been completed and revised, and now it&#x2019;s being read by a small group of prereaders to identify any major flaws. If you&#x2019;re interested in getting updates about when Corona is finished, contact the address below.</p>
		</div>

		<div style="height: 5vh"></div>

		<div id="email" data-aos="fade-up">
			<img src="/writing/corona/graphics/email.png" alt="Email Address">
		</div>
	</section>
</main>



<footer>
	<div id="spawn-footer"></div>
</footer>



<script>
	if (typeof current_url == "undefined")
	{
		window.location.replace("/index.html?page=" + encodeURIComponent(window.location.pathname));
	}
	
	
	
	page_settings = 
	{
		"title": "Corona",
		
		"banner_page": false,
		"writing_page": false,
		"math_page": false,
		"comments": false,
		
		"small_margins_on_ultrawide": false,
		
		"manual_banner": false,
		"manual_dark_theme": true,
		
		"no_footer": false,
		"footer_exclusion": ""
	};
	
	on_page_load();
	
	
	
	!function()
	{
		let background_color = 255;
		let opacity = 0;
		
		banner_done = false;
		scroll_button_done = false;
		let eclipse_done = false;
		
		let stage_bubbles_done = false;
		let stage_bubbles_pos = Infinity;
		
		let blinking_bubble_interval = null;
		
		setTimeout(function()
		{
			stage_bubbles_pos = document.querySelector(".stage-bubbles").offsetTop;
		}, 1000);
		
		
		
		add_corona_style();
		
		adjust_for_settings();
		
		
		
		//Make the eclipse image have a 1:1 aspect ratio.
		document.querySelector("#eclipse").style.height = document.querySelector("#eclipse").offsetWidth + "px";
		document.querySelector("#eclipse img").style.height = document.querySelector("#eclipse").offsetWidth + "px";
		
		window.addEventListener("resize", corona_resize);
		temporary_handlers["resize"].push(corona_resize);
		
		window.addEventListener("scroll", corona_scroll);
		temporary_handlers["scroll"].push(corona_scroll);
		
		
		
		//We're coming back from another page, so let's not just snap the background color abruptly.
		if (scroll != 0)
		{
			document.documentElement.classList.add("background-transition");
			
			corona_scroll();
			
			setTimeout(function()
			{
				document.documentElement.classList.remove("background-transition");
			}, 450);
		}
		
		else
		{
			setTimeout(add_scroll_button, 7000);
		}
		
		
		
		
		
		function corona_scroll()
		{
			if (scroll >= 0)
			{
				update_background(scroll);
				
				update_scroll_button(scroll);
				
				update_eclipse(scroll);
				
				update_stage_bubbles(scroll);
			}
		}
		
		
		
		function update_background(scroll)
		{
			if (scroll == 0)
			{
				background_color_changed = false;
			}
			
			
			
			else if (scroll <= initial_window_height / 1.25)
			{
				background_color_changed = true;
				
				background_color = .5 + .5 * Math.sin(Math.PI * Math.max(1 - 1.25 * scroll / initial_window_height, 0) - .5 * Math.PI);
				
				if (url_vars["theme"] == 1)
				{
					if (url_vars["dark_theme_color"] == 1)
					{
						background_color = 0;
					}
					
					else
					{
						background_color *= 24;
					}
				}
					
				else
				{
					background_color *= 255;
				}
				
				
				document.documentElement.style.backgroundColor = "rgb(" + background_color + ", " + background_color + ", " + background_color + ")";
				
				if (background_color == 0)
				{
					banner_done = true;
				}
				
				else
				{
					banner_done = false;
				}
			}
			
			else if (banner_done == false)
			{
				document.documentElement.style.backgroundColor = "rgb(0, 0, 0)";
				banner_done = true;
			}
		}
		
		
		
		function update_scroll_button(scroll)
		{
			if (scroll <= initial_window_height / 3)
			{
				opacity = .5 + .5 * Math.sin(Math.PI * Math.max(1 - 3 * scroll / initial_window_height, 0) - .5 * Math.PI);
				
				try {document.querySelector("#scroll-button").style.opacity = opacity;}
				catch(ex) {}
				
				if (opacity == 0)
				{
					try {document.querySelector("#scroll-button").remove();}
					catch(ex) {}
					
					scroll_button_done = true;
				}
				
				else
				{
					scroll_button_done = false;
				}
			}
			
			else if (scroll_button_done == false)
			{
				try {document.querySelector("#scroll-button").remove();}
				catch(ex) {}
				
				scroll_button_done = true;
			}
		}
		
		
		
		function update_eclipse(scroll)
		{
			if (scroll >= 4/5 * initial_window_height && scroll <= initial_window_height * 6/5)
			{
				opacity = .5 + .5 * Math.sin(Math.PI * Math.max(1 - 3.5 * (scroll - (4/5 * initial_window_height)) / initial_window_height, 0) - .5 * Math.PI);
				
				document.querySelector("#eclipse").style.opacity = 1 - opacity;
				
				if (opacity == 1)
				{
					eclipse_done = true;
				}
				
				else
				{
					eclipse_done = false;
				}
			}
			
			else if (scroll >= 6/5 * window_height && eclipse_done == false)
			{
				document.querySelector("#eclipse").style.opacity = 1;
				
				eclipse_done = true;
			}
			
			else if (scroll <= 4/5 * window_height && eclipse_done == false)
			{
				document.querySelector("#eclipse").style.opacity = 0;
				
				eclipse_done = true;
			}
		}
		
		
		
		function update_stage_bubbles(scroll)
		{
			let num_lit_bubbles = 4;
			let blinking_bubble = 4;
			
			if (scroll > stage_bubbles_pos - 3*window_height/4 && stage_bubbles_done == false)
			{
				stage_bubbles_done = true;
				let bubbles = document.querySelectorAll(".stage-bubble span");
				let subtexts = document.querySelectorAll(".stage-bubble-subtext");
				
				setTimeout(function()
				{
					for (let i = 0; i <= num_lit_bubbles; i++)
					{
						bubbles[i].style.width = "100%";
						bubbles[i].style.height = "100%";
						subtexts[i].style.marginTop = "1vh";
					}
				}, 1200);
				
				setTimeout(function()
				{
					blinking_bubble_interval = setInterval(function()
					{
						if (url_vars["contrast"] == 1)
						{
							bubbles[blinking_bubble].style.backgroundColor = "rgb(192, 192, 192)";
						}
						
						else
						{
							bubbles[blinking_bubble].style.backgroundColor = "rgb(152, 152, 152)";
						}
						
						setTimeout(function()
						{
							bubbles[blinking_bubble].style.backgroundColor = "rgb(0, 0, 0)";
						}, 1200);
					}, 2400);
				}, 600);
			}
			
			
			
			else if (scroll < stage_bubbles_pos - 3*window_height/4 && stage_bubbles_done)
			{
				stage_bubbles_done = false;
				clearInterval(blinking_bubble_interval);
				
				let bubbles = document.querySelectorAll(".stage-bubble span");
				let subtexts = document.querySelectorAll(".stage-bubble-subtext");
				
				for (let i = 0; i <= num_lit_bubbles; i++)
				{
					bubbles[i].style.width = 0;
					bubbles[i].style.height = 0;
					
					if (layout_string == "default")
					{
						subtexts[i].style.marginTop = "calc(5vw + 1vh)";
					}
					
					else if (layout_string == "compact")
					{
						subtexts[i].style.marginTop = "calc(10vw + 1vh)";
					}
					
					else
					{
						subtexts[i].style.marginTop = "calc(5vw + 1vh)";
					}
				}
			}
		}
		
		
		
		function corona_resize()
		{
			document.querySelector("#eclipse").style.height = document.querySelector("#eclipse").offsetWidth + "px";
			document.querySelector("#eclipse img").style.height = document.querySelector("#eclipse").offsetWidth + "px";
			
			stage_bubbles_pos = document.querySelector(".stage-bubbles").offsetTop;
		}
		
		
		
		function adjust_for_settings()
		{
			if (url_vars["contrast"] == 1)
			{
				set_element_styles(".synopsis-text", "color", "rgb(192, 192, 192)");
				
				set_element_styles(".body-text", "color", "rgb(192, 192, 192)");
				
				if (url_vars["theme"] != 1)
				{
					set_element_styles(".hook-text", "color", "rgb(120, 120, 120)");
				}
				
				
				
				document.querySelector("#email img").style.filter = "brightness(150%)";
				
				
				
				set_element_styles(".stage-bubble", "border-color", "rgb(192, 192, 192)");
				
				set_element_styles(".stage-bubble span", "background-color", "rgb(192, 192, 192)");
				
				
				
				add_style(`
					.line-break
					{
						background: -moz-linear-gradient(left, rgb(0,0,0) 0%, rgb(140,140,140) 50%, rgb(0,0,0) 100%);
						background: -webkit-linear-gradient(left, rgb(0,0,0) 0%,rgb(140,140,140) 50%,rgb(0,0,0) 100%);
						background: linear-gradient(to right, rgb(0,0,0) 0%,rgb(140,140,140) 50%,rgb(0,0,0) 100%);
					}
				`, true);
			}
			
			else
			{
				add_style(`
					.line-break
					{
						background: -moz-linear-gradient(left, rgb(0,0,0) 0%, rgb(92,92,92) 50%, rgb(0,0,0) 100%);
						background: -webkit-linear-gradient(left, rgb(0,0,0) 0%,rgb(92,92,92) 50%,rgb(0,0,0) 100%);
						background: linear-gradient(to right, rgb(0,0,0) 0%,rgb(92,92,92) 50%,rgb(0,0,0) 100%);
					}
				`, true);
				
				
				
				if (url_vars["theme"] == 1)
				{
					set_element_styles(".hook-text", "color", "rgb(120, 120, 120)");
				}
			}
		}
		
		
		
		function add_corona_style()
		{
			add_style(`
				body
				{
					margin: 0;
					padding: 0;
				}
				
				#new-banner-cover
				{
					height: 60vh;
				}
				
				.title-text
				{
					position: relative;
					width: 70vw;
					margin: 0 auto;
					
					color: rgb(255, 255, 255);
					text-align: center;
					font-size: 450%;
					font-family: "Gentium Book Basic", serif;
					font-weight: normal;
					
					z-index: 10;
				}
				
				.hook-text
				{
					position: relative;
					width: 100%;
					color: rgb(152, 152, 152);
					text-align: center;
					font-size: 150%;
					font-family: "Gentium Book Basic", serif;
				}
				
				.synopsis-text
				{
					position: relative;
					width: 50vw;
					margin: 0 auto;
					color: rgb(152, 152, 152);
					text-align: justify;
					font-size: 100%;
					font-family: 'Gentium Book Basic', serif;
				}
				
				.body-text
				{
					color: rgb(152, 152, 152);
				}
				
				#eclipse
				{
					width: 50vh;
					max-width: 70vw;
					margin: 0 auto;
					opacity: 0;
				}
				
				#eclipse img
				{
					position: absolute;
					width: auto;
					height: auto;
				}
				
				.stage-bubbles
				{
					width: 50vw;
					margin: 0 auto;
					
					grid-column-gap: calc(17.5vw - 12px);
				}
				
				.stage-bubble-subtext
				{
					width: 17.5vw;
					margin-left: -6.25vw;
				}
				
				#email
				{
					width: 300px;
					margin: 0 auto;
				}
				
				#email img
				{
					position: absolute;
					width: 300px;
					filter: brightness(120%);
				}
				
				
				
				.floating-footer-content, .floating-footer-button-background
				{
					background-color: rgb(0, 0, 0);
				}
				
				
				
				.banner:after, .floating-footer-gradient
				{
					background: -moz-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 100%) !important;
					background: -webkit-linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%) !important;
					background: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%) !important;
				}
				
				
				
				@media screen and (max-aspect-ratio: 9/16), (max-width: 700px)
				{
					/* Make text have smaller margins so justifying doesn't look ugly. */
					.synopsis-text
					{
						width: 80vw;
					}
					
					#eclipse
					{
						max-width: 90vw;
					}
					
					.stage-bubbles
					{
						width: 80vw;
						
						grid-column-gap: calc(25vw - 12px);
					}
					
					.stage-bubble-subtext
					{
						width: 25vw;
						margin-left: -7.5vw;
					}
				}
				
				
				
				@media screen and (min-aspect-ratio: 16/9), (min-width: 1400px)
				{
					.stage-bubbles
					{
						grid-column-gap: calc(4vw - 9.6px);
					}
				}
			`, true);
		}
	}()
</script>