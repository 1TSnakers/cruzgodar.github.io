import{AnimationFrameApplet}from"/scripts/applets/animationFrameApplet.min.js";import{Wilson}from"/scripts/wilson.min.js";class BernoulliPercolation extends AnimationFrameApplet{connections;connectionsByValue;gridSize=50;resolution=500;threshhold=.5;lastThreshhold=.5;constructor({canvas}){super(canvas);var i={renderer:"cpu",canvasWidth:this.resolution,canvasHeight:this.resolution};this.wilson=new Wilson(canvas,i),this.run()}run({resolution=500,gridSize=50}){this.resolution=resolution,this.gridSize=gridSize,this.wilson.changeCanvasSize(this.resolution,this.resolution),this.resume()}generateGrid(){this.connectionsByValue={};for(let i=0;i<1;i+=.001)this.connectionsByValue[i]=[];this.connections=new Array(this.gridSize);for(let e=0;e<this.gridSize;e++){this.connections[e]=new Array(this.gridSize);for(let i=0;i<this.gridSize;i++)this.connections[e][i]=[Math.floor(1e3*Math.random())/1e3,Math.floor(1e3*Math.random())/1e3],this.connectionsByValue[this.connections[e][i][0]].push([e,i,0]),this.connectionsByValue[this.connections[e][i][1]].push([e,i,1])}}prepareFrame(){this.threshhold!==this.lastThreshhold&&(this.needNewFrame=!0)}drawFrame(){this.needNewFrame=!0}}export{BernoulliPercolation};