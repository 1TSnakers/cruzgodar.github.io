!function(){"use strict";let e=null,t=document.querySelector("#fern-graph").getContext("2d"),r=null,n=[];function o(){let o=1e3*parseInt(document.querySelector("#num-iterations-input").value||1e4);e=Math.floor(Math.sqrt(o/10)),document.querySelector("#fern-graph").setAttribute("width",e),document.querySelector("#fern-graph").setAttribute("height",e),t.fillStyle="rgb(0, 0, 0)",t.fillRect(0,0,e,e);try{r.terminate()}catch(e){}r=DEBUG?new Worker("/applets/the-barnsley-fern/scripts/worker.js"):new Worker("/applets/the-barnsley-fern/scripts/worker.min.js"),temporary_web_workers.push(r),r.onmessage=function(r){n=r.data[0];let o=t.getImageData(0,0,e,e),a=o.data;for(let t=0;t<e;t++)for(let n=0;n<e;n++){let o=4*t*e+4*n;a[o]=0,a[o+1]=r.data[0][t][n],a[o+2]=0,a[o+3]=255}t.putImageData(o,0,0)},r.postMessage([e,o])}1===url_vars.contrast&&(1===url_vars.theme?document.querySelector("#fern-graph").style.borderColor="rgb(192, 192, 192)":document.querySelector("#fern-graph").style.borderColor="rgb(64, 64, 64)"),document.querySelector("#generate-button").addEventListener("click",o),document.querySelector("#num-iterations-input").addEventListener("keydown",function(e){13===e.keyCode&&o()}),document.querySelector("#download-button").addEventListener("click",function(){let e=document.createElement("a");e.download="the-barnsley-fern.png",e.href=document.querySelector("#fern-graph").toDataURL(),e.click(),e.remove()})}();