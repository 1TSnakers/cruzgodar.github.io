!function(){"use strict";let t=null,e=document.querySelector("#output-canvas").getContext("2d",{alpha:!1}),n=null,r=[];function a(){let a=1e3*parseInt(document.querySelector("#num-iterations-input").value||1e4);t=Math.floor(Math.sqrt(a/10)),document.querySelector("#output-canvas").setAttribute("width",t),document.querySelector("#output-canvas").setAttribute("height",t),e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,t,t);try{n.terminate()}catch(t){}n=DEBUG?new Worker("/applets/the-barnsley-fern/scripts/worker.js"):new Worker("/applets/the-barnsley-fern/scripts/worker.min.js"),temporary_web_workers.push(n),n.onmessage=function(n){r=n.data[0];let a=e.getImageData(0,0,t,t),o=a.data;for(let e=0;e<t;e++)for(let r=0;r<t;r++){let a=4*e*t+4*r;o[a]=0,o[a+1]=n.data[0][e][r],o[a+2]=0,o[a+3]=255}e.putImageData(a,0,0)},n.postMessage([t,a])}document.querySelector("#generate-button").addEventListener("click",a),document.querySelector("#num-iterations-input").addEventListener("keydown",function(t){13===t.keyCode&&a()}),document.querySelector("#download-button").addEventListener("click",function(){let t=document.createElement("a");t.download="the-barnsley-fern.png",t.href=document.querySelector("#output-canvas").toDataURL(),t.click(),t.remove()}),"Chrome"!==browser_name&&"Opera"!==browser_name||function(){let t=document.querySelector("main").children;(t=t[t.length-1].children)[t.length-1].insertAdjacentHTML("afterend",'\n\t\t\t<div data-aos="fade-up" style="margin-top: 10vh">\n\t\t\t\t<p class="body-text">\n\t\t\t\t\tYour browser treats canvases in a way that may make this applet stutter excessively. If this happens, try temporarily turning off hardware acceleration in the browser&#x2019;s settings.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t'),aos_resize()}()}();