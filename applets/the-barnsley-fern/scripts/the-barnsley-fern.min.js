!function(){"use strict";let e=new Wilson(document.querySelector("#output-canvas"),{renderer:"hybrid",canvas_width:1e3,canvas_height:1e3,use_fullscreen:!0,use_fullscreen_button:!0,enter_fullscreen_button_icon_path:"/graphics/general-icons/enter-fullscreen.png",exit_fullscreen_button_icon_path:"/graphics/general-icons/exit-fullscreen.png"}),n=1e7,t=1e3,r=null;document.querySelector("#generate-button").addEventListener("click",a);let s=document.querySelector("#num-iterations-input");function a(){n=1e3*parseInt(s.value||1e4),t=Math.floor(Math.sqrt(n/10)),e.change_canvas_size(t,t);try{r.terminate()}catch(e){}r=DEBUG?new Worker("/applets/the-barnsley-fern/scripts/worker.js"):new Worker("/applets/the-barnsley-fern/scripts/worker.min.js"),Page.temporary_web_workers.push(r),r.onmessage=function(n){e.render.draw_frame(n.data[0])},r.postMessage([t,n])}s.addEventListener("keydown",e=>{13===e.keyCode&&a()}),document.querySelector("#download-button").addEventListener("click",()=>{e.download_frame("the-barnsley-fern.png")})}();