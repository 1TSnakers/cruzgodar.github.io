!function(){"use strict";let e=0,t=["_","_","_","_","_"],s=!1,l="",o=!1,r=Page.element.querySelectorAll("#wordle input"),a=Page.element.querySelectorAll("#wordle div:nth-child(7n)"),n=Page.element.querySelectorAll("#wordle div:nth-child(7n + 1)"),i=[],p=[],d=Page.element.querySelector("#hardmode-checkbox"),y=Page.element.querySelector("#correct-solution-input"),c=null;c=DEBUG?new Worker("/applets/wordle-scorer/scripts/worker.js"):new Worker("/applets/wordle-scorer/scripts/worker.min.js"),Page.temporary_web_workers.push(c),c.onmessage=function(t){let l=t.data[0];if(-1===l)return void setTimeout(()=>{a[e].firstElementChild.innerHTML="&#10005;",a[e].classList.add("reject"),a[e].style.opacity=1,setTimeout(()=>{a[e].style.opacity=0,setTimeout(()=>{a[e].firstElementChild.innerHTML="&#x2794;",a[e].classList.remove("reject")},250)},1750)},250);o=!0,i=t.data[2],p=t.data[3],a[e].classList.add("score"),a[e].firstElementChild.textContent=0,a[e].style.opacity=1,d.style.pointerEvents="none";let y=0,c=setInterval(()=>{y++,a[e-1].firstElementChild.textContent=(Math.round(100*Math.pow(Math.sin(Math.PI/2*y/120),.35)*l)/100).toFixed(2),120===y&&clearInterval(c)},16);try{n[e-1].style.opacity=0,n[e-1].style.cursor="default",n[e-1].firstElementChild.style.cursor="default"}catch(e){}r[5*e].style.pointerEvents="none",r[5*e+1].style.pointerEvents="none",r[5*e+2].style.pointerEvents="none",r[5*e+3].style.pointerEvents="none",r[5*e+4].style.pointerEvents="none",r[5*++e].style.pointerEvents="auto",r[5*e+1].style.pointerEvents="auto",r[5*e+2].style.pointerEvents="auto",r[5*e+3].style.pointerEvents="auto",r[5*e+4].style.pointerEvents="auto",r[5*e].focus();let u=t.data[1];for(let t=0;t<5;t++)0===u[t]?setTimeout(()=>{r[5*(e-1)+t].classList.add("gray"),r[5*(e-1)+t].parentNode.classList.add("gray")},300*t):1===u[t]?setTimeout(()=>{r[5*(e-1)+t].classList.add("yellow"),r[5*(e-1)+t].parentNode.classList.add("yellow")},300*t):setTimeout(()=>{r[5*(e-1)+t].classList.add("green"),r[5*(e-1)+t].parentNode.classList.add("green")},300*t);u[0]+u[1]+u[2]+u[3]+u[4]===10?s=!0:setTimeout(()=>{n[e-1].style.opacity=1,n[e-1].style.cursor="pointer",n[e-1].firstElementChild.style.cursor="pointer"},1800),setTimeout(()=>{o=!1},2e3)},r[0].style.pointerEvents="auto",r[1].style.pointerEvents="auto",r[2].style.pointerEvents="auto",r[3].style.pointerEvents="auto",r[4].style.pointerEvents="auto";for(let o=0;o<r.length;o++)r[o].addEventListener("click",()=>{(s||Math.floor(o/5)!==e)&&r[o].blur();let t=r[o].value;r[o].value="",r[o].value=t}),r[o].addEventListener("input",()=>{r[o].value.length>=1?(2===r[o].value.length?r[o].value=r[o].value[1].toUpperCase():r[o].value=r[o].value[0].toUpperCase(),r[o].parentNode.classList.add("black"),t[o%5]=r[o].value[0].toLowerCase(),o%5!=4&&r[o+1].focus(),-1===t.indexOf("_")&&(a[Math.floor(o/5)].style.opacity=1,a[Math.floor(o/5)].style.cursor="pointer",a[Math.floor(o/5)].firstElementChild.style.cursor="pointer")):(a[Math.floor(o/5)].style.opacity=0,a[Math.floor(o/5)].style.cursor="default",a[Math.floor(o/5)].firstElementChild.style.cursor="default",r[o].parentNode.classList.contains("black")?(r[o].parentNode.classList.remove("black"),t[o%5]="_"):o%5!=0&&(r[o-1].value="",t[o%5-1]="_",r[o-1].focus(),r[o-1].parentNode.classList.remove("black")))}),r[o].addEventListener("keydown",s=>{if(8!==s.keyCode||0!==r[o].value.length||r[o].parentNode.classList.contains("black")||o%5==0){if(13===s.keyCode&&1==a[Math.floor(o/5)].style.opacity){let s=`${t[0]}${t[1]}${t[2]}${t[3]}${t[4]}`;a[Math.floor(o/5)].style.opacity=0,a[Math.floor(o/5)].style.cursor="default",a[Math.floor(o/5)].firstElementChild.style.cursor="default",0===e&&(l=y.value.toLowerCase(),y.value=y.value.slice(0,5).toUpperCase()),c.postMessage([s,d.checked,l])}}else r[o-1].value="",t[o%5-1]="_",r[o-1].focus(),r[o-1].parentNode.classList.remove("black")});for(let s=0;s<a.length;s++)a[s].style.transition="opacity .125s ease-in-out",n[s].style.transition="opacity .125s ease-in-out",a[s].addEventListener("click",()=>{if(1==a[s].style.opacity&&e===s){let o=`${t[0]}${t[1]}${t[2]}${t[3]}${t[4]}`;a[s].style.opacity=0,a[s].style.cursor="default",a[s].firstElementChild.style.cursor="default",0===e&&(l=y.value.toLowerCase(),y.value=y.value.slice(0,5).toUpperCase()),c.postMessage([o,d.checked,l])}}),n[s].addEventListener("click",()=>{1==n[s].style.opacity&&(n[s].style.opacity=0,n[s].style.cursor="default",n[s].firstElementChild.style.cursor="default",u())});function u(){let t=Page.element.querySelector("#info-panel");if(t.innerHTML="<h2>Top Guesses</h2><br>",5===i.length&&5===p.length){for(let e=0;e<5;e++)t.innerHTML+=`<p>${i[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+='<p style="text-align: center">&#x22ee;</p><br>';for(let e=4;e>0;e--)t.innerHTML+=`<p>${p[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*p[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+=`<p>${p[0][0].toUpperCase()} <span style="float: right">${(Math.round(100*p[0][1])/100).toFixed(2)}</span></p>`}else if(p.length>0){for(let e=0;e<i.length;e++)t.innerHTML+=`<p>${i[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[e][1])/100).toFixed(2)}</span></p><br>`;for(let e=p.length-1;e>0;e--)t.innerHTML+=`<p>${p[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*p[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+=`<p>${p[0][0].toUpperCase()} <span style="float: right">${(Math.round(100*p[0][1])/100).toFixed(2)}</span></p>`}else{for(let e=0;e<i.length-1;e++)t.innerHTML+=`<p>${i[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+=`<p>${i[i.length-1][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[i.length-1][1])/100).toFixed(2)}</span></p>`}let s=Page.element.querySelector("#info-panel-container");s.style.display="flex",setTimeout(()=>{s.style.opacity=1,s.addEventListener("click",()=>{s.style.opacity=0,n[e-1].style.opacity=1,n[e-1].style.cursor="pointer",n[e-1].firstElementChild.style.cursor="pointer",setTimeout(()=>{s.style.display="none"},250)})},10)}async function h(){o&&await new Promise((e,t)=>setTimeout(e,2e3));let e=Page.Layout.new_window_width<=450?"34px":"54px",t=Page.Layout.new_window_width<=450?"30px":"50px";for(let s=0;s<6;s++){for(let e=0;e<5;e++)r[5*s+e].parentNode.style.width=t,r[5*s+e].parentNode.style.height=t;a[s].style.width=e,a[s].style.height=e,n[s].style.width=e,n[s].style.height=e}}Page.show(),window.addEventListener("resize",h),Page.temporary_handlers.resize.push(h)}();