!function(){"use strict";let e=0,t=["_","_","_","_","_"],s=!1,l=!1,o=document.querySelectorAll("#wordle input"),r=document.querySelectorAll("#wordle div:nth-child(7n)"),n=document.querySelectorAll("#wordle div:nth-child(7n + 1)"),a=200,i=[],p=[],d=document.querySelector("#hardmode-checkbox"),c=document.querySelector("#grading-quality-input"),u=null;u=DEBUG?new Worker("/applets/wordle-scorer/scripts/worker.js"):new Worker("/applets/wordle-scorer/scripts/worker.min.js"),Page.temporary_web_workers.push(u),u.onmessage=function(t){let a=t.data[0];if(-1===a)return void setTimeout(()=>{r[e].firstElementChild.innerHTML="&#10005;",r[e].classList.add("reject"),r[e].style.opacity=1,setTimeout(()=>{r[e].style.opacity=0,setTimeout(()=>{r[e].firstElementChild.innerHTML="&#x2794;",r[e].classList.remove("reject")},250)},1750)},250);l=!0,i=t.data[2],p=t.data[3],r[e].classList.add("score"),r[e].firstElementChild.textContent=0,r[e].style.opacity=1,d.style.pointerEvents="none";let c=0,u=setInterval(()=>{c++,r[e-1].firstElementChild.textContent=(Math.round(100*Math.pow(Math.sin(Math.PI/2*c/120),.35)*a)/100).toFixed(2),120===c&&clearInterval(u)},16);try{n[e-1].style.opacity=0,n[e-1].style.cursor="default",n[e-1].firstElementChild.style.cursor="default"}catch(e){}o[5*e].style.pointerEvents="none",o[5*e+1].style.pointerEvents="none",o[5*e+2].style.pointerEvents="none",o[5*e+3].style.pointerEvents="none",o[5*e+4].style.pointerEvents="none",o[5*++e].style.pointerEvents="auto",o[5*e+1].style.pointerEvents="auto",o[5*e+2].style.pointerEvents="auto",o[5*e+3].style.pointerEvents="auto",o[5*e+4].style.pointerEvents="auto",o[5*e].focus();let y=t.data[1];for(let t=0;t<5;t++)0===y[t]?setTimeout(()=>{o[5*(e-1)+t].classList.add("gray"),o[5*(e-1)+t].parentNode.classList.add("gray")},300*t):1===y[t]?setTimeout(()=>{o[5*(e-1)+t].classList.add("yellow"),o[5*(e-1)+t].parentNode.classList.add("yellow")},300*t):setTimeout(()=>{o[5*(e-1)+t].classList.add("green"),o[5*(e-1)+t].parentNode.classList.add("green")},300*t);y[0]+y[1]+y[2]+y[3]+y[4]===10?s=!0:setTimeout(()=>{n[e-1].style.opacity=1,n[e-1].style.cursor="pointer",n[e-1].firstElementChild.style.cursor="pointer"},1800),setTimeout(()=>{l=!1},2e3)},o[0].style.pointerEvents="auto",o[1].style.pointerEvents="auto",o[2].style.pointerEvents="auto",o[3].style.pointerEvents="auto",o[4].style.pointerEvents="auto";for(let l=0;l<o.length;l++)o[l].addEventListener("click",()=>{(s||Math.floor(l/5)!==e)&&o[l].blur();let t=o[l].value;o[l].value="",o[l].value=t}),o[l].addEventListener("input",()=>{o[l].value.length>=1?(2===o[l].value.length?o[l].value=o[l].value[1].toUpperCase():o[l].value=o[l].value[0].toUpperCase(),o[l].parentNode.classList.add("black"),t[l%5]=o[l].value[0].toLowerCase(),l%5!=4&&o[l+1].focus(),-1===t.indexOf("_")&&(r[Math.floor(l/5)].style.opacity=1,r[Math.floor(l/5)].style.cursor="pointer",r[Math.floor(l/5)].firstElementChild.style.cursor="pointer")):(r[Math.floor(l/5)].style.opacity=0,r[Math.floor(l/5)].style.cursor="default",r[Math.floor(l/5)].firstElementChild.style.cursor="default",o[l].parentNode.classList.contains("black")?(o[l].parentNode.classList.remove("black"),t[l%5]="_"):l%5!=0&&(o[l-1].value="",t[l%5-1]="_",o[l-1].focus(),o[l-1].parentNode.classList.remove("black")))}),o[l].addEventListener("keydown",e=>{if(8!==e.keyCode||0!==o[l].value.length||o[l].parentNode.classList.contains("black")||l%5==0){if(13===e.keyCode&&1==r[Math.floor(l/5)].style.opacity){let e=`${t[0]}${t[1]}${t[2]}${t[3]}${t[4]}`;r[Math.floor(l/5)].style.opacity=0,r[Math.floor(l/5)].style.cursor="default",r[Math.floor(l/5)].firstElementChild.style.cursor="default",a=Math.ceil(2315*parseInt(c.value||10)/100),u.postMessage([e,a,d.checked])}}else o[l-1].value="",t[l%5-1]="_",o[l-1].focus(),o[l-1].parentNode.classList.remove("black")});for(let s=0;s<r.length;s++)r[s].style.transition="opacity .125s ease-in-out",n[s].style.transition="opacity .125s ease-in-out",r[s].addEventListener("click",()=>{if(1==r[s].style.opacity&&e===s){let e=`${t[0]}${t[1]}${t[2]}${t[3]}${t[4]}`;r[s].style.opacity=0,r[s].style.cursor="default",r[s].firstElementChild.style.cursor="default",a=Math.ceil(2315*parseInt(c.value||10)/100),u.postMessage([e,a,d.checked])}}),n[s].addEventListener("click",()=>{1==n[s].style.opacity&&(n[s].style.opacity=0,n[s].style.cursor="default",n[s].firstElementChild.style.cursor="default",y())});function y(){let t=document.querySelector("#info-panel");if(t.innerHTML="<h2>Top Guesses</h2><br>",5===i.length&&5===p.length){for(let e=0;e<5;e++)t.innerHTML+=`<p>${i[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+='<p style="text-align: center">&#x22ee;</p><br>';for(let e=4;e>0;e--)t.innerHTML+=`<p>${p[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*p[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+=`<p>${p[0][0].toUpperCase()} <span style="float: right">${(Math.round(100*p[0][1])/100).toFixed(2)}</span></p>`}else if(p.length>0){for(let e=0;e<i.length;e++)t.innerHTML+=`<p>${i[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[e][1])/100).toFixed(2)}</span></p><br>`;for(let e=p.length-1;e>0;e--)t.innerHTML+=`<p>${p[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*p[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+=`<p>${p[0][0].toUpperCase()} <span style="float: right">${(Math.round(100*p[0][1])/100).toFixed(2)}</span></p>`}else{for(let e=0;e<i.length-1;e++)t.innerHTML+=`<p>${i[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+=`<p>${i[i.length-1][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[i.length-1][1])/100).toFixed(2)}</span></p>`}let s=document.querySelector("#info-panel-container");s.style.display="flex",setTimeout(()=>{s.style.opacity=1,s.addEventListener("click",()=>{s.style.opacity=0,n[e-1].style.opacity=1,n[e-1].style.cursor="pointer",n[e-1].firstElementChild.style.cursor="pointer",setTimeout(()=>{s.style.display="none"},250)})},10)}async function h(){l&&await new Promise((e,t)=>setTimeout(e,2e3));let e=Page.Layout.new_window_width<=450?"34px":"54px",t=Page.Layout.new_window_width<=450?"30px":"50px";for(let s=0;s<6;s++){for(let e=0;e<5;e++)o[5*s+e].parentNode.style.width=t,o[5*s+e].parentNode.style.height=t;r[s].style.width=e,r[s].style.height=e,n[s].style.width=e,n[s].style.height=e}}window.addEventListener("resize",h),Page.temporary_handlers.resize.push(h)}();