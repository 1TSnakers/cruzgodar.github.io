!function(){"use strict";let e=0,t=["_","_","_","_","_"],s=!1,o=!1,l=document.querySelectorAll("#wordle input"),r=document.querySelectorAll("#wordle div:nth-child(7n)"),n=document.querySelectorAll("#wordle div:nth-child(7n + 1)"),a=[],i=[],p=document.querySelector("#hardmode-checkbox"),d=null;d=DEBUG?new Worker("/applets/wordle-scorer/scripts/worker.js"):new Worker("/applets/wordle-scorer/scripts/worker.min.js"),Page.temporary_web_workers.push(d),d.onmessage=function(t){let d=t.data[0];if(-1===d)return void setTimeout(()=>{r[e].firstElementChild.innerHTML="&#10005;",r[e].classList.add("reject"),r[e].style.opacity=1,setTimeout(()=>{r[e].style.opacity=0,setTimeout(()=>{r[e].firstElementChild.innerHTML="&#x2794;",r[e].classList.remove("reject")},250)},1750)},250);o=!0,a=t.data[2],i=t.data[3],r[e].classList.add("score"),r[e].firstElementChild.textContent=0,r[e].style.opacity=1,p.style.pointerEvents="none";let c=0,y=setInterval(()=>{c++,r[e-1].firstElementChild.textContent=(Math.round(100*Math.pow(Math.sin(Math.PI/2*c/120),.35)*d)/100).toFixed(2),120===c&&clearInterval(y)},16);try{n[e-1].style.opacity=0,n[e-1].style.cursor="default",n[e-1].firstElementChild.style.cursor="default"}catch(e){}l[5*e].style.pointerEvents="none",l[5*e+1].style.pointerEvents="none",l[5*e+2].style.pointerEvents="none",l[5*e+3].style.pointerEvents="none",l[5*e+4].style.pointerEvents="none",l[5*++e].style.pointerEvents="auto",l[5*e+1].style.pointerEvents="auto",l[5*e+2].style.pointerEvents="auto",l[5*e+3].style.pointerEvents="auto",l[5*e+4].style.pointerEvents="auto",l[5*e].focus();let u=t.data[1];for(let t=0;t<5;t++)0===u[t]?setTimeout(()=>{l[5*(e-1)+t].classList.add("gray"),l[5*(e-1)+t].parentNode.classList.add("gray")},300*t):1===u[t]?setTimeout(()=>{l[5*(e-1)+t].classList.add("yellow"),l[5*(e-1)+t].parentNode.classList.add("yellow")},300*t):setTimeout(()=>{l[5*(e-1)+t].classList.add("green"),l[5*(e-1)+t].parentNode.classList.add("green")},300*t);u[0]+u[1]+u[2]+u[3]+u[4]===10?s=!0:setTimeout(()=>{n[e-1].style.opacity=1,n[e-1].style.cursor="pointer",n[e-1].firstElementChild.style.cursor="pointer"},1800),setTimeout(()=>{o=!1},2e3)},l[0].style.pointerEvents="auto",l[1].style.pointerEvents="auto",l[2].style.pointerEvents="auto",l[3].style.pointerEvents="auto",l[4].style.pointerEvents="auto";for(let o=0;o<l.length;o++)l[o].addEventListener("click",()=>{(s||Math.floor(o/5)!==e)&&l[o].blur();let t=l[o].value;l[o].value="",l[o].value=t}),l[o].addEventListener("input",()=>{l[o].value.length>=1?(2===l[o].value.length?l[o].value=l[o].value[1].toUpperCase():l[o].value=l[o].value[0].toUpperCase(),l[o].parentNode.classList.add("black"),t[o%5]=l[o].value[0].toLowerCase(),o%5!=4&&l[o+1].focus(),-1===t.indexOf("_")&&(r[Math.floor(o/5)].style.opacity=1,r[Math.floor(o/5)].style.cursor="pointer",r[Math.floor(o/5)].firstElementChild.style.cursor="pointer")):(r[Math.floor(o/5)].style.opacity=0,r[Math.floor(o/5)].style.cursor="default",r[Math.floor(o/5)].firstElementChild.style.cursor="default",l[o].parentNode.classList.contains("black")?(l[o].parentNode.classList.remove("black"),t[o%5]="_"):o%5!=0&&(l[o-1].value="",t[o%5-1]="_",l[o-1].focus(),l[o-1].parentNode.classList.remove("black")))}),l[o].addEventListener("keydown",e=>{if(8!==e.keyCode||0!==l[o].value.length||l[o].parentNode.classList.contains("black")||o%5==0){if(13===e.keyCode&&1==r[Math.floor(o/5)].style.opacity){let e=`${t[0]}${t[1]}${t[2]}${t[3]}${t[4]}`;r[Math.floor(o/5)].style.opacity=0,r[Math.floor(o/5)].style.cursor="default",r[Math.floor(o/5)].firstElementChild.style.cursor="default",d.postMessage([e,p.checked])}}else l[o-1].value="",t[o%5-1]="_",l[o-1].focus(),l[o-1].parentNode.classList.remove("black")});for(let s=0;s<r.length;s++)r[s].style.transition="opacity .125s ease-in-out",n[s].style.transition="opacity .125s ease-in-out",r[s].addEventListener("click",()=>{if(1==r[s].style.opacity&&e===s){let e=`${t[0]}${t[1]}${t[2]}${t[3]}${t[4]}`;r[s].style.opacity=0,r[s].style.cursor="default",r[s].firstElementChild.style.cursor="default",d.postMessage([e,p.checked])}}),n[s].addEventListener("click",()=>{1==n[s].style.opacity&&(n[s].style.opacity=0,n[s].style.cursor="default",n[s].firstElementChild.style.cursor="default",c())});function c(){let t=document.querySelector("#info-panel");if(t.innerHTML="<h2>Top Guesses</h2><br>",5===a.length&&5===i.length){for(let e=0;e<5;e++)t.innerHTML+=`<p>${a[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*a[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+='<p style="text-align: center">&#x22ee;</p><br>';for(let e=4;e>0;e--)t.innerHTML+=`<p>${i[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+=`<p>${i[0][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[0][1])/100).toFixed(2)}</span></p>`}else if(i.length>0){for(let e=0;e<a.length;e++)t.innerHTML+=`<p>${a[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*a[e][1])/100).toFixed(2)}</span></p><br>`;for(let e=i.length-1;e>0;e--)t.innerHTML+=`<p>${i[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+=`<p>${i[0][0].toUpperCase()} <span style="float: right">${(Math.round(100*i[0][1])/100).toFixed(2)}</span></p>`}else{for(let e=0;e<a.length-1;e++)t.innerHTML+=`<p>${a[e][0].toUpperCase()} <span style="float: right">${(Math.round(100*a[e][1])/100).toFixed(2)}</span></p><br>`;t.innerHTML+=`<p>${a[a.length-1][0].toUpperCase()} <span style="float: right">${(Math.round(100*a[a.length-1][1])/100).toFixed(2)}</span></p>`}let s=document.querySelector("#info-panel-container");s.style.display="flex",setTimeout(()=>{s.style.opacity=1,s.addEventListener("click",()=>{s.style.opacity=0,n[e-1].style.opacity=1,n[e-1].style.cursor="pointer",n[e-1].firstElementChild.style.cursor="pointer",setTimeout(()=>{s.style.display="none"},250)})},10)}async function y(){o&&await new Promise((e,t)=>setTimeout(e,2e3));let e=Page.Layout.new_window_width<=450?"34px":"54px",t=Page.Layout.new_window_width<=450?"30px":"50px";for(let s=0;s<6;s++){for(let e=0;e<5;e++)l[5*s+e].parentNode.style.width=t,l[5*s+e].parentNode.style.height=t;r[s].style.width=e,r[s].style.height=e,n[s].style.width=e,n[s].style.height=e}}window.addEventListener("resize",y),Page.temporary_handlers.resize.push(y)}();