import{Applet}from"/scripts/src/applets.min.mjs";import{addTemporaryWorker}from"/scripts/src/main.min.mjs";import{Wilson}from"/scripts/wilson.min.mjs";class BarnsleyFern extends Applet{numIterations=1e7;resolution=1e3;webWorker=null;constructor(e){super(e);var s={renderer:"hybrid",canvasWidth:this.resolution,canvasHeight:this.resolution,useFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png"};this.wilson=new Wilson(e,s)}run(e){this.numIterations=e,this.resolution=Math.floor(Math.sqrt(this.numIterations/10)),this.wilson.changeCanvasSize(this.resolution,this.resolution),this.webWorker=addTemporaryWorker("/applets/barnsley-fern/scripts/worker.js"),this.webWorker.onmessage=e=>this.wilson.render.drawFrame(e.data[0]),this.webWorker.postMessage([this.resolution,this.numIterations])}}export{BarnsleyFern};