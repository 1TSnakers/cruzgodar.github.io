class BarnsleyFern extends Applet{numIterations=1E7;resolution=1E3;webWorker=null;constructor(a){super(a);this.wilson=new Wilson(a,{renderer:"hybrid",canvasWidth:this.resolution,canvasHeight:this.resolution,useFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png"})}run(a){this.numIterations=a;this.resolution=Math.floor(Math.sqrt(this.numIterations/10));this.wilson.changeCanvasSize(this.resolution,
this.resolution);try{webWorker.terminate()}catch(b){}this.webWorker=new Worker(`/applets/barnsley-fern/scripts/worker.${DEBUG?"":"min."}js`);this.workers.push(this.webWorker);this.webWorker.onmessage=b=>this.wilson.render.drawFrame(b.data[0]);this.webWorker.postMessage([this.resolution,this.numIterations])}};
