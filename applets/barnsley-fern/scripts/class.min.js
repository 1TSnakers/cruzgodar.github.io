"use strict";class BarnsleyFern extends Applet{num_iterations=1e7;resolution=1e3;web_worker=null;constructor(e){super(e);let s={renderer:"hybrid",canvas_width:this.resolution,canvas_height:this.resolution,use_fullscreen:!0,use_fullscreen_button:!0,enter_fullscreen_button_icon_path:"/graphics/general-icons/enter-fullscreen.png",exit_fullscreen_button_icon_path:"/graphics/general-icons/exit-fullscreen.png"};this.wilson=new Wilson(e,s)}run(e){this.num_iterations=e,this.resolution=Math.floor(Math.sqrt(this.num_iterations/10)),this.wilson.change_canvas_size(this.resolution,this.resolution);try{web_worker.terminate()}catch(s){}this.web_worker=new Worker(`/applets/barnsley-fern/scripts/worker.${DEBUG?"":"min."}js`),this.workers.push(this.web_worker),this.web_worker.onmessage=e=>this.wilson.render.draw_frame(e.data[0]),this.web_worker.postMessage([this.resolution,this.num_iterations])}}