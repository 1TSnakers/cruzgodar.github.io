import{ThurstonGeometry}from"../class.min.mjs";class BaseGeometry{geodesicGlsl="vec4 pos = startPos + t * rayDirectionVec;";fogGlsl="return mix(color, fogColor, 1.0 - exp(-length(pos - cameraPos) * fogScaling));";updateTGlsl="t += distance * stepFactor;";dotProduct(vec1,vec2){return vec1[0]*vec2[0]+vec1[1]*vec2[1]+vec1[2]*vec2[2]+vec1[3]*vec2[3]}normalize(vec){var e=Math.sqrt(this.dotProduct(vec,vec));return[vec[0]/e,vec[1]/e,vec[2]/e,vec[3]/e]}updateCameraPos(cameraPos,tangentVec,dt){var e=[...cameraPos];for(let r=0;r<4;r++)e[r]=e[r]+dt*tangentVec[r];return e}teleportCamera(){}getGeodesicDirection(pos1,pos2){var e=[pos2[0]-pos1[0],pos2[1]-pos1[1],pos2[2]-pos1[2],pos2[3]-pos1[3]],r=this.getNormalVec(pos1),t=ThurstonGeometry.dotProduct(e,r);return e[0]-=t*r[0],e[1]-=t*r[1],e[2]-=t*r[2],e[3]-=t*r[3],this.normalize(e)}getGeodesicDistance(pos1,pos2){var e=[pos2[0]-pos1[0],pos2[1]-pos1[1],pos2[2]-pos1[2],pos2[3]-pos1[3]];return Math.sqrt(this.dotProduct(e,e))}getNormalVec(){return[0,0,0,1]}getGammaPrime(_pos,dir){return[...dir]}getGammaDoublePrime(){return[0,0,0,0]}getGammaTriplePrime(){return[0,0,0,0]}gammaTriplePrimeIsLinearlyIndependent=!1;getMovingSpeed(){return 3}distanceEstimatorGlsl;getColorGlsl;lightGlsl;functionGlsl;raymarchSetupGlsl;cameraPos;normalVec;upVec;rightVec;forwardVec;uniformGlsl;uniformNames;uniformData={};updateUniforms(){}initUI(){}uiElementsUsed=""}function getMinGlslString(varName,numVars,functionName="min"){var e=Math.ceil(Math.log2(numVars));let r=new Array(numVars);for(let o=0;o<numVars;o++)r[o]=""+varName+(o+1);for(let a=0;a<e;a++){var t=new Array(Math.ceil(r.length/2));for(let e=0;e<r.length;e+=2)t[e/2]=`${functionName}(${r[e]}, ${r[e+1]})`;r.length%2==1&&(t[t.length-1]=r[r.length-1]),r=t}return r[0]}function getMaxGlslString(varName,numVars){return getMinGlslString(varName,numVars,"max")}function getColorGlslString(varName,minVarName,colors){let e="";for(let r=0;r<colors.length;r++)e+=`if (${minVarName} == ${varName}${r+1}) { return vec3(${colors[r][0]/255}, ${colors[r][1]/255}, ${colors[r][2]/255}); }
		`;return e}export{BaseGeometry,getMinGlslString,getMaxGlslString,getColorGlslString};