import{ThurstonGeometry}from"./class.min.mjs";import{E3Rooms,E3Spheres}from"./geometries/e3.min.mjs";import{H2xERooms}from"./geometries/h2xe.min.mjs";import{H3Rooms}from"./geometries/h3.min.mjs";import{S2xERooms,S2xESpheres}from"./geometries/s2xe.min.mjs";import{S3HopfFibration,S3Rooms,S3Spheres}from"./geometries/s3.min.mjs";import{showPage}from"/scripts/src/load-page.min.mjs";import{$,$$}from"/scripts/src/main.min.mjs";const sliderValues={wallThickness:0,fiberThickness:0,gluingAngle:0};function load(){const n=new ThurstonGeometry({canvas:$("#output-canvas")}),r={"e3-rooms":E3Rooms,"e3-spheres":E3Spheres,"s3-rooms":S3Rooms,"s3-spheres":S3Spheres,"s3-hopf-fibration":S3HopfFibration,"h3-rooms":H3Rooms,"s2xe-rooms":S2xERooms,"s2xe-spheres":S2xESpheres,"h2xe-rooms":H2xERooms},t=$("#scene-selector-dropdown");function e(){var e=new("none"===t.value?E3Rooms:r[t.value]),s=Array.from(e.uiElementsUsed?$$(e.uiElementsUsed):[]).map(element=>element.parentNode),o=Array.from(e.uiElementsUsed?$$(`.slider-container > input:not(#fov-slider, ${e.uiElementsUsed})`):$$(".slider-container > input:not(#fov-slider)")).map(element=>element.parentNode);s.forEach(element=>element.style.display="flex"),o.forEach(element=>element.style.display="none"),n.run(e),e.initUI()}const s={wallThickness:[$("#wall-thickness-slider"),$("#wall-thickness-slider-value")],fiberThickness:[$("#fiber-thickness-slider"),$("#fiber-thickness-slider-value")],gluingAngle:[$("#gluing-angle-slider"),$("#gluing-angle-slider-value")]},o=$("#resolution-input");n.setInputCaps([o],[1e3]),o.addEventListener("input",()=>{var e=parseInt(o.value||500);n.changeResolution(e)});for(const m in s)sliderValues[m]=parseFloat(s[m][1].textContent),s[m][0].addEventListener("input",()=>{sliderValues[m]=parseFloat(s[m][1].textContent)});var i=$("#fov-slider");const l=$("#fov-slider-value");i.addEventListener("input",()=>{n.fov=parseFloat(l.textContent),n.wilson.gl.uniform1f(n.wilson.uniforms.fov,n.fov)}),t.addEventListener("input",e),e(),$("#download-button").addEventListener("click",()=>{n.wilson.downloadFrame("a-thurston-geometry.png")}),showPage()}export{sliderValues,load};