import{ThurstonGeometry}from"./class.min.mjs";import{E3Rooms,E3Spheres}from"./geometries/e3.min.mjs";import{H3Rooms}from"./geometries/h3.min.mjs";import{S3HopfFibration,S3Rooms,S3Spheres}from"./geometries/s3.min.mjs";import{showPage}from"/scripts/src/load-page.min.mjs";import{$,$$}from"/scripts/src/main.min.mjs";function load(){const s=new ThurstonGeometry({canvas:$("#output-canvas")}),n={"e3-rooms":E3Rooms,"e3-spheres":E3Spheres,"s3-rooms":S3Rooms,"s3-spheres":S3Spheres,"s3-hopf-fibration":S3HopfFibration,"h3-rooms":H3Rooms},r=$("#scene-selector-dropdown");function e(){var e,o,t;"none"!==r.value&&(e=new n[r.value],o=Array.from(e.uiElementsUsed?$$(e.uiElementsUsed):[]).map(element=>element.parentNode),t=Array.from(e.uiElementsUsed?$$(`.slider-container > input:not(#fov-slider, ${e.uiElementsUsed})`):$$(".slider-container > input:not(#fov-slider)")).map(element=>element.parentNode),o.forEach(element=>element.style.display="flex"),t.forEach(element=>element.style.display="none"),s.run(e),e.initUI())}const o=$("#resolution-input"),t=$("#fov-slider"),i=$("#fov-slider-value");i.textContent=1.15,s.setInputCaps([o],[1e3]),o.addEventListener("input",()=>{var e=parseInt(o.value||500);s.changeResolution(e)}),t.addEventListener("input",()=>{var e=parseInt(t.value)/1e4*1.5+.5;i.textContent=(Math.round(100*e)/100).toFixed(2),s.fov=e,s.wilson.gl.uniform1f(s.wilson.uniforms.fov,e)}),r.addEventListener("input",e),e(),$("#download-button").addEventListener("click",()=>{s.wilson.downloadFrame("a-thurston-geometry.png")}),showPage()}export{load};