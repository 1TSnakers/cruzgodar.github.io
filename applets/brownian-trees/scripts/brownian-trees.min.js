!function(){"use strict";let e=document.querySelector("#output-canvas").getContext("2d",{alpha:!1}),t=null;function r(){let r=parseInt(document.querySelector("#grid-size-input").value||1e3);document.querySelector("#output-canvas").setAttribute("width",r),document.querySelector("#output-canvas").setAttribute("height",r),e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,r,r),document.querySelector("#progress-bar span").insertAdjacentHTML("afterend","<span></span>"),document.querySelector("#progress-bar span").remove();try{t.terminate()}catch(e){}t=DEBUG?new Worker("/applets/brownian-trees/scripts/worker.js"):new Worker("/applets/brownian-trees/scripts/worker.min.js"),Page.temporary_web_workers.push(t),t.onmessage=function(t){"progress"===t.data[0]?(document.querySelector("#progress-bar span").style.width=t.data[1]+"%",100===t.data[1]&&setTimeout(function(){document.querySelector("#progress-bar").style.opacity=0,setTimeout(function(){document.querySelector("#progress-bar").style.marginTop=0,document.querySelector("#progress-bar").style.marginBottom=0},300)},600)):"done"===t.data[0]?(document.querySelector("#progress-bar").style.opacity=0,setTimeout(function(){document.querySelector("#progress-bar").style.marginTop=0,document.querySelector("#progress-bar").style.marginBottom=0},300)):(e.fillStyle=t.data[2],e.fillRect(t.data[0],t.data[1],1,1))},document.querySelector("#progress-bar span").style.width=0,document.querySelector("#progress-bar").style.marginTop="5vh",document.querySelector("#progress-bar").style.marginBottom="5vh",setTimeout(function(){document.querySelector("#progress-bar").style.opacity=1},600),t.postMessage([r])}document.querySelector("#generate-button").addEventListener("click",r),document.querySelector("#grid-size-input").addEventListener("keydown",function(e){13===e.keyCode&&r()}),document.querySelector("#download-button").addEventListener("click",function(){let e=document.createElement("a");e.download="brownian-tree.png",e.href=document.querySelector("#output-canvas").toDataURL(),e.click(),e.remove()}),"Chrome"!==Browser.name&&"Opera"!==Browser.name||function(){let e=document.querySelector("main").children;(e=e[e.length-1].children)[e.length-1].insertAdjacentHTML("afterend",'\n\t\t\t<div data-aos="fade-up" style="margin-top: 10vh">\n\t\t\t\t<p class="body-text">\n\t\t\t\t\tYour browser treats canvases in a way that may make this applet stutter excessively. If this happens, try temporarily turning off hardware acceleration in the browser&#x2019;s settings.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t'),Page.Load.AOS.on_resize()}(),Page.Applets.Canvases.to_resize=[document.querySelector("#output-canvas")],Page.Applets.Canvases.true_fullscreen=!1,Page.Applets.Canvases.set_up_resizer()}();