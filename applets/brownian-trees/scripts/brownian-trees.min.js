!function(){"use strict";let e=new Wilson(document.querySelector("#output-canvas"),{renderer:"cpu",canvas_width:1e3,canvas_height:1e3,use_fullscreen:!0,use_fullscreen_button:!0,enter_fullscreen_button_icon_path:"/graphics/general-icons/enter-fullscreen.png",exit_fullscreen_button_icon_path:"/graphics/general-icons/exit-fullscreen.png"}),t=null;document.querySelector("#generate-button").addEventListener("click",o);let n=document.querySelector("#grid-size-input");n.addEventListener("keydown",e=>{13===e.keyCode&&o()}),document.querySelector("#download-button").addEventListener("click",()=>{e.download_frame("a-brownian-tree.png")});let a=document.querySelector("#progress-bar"),r=document.querySelector("#progress-bar span");function o(){let o=parseInt(n.value||1e3);e.change_canvas_size(o,o),e.ctx.fillStyle="rgb(0, 0, 0)",e.ctx.fillRect(0,0,o,o),r.insertAdjacentHTML("afterend","<span></span>"),r.remove(),r=document.querySelector("#progress-bar span");try{t.terminate()}catch(e){}t=DEBUG?new Worker("/applets/brownian-trees/scripts/worker.js"):new Worker("/applets/brownian-trees/scripts/worker.min.js"),Page.temporary_web_workers.push(t),t.onmessage=function(t){0===t.data[0]?(r.style.width=t.data[1]+"%",100===t.data[1]&&setTimeout(()=>{a.style.opacity=0,setTimeout(()=>{a.style.marginTop=0,a.style.marginBottom=0},Site.opacity_animation_time)},2*Site.opacity_animation_time)):1===t.data[0]?(a.style.opacity=0,setTimeout(()=>{a.style.marginTop=0,a.style.marginBottom=0},Site.opacity_animation_time)):(e.ctx.fillStyle=t.data[3],e.ctx.fillRect(t.data[1],t.data[2],1,1))},r.style.width=0,a.style.marginTop="10vh",a.style.marginBottom="-5vh",setTimeout(()=>{a.style.opacity=1},2*Site.opacity_animation_time),t.postMessage([o])}"Chrome"!==Browser.name&&"Opera"!==Browser.name||function(){let e=document.querySelector("main").children;(e=e[e.length-1].children)[e.length-1].insertAdjacentHTML("afterend",'\n\t\t\t<div data-aos="fade-up" style="margin-top: 10vh">\n\t\t\t\t<p class="body-text">\n\t\t\t\t\tYour browser treats canvases in a way that may make this applet stutter excessively. If this happens, try temporarily turning off hardware acceleration in the browser&#x2019;s settings.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t'),Page.Load.AOS.on_resize()}()}();