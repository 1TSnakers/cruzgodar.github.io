!function(){"use strict";let e=document.querySelector("#brownian-tree-graph").getContext("2d"),r=null;function t(){let t=parseInt(document.querySelector("#grid-size-input").value||1e3);document.querySelector("#brownian-tree-graph").setAttribute("width",t),document.querySelector("#brownian-tree-graph").setAttribute("height",t),e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,t,t),document.querySelector("#progress-bar span").insertAdjacentHTML("afterend","<span></span>"),document.querySelector("#progress-bar span").remove();try{r.terminate()}catch(e){}r=DEBUG?new Worker("/applets/brownian-trees/scripts/worker.js"):new Worker("/applets/brownian-trees/scripts/worker.min.js"),temporary_web_workers.push(r),r.onmessage=function(r){"progress"===r.data[0]?(document.querySelector("#progress-bar span").style.width=r.data[1]+"%",100===r.data[1]&&setTimeout(function(){document.querySelector("#progress-bar").style.opacity=0,setTimeout(function(){document.querySelector("#progress-bar").style.marginTop=0,document.querySelector("#progress-bar").style.marginBottom=0},300)},600)):"done"===r.data[0]?(document.querySelector("#progress-bar").style.opacity=0,setTimeout(function(){document.querySelector("#progress-bar").style.marginTop=0,document.querySelector("#progress-bar").style.marginBottom=0},300)):(e.fillStyle=r.data[2],e.fillRect(r.data[0],r.data[1],1,1))},document.querySelector("#progress-bar span").style.width=0,document.querySelector("#progress-bar").style.marginTop="5vh",document.querySelector("#progress-bar").style.marginBottom="5vh",setTimeout(function(){document.querySelector("#progress-bar").style.opacity=1},600),r.postMessage([t])}1===url_vars.contrast&&(1===url_vars.theme?document.querySelector("#brownian-tree-graph").style.borderColor="rgb(192, 192, 192)":document.querySelector("#brownian-tree-graph").style.borderColor="rgb(64, 64, 64)"),document.querySelector("#generate-button").addEventListener("click",t),document.querySelector("#grid-size-input").addEventListener("keydown",function(e){13===e.keyCode&&t()}),document.querySelector("#download-button").addEventListener("click",function(){let e=document.createElement("a");e.download="brownian-tree.png",e.href=document.querySelector("#brownian-tree-graph").toDataURL(),e.click(),e.remove()})}();