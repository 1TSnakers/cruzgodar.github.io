import{showPage}from"../../../scripts/src/loadPage.min.js";import{Mandelbulb}from"./class.min.js";import{Button,ToggleButton}from"/scripts/src/buttons.min.js";import{$}from"/scripts/src/main.min.js";function load(){var t=$("#rotation-angle-x-slider");const e=$("#rotation-angle-x-slider-value");var o=$("#rotation-angle-y-slider");const a=$("#rotation-angle-y-slider-value");var n=$("#rotation-angle-z-slider");const l=$("#rotation-angle-z-slider-value");var r=$("#c-x-slider");const i=$("#c-x-slider-value");var s=$("#c-y-slider");const u=$("#c-y-slider-value");var c=$("#c-z-slider");const m=$("#c-z-slider-value"),d=new Mandelbulb({canvas:$("#output-canvas")}),p=(new ToggleButton({element:$("#switch-bulb-button"),name0:"Switch to Juliabulb",name1:"Return to Mandelbulb",onClick0:()=>d.switchBulb(),onClick1:()=>d.switchBulb()}),new Button({element:$("#download-button"),name:"Download",onClick:()=>{d.wilson.gl.uniform1i(d.wilson.uniforms.maxMarches,1024),d.wilson.gl.uniform1f(d.wilson.uniforms.stepFactor,12),d.juliaProportion<.5?d.wilson.downloadFrame("the-mandelbulb.png"):d.wilson.downloadFrame("a-juliabulb.png"),d.wilson.gl.uniform1i(d.wilson.uniforms.maxMarches,d.maxMarches),d.wilson.gl.uniform1f(d.wilson.uniforms.stepFactor,1)}}),$("#resolution-input"));d.setInputCaps([p],[750]),p.addEventListener("input",()=>{var t=parseInt(p.value||500);d.changeResolution(t)});var w=$("#iterations-slider");const g=$("#iterations-slider-value");var f=$("#power-slider");const v=$("#power-slider-value");function x(){var t=parseFloat(i.textContent),o=parseFloat(u.textContent),n=parseFloat(m.textContent);d.c=[t,o,n],d.wilson.gl.uniform3fv(d.wilson.uniforms.c,d.c),d.rotationAngleX=parseFloat(e.textContent),d.rotationAngleY=parseFloat(a.textContent),d.rotationAngleZ=parseFloat(l.textContent),d.power=parseFloat(v.textContent),d.wilson.gl.uniform1f(d.wilson.uniforms.power,d.power),d.maxIterations=parseInt(g.textContent),d.wilson.gl.uniform1i(d.wilson.uniforms.maxIterations,d.maxIterations),d.updateRotationMatrix()}[t,o,n,r,s,c,f,w].forEach(element=>element.addEventListener("input",x)),showPage()}export{load};