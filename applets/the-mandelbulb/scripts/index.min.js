import{showPage}from"../../../scripts/src/loadPage.min.js";import{Mandelbulb}from"./class.min.js";import{Button,ToggleButton}from"/scripts/src/buttons.min.js";import{$}from"/scripts/src/main.min.js";import{TextBox}from"/scripts/src/textBoxes.min.js";function load(){var o=$("#rotation-angle-x-slider");const e=$("#rotation-angle-x-slider-value");var t=$("#rotation-angle-y-slider");const a=$("#rotation-angle-y-slider-value");var n=$("#rotation-angle-z-slider");const l=$("#rotation-angle-z-slider-value");var r=$("#c-x-slider");const i=$("#c-x-slider-value");var s=$("#c-y-slider");const u=$("#c-y-slider-value");var c=$("#c-z-slider");const m=$("#c-z-slider-value"),w=new Mandelbulb({canvas:$("#output-canvas")}),d=(new ToggleButton({element:$("#switch-bulb-button"),name0:"Switch to Juliabulb",name1:"Return to Mandelbulb",onClick0:()=>w.switchBulb(),onClick1:()=>w.switchBulb()}),new Button({element:$("#download-button"),name:"Download",onClick:()=>{w.wilson.gl.uniform1i(w.wilson.uniforms.maxMarches,1024),w.wilson.gl.uniform1f(w.wilson.uniforms.stepFactor,12),w.juliaProportion<.5?w.wilson.downloadFrame("the-mandelbulb.png"):w.wilson.downloadFrame("a-juliabulb.png"),w.wilson.gl.uniform1i(w.wilson.uniforms.maxMarches,w.maxMarches),w.wilson.gl.uniform1f(w.wilson.uniforms.stepFactor,1)}}),new TextBox({element:$("#resolution-input"),name:"Resolution",value:500,maxValue:750,onInput:function(){w.changeResolution(d.value)}}));var p=$("#iterations-slider");const f=$("#iterations-slider-value");var x=$("#power-slider");const g=$("#power-slider-value");function v(){var o=parseFloat(i.textContent),t=parseFloat(u.textContent),n=parseFloat(m.textContent);w.c=[o,t,n],w.wilson.gl.uniform3fv(w.wilson.uniforms.c,w.c),w.rotationAngleX=parseFloat(e.textContent),w.rotationAngleY=parseFloat(a.textContent),w.rotationAngleZ=parseFloat(l.textContent),w.power=parseFloat(g.textContent),w.wilson.gl.uniform1f(w.wilson.uniforms.power,w.power),w.maxIterations=parseInt(f.textContent),w.wilson.gl.uniform1i(w.wilson.uniforms.maxIterations,w.maxIterations),w.updateRotationMatrix()}[o,t,n,r,s,c,x,p].forEach(element=>element.addEventListener("input",v)),showPage()}export{load};