"use strict";onmessage=async t=>{root=t.data[0],branchPoints=t.data[1],await drawAnimatedBinaryTree(),postMessage(["done"])};let root=[],branchPoints=[];const numAnimatedIterations=10;async function drawAnimatedBinaryTree(){let o=[Math.atan2(branchPoints[0][0]-root[0],branchPoints[0][1]-root[1]),Math.atan2(branchPoints[1][0]-root[0],branchPoints[1][1]-root[1])];var a=(o[0]-o[1])/2,n=[Math.sqrt((branchPoints[0][0]-root[0])*(branchPoints[0][0]-root[0])+(branchPoints[0][1]-root[1])*(branchPoints[0][1]-root[1])),Math.sqrt((branchPoints[1][0]-root[0])*(branchPoints[1][0]-root[0])+(branchPoints[1][1]-root[1])*(branchPoints[1][1]-root[1]))];let r=[root],s=1;for(let t=0;t<numAnimatedIterations;t++){var h=[],e=[],i=20*s+1,c=`rgb(${139*Math.sqrt(s)}, ${69*Math.sqrt(s)+128*(1-Math.sqrt(s))}, ${19*Math.sqrt(s)})`;for(let a=0;a<=100;a++){for(let t=0;t<r.length;t++){var M=r[t][1],b=r[t][0],P=(1-a/100)*M+a/100*(r[t][1]+n[0]*s*Math.cos(o[2*t])),u=(1-a/100)*b+a/100*(r[t][0]+n[0]*s*Math.sin(o[2*t]));postMessage([M,b,P,u,c,i]),M=r[t][1],b=r[t][0],P=(1-a/100)*M+a/100*(r[t][1]+n[1]*s*Math.cos(o[2*t+1])),u=(1-a/100)*b+a/100*(r[t][0]+n[1]*s*Math.sin(o[2*t+1])),postMessage([M,b,P,u,c,i])}await new Promise(t=>window.requestAnimationFrame(t))}for(let t=0;t<r.length;t++){var d=r[t][1]+n[0]*s*Math.cos(o[2*t]),m=r[t][0]+n[0]*s*Math.sin(o[2*t]);h.push([m,d]),e.push(o[2*t]-a),e.push(o[2*t]+a),d=r[t][1]+n[1]*s*Math.cos(o[2*t+1]),m=r[t][0]+n[1]*s*Math.sin(o[2*t+1]),h.push([m,d]),e.push(o[2*t+1]-a),e.push(o[2*t+1]+a)}r=h,o=e,s*=.675}}