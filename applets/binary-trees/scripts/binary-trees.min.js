!function(){"use strict";let t=2e3,e=[],r=[],n=5,o=document.querySelector("#binary-trees-plot").getContext("2d",{alpha:!1}),a=null,l=[],s=-1,c=document.querySelector("#branch-selector").offsetWidth,u=document.querySelector("#branch-selector").offsetHeight;function i(){o.fillStyle="rgb(0, 0, 0)",o.fillRect(0,0,t,t);let a=[Math.atan2(r[0][0]-e[0],r[0][1]-e[1]),Math.atan2(r[1][0]-e[0],r[1][1]-e[1])],l=(a[0]-a[1])/2,s=[Math.sqrt((r[0][0]-e[0])*(r[0][0]-e[0])+(r[0][1]-e[1])*(r[0][1]-e[1])),Math.sqrt((r[1][0]-e[0])*(r[1][0]-e[0])+(r[1][1]-e[1])*(r[1][1]-e[1]))],c=[e],u=1;for(let t=0;t<n;t++){let t=[],e=[];o.lineWidth=20*u+1;let r=139*Math.sqrt(u),n=69*Math.sqrt(u)+128*(1-Math.sqrt(u)),i=19*Math.sqrt(u);o.strokeStyle=`rgb(${r}, ${n}, ${i})`;for(let r=0;r<c.length;r++){let n=c[r][1],i=c[r][0],d=c[r][1]+s[0]*u*Math.cos(a[2*r]),h=c[r][0]+s[0]*u*Math.sin(a[2*r]);o.beginPath(),o.moveTo(n,i),o.lineTo(d,h),o.stroke(),t.push([h,d]),e.push(a[2*r]-l),e.push(a[2*r]+l),n=c[r][1],i=c[r][0],d=c[r][1]+s[1]*u*Math.cos(a[2*r+1]),h=c[r][0]+s[1]*u*Math.sin(a[2*r+1]),o.beginPath(),o.moveTo(n,i),o.lineTo(d,h),o.stroke(),t.push([h,d]),e.push(a[2*r+1]-l),e.push(a[2*r+1]+l)}c=t,a=e,u*=.675}}function d(t){s=-1;for(let e=0;e<2;e++)if(t.target.id===`branch-marker-${e}`){t.preventDefault(),s=e;try{a.terminate()}catch(t){}break}}function h(n){if(-1!==s){document.body.style.WebkitUserSelect="",set_element_styles(".branch-marker","opacity",0);let n=0,l=setInterval(function(){o.fillStyle=`rgba(0, 0, 0, ${n/37})`,o.fillRect(0,0,t,t),n++},8);setTimeout(function(){clearInterval(l),o.fillStyle="rgb(0, 0, 0)",o.fillRect(0,0,t,t),function(){try{a.terminate()}catch(t){}a=DEBUG?new Worker("/applets/binary-trees/scripts/worker.js"):new Worker("/applets/binary-trees/scripts/worker.min.js"),temporary_web_workers.push(a),a.onmessage=function(t){"done"!==t.data[0]?(o.strokeStyle=t.data[4],o.lineWidth=t.data[5],o.beginPath(),o.moveTo(t.data[0],t.data[1]),o.lineTo(t.data[2],t.data[3]),o.stroke()):setTimeout(function(){set_element_styles(".branch-marker","opacity",1)},500)},a.postMessage([e,r])}()},300)}s=-1}function m(e){if(-1===s)return;let n=null,o=null,a=document.querySelector("#branch-selector").getBoundingClientRect();"touchmove"===e.type?(n=e.touches[0].clientY-a.top,o=e.touches[0].clientX-a.left):(n=e.clientY-a.top,o=e.clientX-a.left),n<24&&(n=24),n>u-24&&(n=u-24),o<24&&(o=24),o>c-24&&(o=c-24),l[s].style.transform=`translate3d(${o-24}px, ${n-24}px, 0)`,r[s][0]=n/u*t,r[s][1]=o/c*t,i()}function p(){c=document.querySelector("#branch-selector").offsetWidth,u=document.querySelector("#branch-selector").offsetHeight;document.querySelector("#branch-selector").getBoundingClientRect();for(let e=0;e<2;e++){let n=Math.floor(u*r[e][0]/t),o=Math.floor(c*r[e][1]/t);l[e].style.transform=`translate3d(${o-24}px, ${n-24}px, 0)`}}document.querySelector("#binary-trees-plot").setAttribute("width",t),document.querySelector("#binary-trees-plot").setAttribute("height",t),o.fillStyle="rgb(0, 0, 0)",o.fillRect(0,0,t,t),document.querySelector("#download-button").addEventListener("click",function(){let t=document.createElement("a");t.download="binary-trees.png",t.href=document.querySelector("#binary-trees-plot").toDataURL(),t.click(),t.remove()}),function(){1===url_vars.contrast&&(1===url_vars.theme?document.querySelector("#binary-trees-plot").style.borderColor="rgb(192, 192, 192)":document.querySelector("#binary-trees-plot").style.borderColor="rgb(64, 64, 64)");add_style("\n\t\t\t.branch-marker.hover\n\t\t\t{\n\t\t\t\tbackground-color: rgb(127, 127, 127);\t\n\t\t\t}\n\t\t\t\n\t\t\t.branch-marker:not(:hover):focus\n\t\t\t{\n\t\t\t\tbackground-color: rgb(127, 127, 127);\n\t\t\t\toutline: none;\n\t\t\t}\n\t\t",!0)}(),document.documentElement.addEventListener("touchstart",d,!1),document.documentElement.addEventListener("touchmove",m,!1),document.documentElement.addEventListener("touchend",h,!1),document.documentElement.addEventListener("mousedown",d,!1),document.documentElement.addEventListener("mousemove",m,!1),document.documentElement.addEventListener("mouseup",h,!1),temporary_handlers.touchstart.push(d),temporary_handlers.touchmove.push(m),temporary_handlers.touchend.push(h),temporary_handlers.mousedown.push(d),temporary_handlers.mousemove.push(m),temporary_handlers.mouseup.push(h),function(){e[0]=Math.floor(9*t/10),e[1]=Math.floor(t/2);for(let t=0;t<2;t++){let e=document.createElement("div");e.classList.add("branch-marker"),e.id=`branch-marker-${t}`,document.querySelector("#branch-selector").appendChild(e),l.push(e),r.push([0,0])}r[0][0]=Math.floor(2*t/3),r[0][1]=Math.floor(3*t/7),r[1][0]=Math.floor(2*t/3),r[1][1]=Math.floor(4*t/7);for(let e=0;e<2;e++){let n=r[e][0]/t*u,o=r[e][1]/t*c;l[e].style.transform=`translate3d(${o-24}px, ${n-24}px, 0)`}i()}(),window.addEventListener("resize",p),temporary_handlers.resize.push(p),setTimeout(p,1e3),"Chrome"!==browser_name&&"Opera"!==browser_name||function(){let t=document.querySelector("main").children;(t=t[t.length-1].children)[t.length-1].insertAdjacentHTML("afterend",'\n\t\t\t<div data-aos="fade-up" style="margin-top: 10vh">\n\t\t\t\t<p class="body-text">\n\t\t\t\t\tYour browser treats canvases in a way that may make this applet stutter excessively. If this happens, try temporarily turning off hardware acceleration in the browser&#x2019;s settings.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t'),aos_resize()}()}();