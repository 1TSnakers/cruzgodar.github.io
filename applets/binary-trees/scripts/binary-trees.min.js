!function(){"use strict";let e=2e3,t=[],r=[],n=document.querySelector("#binary-trees-plot").getContext("2d",{alpha:!1}),o=null,a=[],l=-1,s=document.querySelector("#branch-selector").offsetWidth,c=document.querySelector("#branch-selector").offsetHeight,u=17.5;function i(){n.fillStyle="rgb(0, 0, 0)",n.fillRect(0,0,e,e);let o=[Math.atan2(r[0][0]-t[0],r[0][1]-t[1]),Math.atan2(r[1][0]-t[0],r[1][1]-t[1])],a=(o[0]-o[1])/2,l=[Math.sqrt((r[0][0]-t[0])*(r[0][0]-t[0])+(r[0][1]-t[1])*(r[0][1]-t[1])),Math.sqrt((r[1][0]-t[0])*(r[1][0]-t[0])+(r[1][1]-t[1])*(r[1][1]-t[1]))],s=[t],c=1;for(let e=0;e<5;e++){let e=[],t=[];n.lineWidth=20*c+1;let r=139*Math.sqrt(c),u=69*Math.sqrt(c)+128*(1-Math.sqrt(c)),i=19*Math.sqrt(c);n.strokeStyle=`rgb(${r}, ${u}, ${i})`;for(let r=0;r<s.length;r++){let u=s[r][1],i=s[r][0],d=s[r][1]+l[0]*c*Math.cos(o[2*r]),h=s[r][0]+l[0]*c*Math.sin(o[2*r]);n.beginPath(),n.moveTo(u,i),n.lineTo(d,h),n.stroke(),e.push([h,d]),t.push(o[2*r]-a),t.push(o[2*r]+a),u=s[r][1],i=s[r][0],d=s[r][1]+l[1]*c*Math.cos(o[2*r+1]),h=s[r][0]+l[1]*c*Math.sin(o[2*r+1]),n.beginPath(),n.moveTo(u,i),n.lineTo(d,h),n.stroke(),e.push([h,d]),t.push(o[2*r+1]-a),t.push(o[2*r+1]+a)}s=e,o=t,c*=.675}}function d(e){l=-1;for(let t=0;t<2;t++)if(e.target.id==="branch-marker-"+t){e.preventDefault(),l=t;try{o.terminate()}catch(e){}break}}function h(a){if(-1!==l){document.body.style.WebkitUserSelect="",set_element_styles(".branch-marker","opacity",0);let a=0,l=setInterval((function(){n.fillStyle=`rgba(0, 0, 0, ${a/37})`,n.fillRect(0,0,e,e),a++}),8);setTimeout((function(){clearInterval(l),n.fillStyle="rgb(0, 0, 0)",n.fillRect(0,0,e,e),function(){try{o.terminate()}catch(e){}o=DEBUG?new Worker("/applets/binary-trees/scripts/worker.js"):new Worker("/applets/binary-trees/scripts/worker.min.js"),temporary_web_workers.push(o),o.onmessage=function(e){"done"!==e.data[0]?(n.strokeStyle=e.data[4],n.lineWidth=e.data[5],n.beginPath(),n.moveTo(e.data[0],e.data[1]),n.lineTo(e.data[2],e.data[3]),n.stroke()):setTimeout((function(){set_element_styles(".branch-marker","opacity",1)}),500)},o.postMessage([t,r])}()}),300)}l=-1}function m(t){if(-1===l)return;let n=null,o=null,d=document.querySelector("#branch-selector").getBoundingClientRect();"touchmove"===t.type?(n=t.touches[0].clientY-d.top,o=t.touches[0].clientX-d.left):(n=t.clientY-d.top,o=t.clientX-d.left),n<u&&(n=u),n>c-u&&(n=c-u),o<u&&(o=u),o>s-u&&(o=s-u),a[l].style.transform=`translate3d(${o-u}px, ${n-u}px, 0)`,r[l][0]=n/c*e,r[l][1]=o/s*e,i()}function p(){s=document.querySelector("#branch-selector").offsetWidth,c=document.querySelector("#branch-selector").offsetHeight;document.querySelector("#branch-selector").getBoundingClientRect();for(let t=0;t<2;t++){let n=Math.floor(c*r[t][0]/e),o=Math.floor(s*r[t][1]/e);a[t].style.transform=`translate3d(${o-u}px, ${n-u}px, 0)`}}document.querySelector("#binary-trees-plot").setAttribute("width",e),document.querySelector("#binary-trees-plot").setAttribute("height",e),n.fillStyle="rgb(0, 0, 0)",n.fillRect(0,0,e,e),document.querySelector("#download-button").addEventListener("click",(function(){let e=document.createElement("a");e.download="binary-trees.png",e.href=document.querySelector("#binary-trees-plot").toDataURL(),e.click(),e.remove()})),function(){1===url_vars.contrast&&(1===url_vars.theme?document.querySelector("#binary-trees-plot").style.borderColor="rgb(192, 192, 192)":document.querySelector("#binary-trees-plot").style.borderColor="rgb(64, 64, 64)");add_style("\n\t\t\t.branch-marker.hover\n\t\t\t{\n\t\t\t\tbackground-color: rgb(127, 127, 127);\t\n\t\t\t}\n\t\t\t\n\t\t\t.branch-marker:not(:hover):focus\n\t\t\t{\n\t\t\t\tbackground-color: rgb(127, 127, 127);\n\t\t\t\toutline: none;\n\t\t\t}\n\t\t",!0)}(),document.documentElement.addEventListener("touchstart",d,!1),document.documentElement.addEventListener("touchmove",m,!1),document.documentElement.addEventListener("touchend",h,!1),document.documentElement.addEventListener("mousedown",d,!1),document.documentElement.addEventListener("mousemove",m,!1),document.documentElement.addEventListener("mouseup",h,!1),temporary_handlers.touchstart.push(d),temporary_handlers.touchmove.push(m),temporary_handlers.touchend.push(h),temporary_handlers.mousedown.push(d),temporary_handlers.mousemove.push(m),temporary_handlers.mouseup.push(h),function(){t[0]=Math.floor(1800),t[1]=Math.floor(1e3);for(let e=0;e<2;e++){let t=document.createElement("div");t.classList.add("branch-marker"),t.id="branch-marker-"+e,document.querySelector("#branch-selector").appendChild(t),a.push(t),r.push([0,0])}r[0][0]=Math.floor(4e3/3),r[0][1]=Math.floor(6e3/7),r[1][0]=Math.floor(4e3/3),r[1][1]=Math.floor(8e3/7);for(let t=0;t<2;t++){let n=r[t][0]/e*c,o=r[t][1]/e*s;a[t].style.transform=`translate3d(${o-u}px, ${n-u}px, 0)`}i()}(),window.addEventListener("resize",p),temporary_handlers.resize.push(p),setTimeout(p,1e3),"Chrome"!==browser_name&&"Opera"!==browser_name||function(){let e=document.querySelector("main").children;e=e[e.length-1].children,e[e.length-1].insertAdjacentHTML("afterend",'\n\t\t\t<div data-aos="fade-up" style="margin-top: 10vh">\n\t\t\t\t<p class="body-text">\n\t\t\t\t\tYour browser treats canvases in a way that may make this applet stutter excessively. If this happens, try temporarily turning off hardware acceleration in the browser&#x2019;s settings.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t'),aos_resize()}(),applet_canvases_to_resize=[document.querySelector("#binary-trees-plot"),document.querySelector("#branch-selector")],applet_canvas_resize_callback=function(){s=document.querySelector("#branch-selector").offsetWidth,c=document.querySelector("#branch-selector").offsetHeight,p()},set_up_canvas_resizer()}();