!function(){"use strict";let t=2e3,e=2e3,r=[],o=[],n=5,a=document.querySelector("#binary-trees-plot").getContext("2d",{alpha:!1}),l=null,s=[],c=-1,u=document.querySelector("#branch-selector").offsetWidth,i=document.querySelector("#branch-selector").offsetHeight,h=17.5;function d(){a.fillStyle="rgb(0, 0, 0)",a.fillRect(0,0,t,e);let l=[Math.atan2(o[0][0]-r[0],o[0][1]-r[1]),Math.atan2(o[1][0]-r[0],o[1][1]-r[1])],s=(l[0]-l[1])/2,c=[Math.sqrt((o[0][0]-r[0])*(o[0][0]-r[0])+(o[0][1]-r[1])*(o[0][1]-r[1])),Math.sqrt((o[1][0]-r[0])*(o[1][0]-r[0])+(o[1][1]-r[1])*(o[1][1]-r[1]))],u=[r],i=1;for(let t=0;t<n;t++){let t=[],e=[];a.lineWidth=20*i+1;let r=139*Math.sqrt(i),o=69*Math.sqrt(i)+128*(1-Math.sqrt(i)),n=19*Math.sqrt(i);a.strokeStyle=`rgb(${r}, ${o}, ${n})`;for(let r=0;r<u.length;r++){let o=u[r][1],n=u[r][0],h=u[r][1]+c[0]*i*Math.cos(l[2*r]),d=u[r][0]+c[0]*i*Math.sin(l[2*r]);a.beginPath(),a.moveTo(o,n),a.lineTo(h,d),a.stroke(),t.push([d,h]),e.push(l[2*r]-s),e.push(l[2*r]+s),o=u[r][1],n=u[r][0],h=u[r][1]+c[1]*i*Math.cos(l[2*r+1]),d=u[r][0]+c[1]*i*Math.sin(l[2*r+1]),a.beginPath(),a.moveTo(o,n),a.lineTo(h,d),a.stroke(),t.push([d,h]),e.push(l[2*r+1]-s),e.push(l[2*r+1]+s)}u=t,l=e,i*=.675}}function m(t){c=-1;for(let e=0;e<2;e++)if(t.target.id===`branch-marker-${e}`){t.preventDefault(),c=e;try{l.terminate()}catch(t){}break}}function f(n){if(-1!==c){document.body.style.WebkitUserSelect="",set_element_styles(".branch-marker","opacity",0);let n=0,s=setInterval(function(){a.fillStyle=`rgba(0, 0, 0, ${n/37})`,a.fillRect(0,0,t,e),n++},8);setTimeout(function(){clearInterval(s),a.fillStyle="rgb(0, 0, 0)",a.fillRect(0,0,t,e),function(){try{l.terminate()}catch(t){}l=DEBUG?new Worker("/applets/binary-trees/scripts/worker.js"):new Worker("/applets/binary-trees/scripts/worker.min.js"),temporary_web_workers.push(l),l.onmessage=function(t){"done"!==t.data[0]?(a.strokeStyle=t.data[4],a.lineWidth=t.data[5],a.beginPath(),a.moveTo(t.data[0],t.data[1]),a.lineTo(t.data[2],t.data[3]),a.stroke()):setTimeout(function(){set_element_styles(".branch-marker","opacity",1)},500)},l.postMessage([r,o])}()},300)}c=-1}function p(r){if(-1===c)return;let n=null,a=null,l=document.querySelector("#branch-selector").getBoundingClientRect();"touchmove"===r.type?(n=r.touches[0].clientY-l.top,a=r.touches[0].clientX-l.left):(n=r.clientY-l.top,a=r.clientX-l.left),n<h&&(n=h),n>i-h&&(n=i-h),a<h&&(a=h),a>u-h&&(a=u-h),s[c].style.transform=`translate3d(${a-h}px, ${n-h}px, 0)`,o[c][0]=n/i*e,o[c][1]=a/u*t,d()}function y(){u=document.querySelector("#branch-selector").offsetWidth,i=document.querySelector("#branch-selector").offsetHeight;document.querySelector("#branch-selector").getBoundingClientRect();for(let r=0;r<2;r++){let n=Math.floor(i*o[r][0]/e),a=Math.floor(u*o[r][1]/t);s[r].style.transform=`translate3d(${a-h}px, ${n-h}px, 0)`}}document.querySelector("#binary-trees-plot").setAttribute("width",t),document.querySelector("#binary-trees-plot").setAttribute("height",e),a.fillStyle="rgb(0, 0, 0)",a.fillRect(0,0,t,e),document.querySelector("#download-button").addEventListener("click",function(){let t=document.createElement("a");t.download="binary-trees.png",t.href=document.querySelector("#binary-trees-plot").toDataURL(),t.click(),t.remove()}),function(){1===url_vars.contrast&&(1===url_vars.theme?document.querySelector("#binary-trees-plot").style.borderColor="rgb(192, 192, 192)":document.querySelector("#binary-trees-plot").style.borderColor="rgb(64, 64, 64)");add_style("\n\t\t\t.branch-marker.hover\n\t\t\t{\n\t\t\t\tbackground-color: rgb(127, 127, 127);\t\n\t\t\t}\n\t\t\t\n\t\t\t.branch-marker:not(:hover):focus\n\t\t\t{\n\t\t\t\tbackground-color: rgb(127, 127, 127);\n\t\t\t\toutline: none;\n\t\t\t}\n\t\t",!0)}(),document.documentElement.addEventListener("touchstart",m,!1),document.documentElement.addEventListener("touchmove",p,!1),document.documentElement.addEventListener("touchend",f,!1),document.documentElement.addEventListener("mousedown",m,!1),document.documentElement.addEventListener("mousemove",p,!1),document.documentElement.addEventListener("mouseup",f,!1),temporary_handlers.touchstart.push(m),temporary_handlers.touchmove.push(p),temporary_handlers.touchend.push(f),temporary_handlers.mousedown.push(m),temporary_handlers.mousemove.push(p),temporary_handlers.mouseup.push(f),function(){r[0]=Math.floor(9*e/10),r[1]=Math.floor(t/2);for(let t=0;t<2;t++){let e=document.createElement("div");e.classList.add("branch-marker"),e.classList.add("no-floating-footer"),e.id=`branch-marker-${t}`,document.querySelector("#branch-selector").appendChild(e),s.push(e),o.push([0,0])}o[0][0]=Math.floor(2*e/3),o[0][1]=Math.floor(3*t/7),o[1][0]=Math.floor(2*e/3),o[1][1]=Math.floor(4*t/7);for(let r=0;r<2;r++){let n=o[r][0]/e*i,a=o[r][1]/t*u;s[r].style.transform=`translate3d(${a-h}px, ${n-h}px, 0)`}d()}(),window.addEventListener("resize",y),temporary_handlers.resize.push(y),setTimeout(y,1e3),"Chrome"!==browser_name&&"Opera"!==browser_name||function(){let t=document.querySelector("main").children;(t=t[t.length-1].children)[t.length-1].insertAdjacentHTML("afterend",'\n\t\t\t<div data-aos="fade-up" style="margin-top: 10vh">\n\t\t\t\t<p class="body-text">\n\t\t\t\t\tYour browser treats canvases in a way that may make this applet stutter excessively. If this happens, try temporarily turning off hardware acceleration in the browser&#x2019;s settings.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t'),aos_resize()}(),applet_canvases_to_resize=[document.querySelector("#binary-trees-plot"),document.querySelector("#branch-selector")],applet_canvas_resize_callback=function(){try{l.terminate()}catch(t){}set_element_styles(".branch-marker","opacity",1),canvas_is_fullscreen?aspect_ratio>=1?(t=2e3,e=Math.floor(2e3/aspect_ratio)):(t=Math.floor(2e3*aspect_ratio),e=2e3):(t=2e3,e=2e3),u=document.querySelector("#branch-selector").offsetWidth,i=document.querySelector("#branch-selector").offsetHeight,document.querySelector("#binary-trees-plot").setAttribute("width",t),document.querySelector("#binary-trees-plot").setAttribute("height",e),a.fillStyle="rgb(0, 0, 0)",a.fillRect(0,0,t,e),r[0]=Math.floor(9*e/10),r[1]=Math.floor(t/2),o[0][0]=Math.floor(2*e/3),o[0][1]=Math.floor(3*t/7),o[1][0]=Math.floor(2*e/3),o[1][1]=Math.floor(4*t/7),y(),d()},applet_canvas_true_fullscreen=!0,set_up_canvas_resizer()}();