import{showPage}from"../../../scripts/src/loadPage.min.js";import{KaleidoscopicIFSFractal}from"./class.min.js";import{opacityAnimationTime}from"/scripts/src/animation.min.js";import{DownloadButton}from"/scripts/src/buttons.min.js";import{$}from"/scripts/src/main.min.js";import{TextBox}from"/scripts/src/textBoxes.min.js";function load(){const t=new KaleidoscopicIFSFractal({canvas:$("#output-canvas")}),e=(new DownloadButton({element:$("#download-button"),wilson:t.wilson,filename:"a-kaleidoscopic-ifs-fractal.png"}),new TextBox({element:$("#resolution-input"),name:"Resolution",value:500,maxValue:1e3,onInput:function(){t.changeResolution(e.value)}})),o=$("#rotation-angle-x-2-slider"),n=$("#rotation-angle-x-2-slider-value"),a=$("#rotation-angle-y-2-slider"),i=$("#rotation-angle-y-2-slider-value"),r=$("#rotation-angle-z-2-slider"),s=$("#rotation-angle-z-2-slider-value");var l=[o,a,r];for(let p=0;p<l.length;p++)l[p].addEventListener("input",u);const c=$("#polyhedron-selector-dropdown");function u(){t.rotationAngleX2=parseFloat(n.textContent),t.rotationAngleY2=parseFloat(i.textContent),t.rotationAngleZ2=parseFloat(s.textContent),t.updateMatrices()}function m(){o.value=0,n.textContent="0.000",a.value=0,i.textContent="0.000",r.value=0,s.textContent="0.000",u()}c.addEventListener("input",()=>{"tetrahedron"===c.value?(t.changePolyhedron(0),setTimeout(()=>{m(),o.setAttribute("max",2*Math.PI),a.setAttribute("max",2*Math.PI),r.setAttribute("max",2*Math.PI/3)},opacityAnimationTime)):("cube"===c.value?t.changePolyhedron(1):t.changePolyhedron(2),setTimeout(()=>{m(),o.setAttribute("max",Math.PI/2),a.setAttribute("max",Math.PI/2),r.setAttribute("max",Math.PI/2)},opacityAnimationTime))}),showPage()}export{load};