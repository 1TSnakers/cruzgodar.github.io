import{showPage}from"../../../scripts/src/loadPage.min.js";import{KaleidoscopicIFSFractal}from"./class.min.js";import{opacityAnimationTime}from"/scripts/src/animation.min.js";import{DownloadButton}from"/scripts/src/buttons.min.js";import{$}from"/scripts/src/main.min.js";function load(){const e=new KaleidoscopicIFSFractal({canvas:$("#output-canvas")}),o=(new DownloadButton({element:$("#download-button"),wilson:e.wilson,filename:"a-kaleidoscopic-ifs-fractal.png"}),$("#resolution-input")),t=(e.setInputCaps([o],[1e3]),o.addEventListener("input",()=>{var t=parseInt(o.value||500);e.changeResolution(t)}),$("#rotation-angle-x-2-slider")),a=$("#rotation-angle-x-2-slider-value"),n=$("#rotation-angle-y-2-slider"),i=$("#rotation-angle-y-2-slider-value"),r=$("#rotation-angle-z-2-slider"),s=$("#rotation-angle-z-2-slider-value");var l=[t,n,r];for(let d=0;d<l.length;d++)l[d].addEventListener("input",u);const c=$("#polyhedron-selector-dropdown");function u(){e.rotationAngleX2=parseFloat(a.textContent),e.rotationAngleY2=parseFloat(i.textContent),e.rotationAngleZ2=parseFloat(s.textContent),e.updateMatrices()}function p(){t.value=0,a.textContent="0.000",n.value=0,i.textContent="0.000",r.value=0,s.textContent="0.000",u()}c.addEventListener("input",()=>{"tetrahedron"===c.value?(e.changePolyhedron(0),setTimeout(()=>{p(),t.setAttribute("max",2*Math.PI),n.setAttribute("max",2*Math.PI),r.setAttribute("max",2*Math.PI/3)},opacityAnimationTime)):("cube"===c.value?e.changePolyhedron(1):e.changePolyhedron(2),setTimeout(()=>{p(),t.setAttribute("max",Math.PI/2),n.setAttribute("max",Math.PI/2),r.setAttribute("max",Math.PI/2)},opacityAnimationTime))}),showPage()}export{load};