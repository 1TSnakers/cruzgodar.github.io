import{showPage}from"../../../scripts/src/loadPage.min.js";import{KaleidoscopicIFSFractal}from"./class.min.js";import{opacityAnimationTime}from"/scripts/src/animation.min.js";import{DownloadButton}from"/scripts/src/buttons.min.js";import{Dropdown}from"/scripts/src/dropdowns.min.js";import{$}from"/scripts/src/main.min.js";import{typesetMath}from"/scripts/src/math.min.js";import{Slider}from"/scripts/src/sliders.min.js";import{TextBox}from"/scripts/src/textBoxes.min.js";function load(){const e=new KaleidoscopicIFSFractal({canvas:$("#output-canvas")}),t=(new DownloadButton({element:$("#download-button"),wilson:e.wilson,filename:"a-kaleidoscopic-ifs-fractal.png"}),new TextBox({element:$("#resolution-input"),name:"Resolution",value:500,maxValue:1e3,onInput:function(){e.changeResolution(t.value)}})),o=new Slider({element:$("#rotation-angle-x-2-slider"),name:"$\\theta_x$",value:0,min:0,max:Math.PI/2,onInput:i}),n=new Slider({element:$("#rotation-angle-y-2-slider"),name:"$\\theta_y$",value:0,min:0,max:Math.PI/2,onInput:i}),a=new Slider({element:$("#rotation-angle-z-2-slider"),name:"$\\theta_z$",value:0,min:0,max:Math.PI/2,onInput:i}),s=new Dropdown({element:$("#polyhedra-dropdown"),name:"Polyhedra",options:{octahedron:"Octahedron",tetrahedron:"Tetrahedron",cube:"Cube"},onInput:function(){"tetrahedron"===s.value?(e.changePolyhedron(0),setTimeout(()=>{r(),o.setBounds({max:2*Math.PI}),n.setBounds({max:2*Math.PI}),a.setBounds({max:2*Math.PI/3})},opacityAnimationTime)):("cube"===s.value?e.changePolyhedron(1):e.changePolyhedron(2),setTimeout(()=>{r(),o.setBounds({max:2*Math.PI/2}),n.setBounds({max:2*Math.PI/2}),a.setBounds({max:2*Math.PI/2})},opacityAnimationTime))}});function i(){e.rotationAngleX2=o.value,e.rotationAngleY2=n.value,e.rotationAngleZ2=a.value,e.updateMatrices()}function r(){o.setValue(0),n.setValue(0),a.setValue(0),i()}typesetMath(),showPage()}export{load};