import{showPage}from"../../../scripts/src/loadPage.min.js";import{KaleidoscopicIFSFractal}from"./class.min.js";import{DownloadButton}from"/scripts/src/buttons.min.js";import{Checkbox}from"/scripts/src/checkboxes.min.js";import{Dropdown}from"/scripts/src/dropdowns.min.js";import{$}from"/scripts/src/main.min.js";import{typesetMath}from"/scripts/src/math.min.js";import{siteSettings}from"/scripts/src/settings.min.js";import{Slider}from"/scripts/src/sliders.min.js";import{TextBox}from"/scripts/src/textBoxes.min.js";export default function(){const e=new TextBox({element:$("#resolution-input"),name:"Resolution",value:500,minValue:100,maxValue:1e3,onInput:function(){i.changeResolution(e.value*siteSettings.resolutionMultiplier)}}),t=new Slider({element:$("#rotation-angle-x-2-slider"),name:"$\\theta_x$",value:0,min:0,max:Math.PI/2,onInput:l}),o=new Slider({element:$("#rotation-angle-y-2-slider"),name:"$\\theta_y$",value:0,min:0,max:Math.PI/2,onInput:l}),n=new Slider({element:$("#rotation-angle-z-2-slider"),name:"$\\theta_z$",value:0,min:0,max:Math.PI/2,onInput:l}),a=new Dropdown({element:$("#polyhedra-dropdown"),name:"Polyhedra",options:{octahedron:"Octahedron",tetrahedron:"Tetrahedron",cube:"Cube"},onInput:function(){i.changePolyhedron(a.value),"tetrahedron"===a.value?(t.setBounds({max:2*Math.PI}),o.setBounds({max:2*Math.PI}),n.setBounds({max:2*Math.PI/3})):(a.value,t.setBounds({max:2*Math.PI/2}),o.setBounds({max:2*Math.PI/2}),n.setBounds({max:2*Math.PI/2}))}}),s=new Slider({element:$("#scale-slider"),name:"Scale",value:2,min:1.2,max:2,onInput:l}),r=new Checkbox({element:$("#shadows-checkbox"),name:"Shadows",onInput:function(){i.useShadows=r.checked,i.reloadShader()}}),i=new KaleidoscopicIFSFractal({canvas:$("#output-canvas"),shape:a.value||"octahedron"});function l(){i.setUniform("scale",s.value);var e=(s.value-1.2)/.8*2;i.setMinEpsilon(3e-5/Math.pow(10,e)),i.rotationAngleX2=t.value,i.rotationAngleY2=o.value,i.rotationAngleZ2=n.value,i.updateMatrices()}new DownloadButton({element:$("#download-button"),wilson:i.wilson,filename:"a-kaleidoscopic-ifs-fractal.png"}),typesetMath(),showPage()}