import{showPage}from"../../../scripts/src/loadPage.min.js";import{KaleidoscopicIFSFractal}from"./class.min.js";import{opacityAnimationTime}from"/scripts/src/animation.min.js";import{DownloadButton}from"/scripts/src/buttons.min.js";import{Dropdown}from"/scripts/src/dropdowns.min.js";import{$}from"/scripts/src/main.min.js";import{typesetMath}from"/scripts/src/math.min.js";import{siteSettings}from"/scripts/src/settings.min.js";import{Slider}from"/scripts/src/sliders.min.js";import{TextBox}from"/scripts/src/textBoxes.min.js";export default function(){const t=new KaleidoscopicIFSFractal({canvas:$("#output-canvas")}),e=(new DownloadButton({element:$("#download-button"),wilson:t.wilson,filename:"a-kaleidoscopic-ifs-fractal.png"}),new TextBox({element:$("#resolution-input"),name:"Resolution",value:500,minValue:100,maxValue:1e3,onInput:function(){t.changeResolution(e.value*siteSettings.resolutionMultiplier)}})),o=new Slider({element:$("#rotation-angle-x-2-slider"),name:"$\\theta_x$",value:0,min:0,max:Math.PI/2,onInput:i}),n=new Slider({element:$("#rotation-angle-y-2-slider"),name:"$\\theta_y$",value:0,min:0,max:Math.PI/2,onInput:i}),a=new Slider({element:$("#rotation-angle-z-2-slider"),name:"$\\theta_z$",value:0,min:0,max:Math.PI/2,onInput:i}),s=new Dropdown({element:$("#polyhedra-dropdown"),name:"Polyhedra",options:{octahedron:"Octahedron",tetrahedron:"Tetrahedron",cube:"Cube"},onInput:function(){"tetrahedron"===s.value?(t.changePolyhedron(0),setTimeout(()=>{r(),o.setBounds({max:2*Math.PI}),n.setBounds({max:2*Math.PI}),a.setBounds({max:2*Math.PI/3})},opacityAnimationTime)):("cube"===s.value?t.changePolyhedron(1):t.changePolyhedron(2),setTimeout(()=>{r(),o.setBounds({max:2*Math.PI/2}),n.setBounds({max:2*Math.PI/2}),a.setBounds({max:2*Math.PI/2})},opacityAnimationTime))}});function i(){t.rotationAngleX2=o.value,t.rotationAngleY2=n.value,t.rotationAngleZ2=a.value,t.updateMatrices()}function r(){o.setValue(0),n.setValue(0),a.setValue(0),i()}typesetMath(),t.changePolyhedron(2),showPage()}