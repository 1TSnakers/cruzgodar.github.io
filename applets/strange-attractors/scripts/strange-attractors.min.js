!function(){"use strict";let e=document.querySelector("#output-canvas").getContext("2d",{alpha:!1}),t=null,r=[],o=10;document.querySelector("#generate-button").addEventListener("click",n);let a=document.querySelectorAll("#grid-size-input, #sigma-input, #rho-input, #beta-input");for(let e=0;e<a.length;e++)a[e].addEventListener("keydown",function(e){13===e.keyCode&&n()});function n(){let a=parseInt(document.querySelector("#grid-size-input").value||1e3),n=parseFloat(document.querySelector("#sigma-input").value||10),u=parseFloat(document.querySelector("#rho-input").value||28),l=parseFloat(document.querySelector("#beta-input").value||8/3),c=document.querySelector("#toggle-maximum-speed-checkbox").checked;r=[];for(let e=0;e<a;e++){r[e]=[];for(let t=0;t<a;t++)r[e][t]=0}document.querySelector("#output-canvas").setAttribute("width",a),document.querySelector("#output-canvas").setAttribute("height",a),e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,a,a);try{t.terminate()}catch(e){}t=DEBUG?new Worker("/applets/strange-attractors/scripts/worker.js"):new Worker("/applets/strange-attractors/scripts/worker.min.js"),Page.temporary_web_workers.push(t),t.onmessage=function(t){let a=t.data[0],n=t.data[1];for(let t=0;t<a.length;t++){r[a[t][0]][a[t][1]]++;let u=r[a[t][0]][a[t][1]]/o;e.fillStyle=`rgb(${n[0]*u}, ${n[1]*u}, ${n[2]*u})`,e.fillRect(a[t][1],a[t][0],1,1)}},t.postMessage([a,n,u,l,c])}document.querySelector("#download-button").addEventListener("click",function(){let e=document.createElement("a");e.download="strange-attractor.png",e.href=document.querySelector("#output-canvas").toDataURL(),e.click(),e.remove()}),Page.Applets.Canvases.to_resize=[document.querySelector("#output-canvas")],Page.Applets.Canvases.true_fullscreen=!1,Page.Applets.Canvases.set_up_resizer()}();