!function(){"use strict";let e=new Wilson(Page.element.querySelector("#output-canvas"),{renderer:"cpu",canvas_width:1e3,canvas_height:1e3,use_fullscreen:!0,use_fullscreen_button:!0,enter_fullscreen_button_icon_path:"/graphics/general-icons/enter-fullscreen.png",exit_fullscreen_button_icon_path:"/graphics/general-icons/exit-fullscreen.png"}),t=null,n=[],r=10;Page.element.querySelector("#generate-button").addEventListener("click",i);let a=Page.element.querySelector("#grid-size-input"),l=Page.element.querySelector("#sigma-input"),o=Page.element.querySelector("#rho-input"),s=Page.element.querySelector("#beta-input");a.addEventListener("keydown",e=>{13===e.keyCode&&i()}),l.addEventListener("keydown",e=>{13===e.keyCode&&i()}),o.addEventListener("keydown",e=>{13===e.keyCode&&i()}),s.addEventListener("keydown",e=>{13===e.keyCode&&i()}),Page.element.querySelector("#download-button").addEventListener("click",()=>{e.download_frame("a-lorenz-attractor.png")});let c=Page.element.querySelector("#toggle-maximum-speed-checkbox");function i(){let i=parseInt(a.value||1e3),u=parseFloat(l.value||10),d=parseFloat(o.value||28),g=parseFloat(s.value||2.666667),p=c.checked;e.change_canvas_size(i,i),e.ctx.fillStyle="rgb(0, 0, 0)",e.ctx.fillRect(0,0,i,i),n=new Array(i*i);for(let e=0;e<i;e++)for(let t=0;t<i;t++)n[i*e+t]=0;try{t.terminate()}catch(e){}t=DEBUG?new Worker("/applets/strange-attractors/scripts/worker.js"):new Worker("/applets/strange-attractors/scripts/worker.min.js"),Page.temporary_web_workers.push(t),t.onmessage=function(t){let a=t.data[0],l=t.data[1];for(let t=0;t<a.length;t++){n[i*a[t][0]+a[t][1]]++;let o=n[i*a[t][0]+a[t][1]]/r;e.ctx.fillStyle=`rgb(${l[0]*o}, ${l[1]*o}, ${l[2]*o})`,e.ctx.fillRect(a[t][1],a[t][0],1,1)}},t.postMessage([i,u,d,g,p])}}();