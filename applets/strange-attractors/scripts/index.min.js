!function(){"use strict";let e=new Wilson($("#output-canvas"),{renderer:"cpu",canvasWidth:1e3,canvasHeight:1e3,useFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png"}),t=null,n=[];$("#generate-button").addEventListener("click",o);let a=$("#grid-size-input"),r=$("#sigma-input"),l=$("#rho-input"),s=$("#beta-input");a.addEventListener("keydown",e=>{13===e.keyCode&&o()}),r.addEventListener("keydown",e=>{13===e.keyCode&&o()}),l.addEventListener("keydown",e=>{13===e.keyCode&&o()}),s.addEventListener("keydown",e=>{13===e.keyCode&&o()});$("#download-button").addEventListener("click",()=>{e.downloadFrame("a-lorenz-attractor.png")});let c=$("#toggle-maximum-speed-checkbox");function o(){let o=parseInt(a.value||1e3),i=parseFloat(r.value||10),d=parseFloat(l.value||28),u=parseFloat(s.value||2.666667),g=c.checked;e.changeCanvasSize(o,o),e.ctx.fillStyle="rgb(0, 0, 0)",e.ctx.fillRect(0,0,o,o),n=Array(o*o);for(let p=0;p<o;p++)for(let _=0;_<o;_++)n[o*p+_]=0;try{t.terminate()}catch(k){}t=DEBUG?new Worker("/applets/strange-attractors/scripts/worker.js"):new Worker("/applets/strange-attractors/scripts/worker.min.js"),Page.temporaryWebWorkers.push(t),t.onmessage=function(t){let a=t.data[0],r=t.data[1];for(let l=0;l<a.length;l++){n[o*a[l][0]+a[l][1]]++;let s=n[o*a[l][0]+a[l][1]]/10;e.ctx.fillStyle=`rgb(${r[0]*s}, ${r[1]*s}, ${r[2]*s})`,e.ctx.fillRect(a[l][1],a[l][0],1,1)}},t.postMessage([o,i,d,u,g])}Page.show()}();