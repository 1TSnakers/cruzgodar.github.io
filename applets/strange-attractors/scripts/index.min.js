!function(){"use strict";let e=new Wilson(Page.element.querySelector("#output-canvas"),{renderer:"cpu",canvasWidth:1e3,canvasHeight:1e3,useFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png"}),t=null,n=[];Page.element.querySelector("#generate-button").addEventListener("click",s);let r=Page.element.querySelector("#grid-size-input"),l=Page.element.querySelector("#sigma-input"),a=Page.element.querySelector("#rho-input"),c=Page.element.querySelector("#beta-input");r.addEventListener("keydown",e=>{13===e.keyCode&&s()}),l.addEventListener("keydown",e=>{13===e.keyCode&&s()}),a.addEventListener("keydown",e=>{13===e.keyCode&&s()}),c.addEventListener("keydown",e=>{13===e.keyCode&&s()});Page.element.querySelector("#download-button").addEventListener("click",()=>{e.downloadFrame("a-lorenz-attractor.png")});let o=Page.element.querySelector("#toggle-maximum-speed-checkbox");function s(){let s=parseInt(r.value||1e3),u=parseFloat(l.value||10),i=parseFloat(a.value||28),d=parseFloat(c.value||2.666667),$=o.checked;e.changeCanvasSize(s,s),e.ctx.fillStyle="rgb(0, 0, 0)",e.ctx.fillRect(0,0,s,s),n=Array(s*s);for(let g=0;g<s;g++)for(let p=0;p<s;p++)n[s*g+p]=0;try{t.terminate()}catch(y){}t=DEBUG?new Worker("/applets/strange-attractors/scripts/worker.js"):new Worker("/applets/strange-attractors/scripts/worker.min.js"),Page.temporaryWebWorkers.push(t),t.onmessage=function(t){let r=t.data[0],l=t.data[1];for(let a=0;a<r.length;a++){n[s*r[a][0]+r[a][1]]++;let c=n[s*r[a][0]+r[a][1]]/10;e.ctx.fillStyle=`rgb(${l[0]*c}, ${l[1]*c}, ${l[2]*c})`,e.ctx.fillRect(r[a][1],r[a][0],1,1)}},t.postMessage([s,u,i,d,$])}Page.show()}();