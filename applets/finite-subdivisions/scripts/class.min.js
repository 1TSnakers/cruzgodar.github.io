class FiniteSubdivision extends Applet{resolution=1E3;numVertices=6;numIterations=5;webWorker=null;constructor(b){super(b);this.wilson=new Wilson(b,{renderer:"cpu",canvasWidth:this.resolution,canvasHeight:this.resolution,useFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png"})}run(b,c,d){this.numVertices=b;this.numIterations=Math.min(c,9);this.resolution=3E3;this.maximumSpeed=
d;this.wilson.changeCanvasSize(this.resolution,this.resolution);this.wilson.ctx.fillStyle="rgb(0, 0, 0)";this.wilson.ctx.fillRect(0,0,this.resolution,this.resolution);this.wilson.ctx.lineWidth=10-this.numIterations;try{this.webWorker.terminate()}catch(a){}this.webWorker=new Worker(`/applets/finite-subdivisions/scripts/worker.${DEBUG?"":"min."}js`);this.workers.push(this.webWorker);this.webWorker.onmessage=a=>{this.wilson.ctx.strokeStyle=a.data[4];this.wilson.ctx.beginPath();this.wilson.ctx.moveTo(a.data[1],
a.data[0]);this.wilson.ctx.lineTo(a.data[3],a.data[2]);this.wilson.ctx.stroke()};this.webWorker.postMessage([this.numVertices,this.numIterations,this.resolution,this.maximumSpeed])}};
