import{showPage}from"/scripts/src/load-page.mjs";import{QuaternionicJuliaSet}from"./class.mjs";function load(){const e=$("#c-x-input"),n=$("#c-y-input"),a=$("#c-z-input"),i=$("#c-w-input");var t=$("#randomize-c-button"),o=$("#switch-bulb-button"),s=$("#switch-movement-button");const r=new QuaternionicJuliaSet($("#output-canvas"),o,s,t,e,n,a,i),l=$("#resolution-input"),u=$("#iterations-input"),c=$("#view-distance-input");r.setInputCaps([l,c],[750,200]),l.addEventListener("input",()=>{var t=parseInt(l.value||500);r.changeResolution(t)}),u.addEventListener("input",()=>{r.maxIterations=parseInt(u.value||16),r.wilson.gl.uniform1i(r.wilson.uniforms.maxIterations,r.maxIterations)}),c.addEventListener("input",()=>{r.maxMarches=Math.max(parseInt(c.value||100),32),r.wilson.gl.uniform1i(r.wilson.uniforms.maxMarches,r.maxMarches)});$("#download-button").addEventListener("click",()=>{0===r.juliaProportion?r.wilson.downloadFrame("the-quaternionic-mandelbrot-set.png"):r.wilson.downloadFrame("a-quaternionic-julia-set.png")});var p=[e,n,a,i];for(let t=0;t<p.length;t++)p[t].addEventListener("input",()=>{var t=[parseFloat(e.value||0),parseFloat(n.value||0),parseFloat(a.value||0),parseFloat(i.value||0)];r.updateC(t)});t.style.opacity=1,t.addEventListener("click",()=>r.randomizeC(!0)),o.style.opacity=1,o.addEventListener("click",()=>r.switchBulb()),s.style.opacity=1,s.addEventListener("click",()=>r.switchMovement()),showPage()}export{load};