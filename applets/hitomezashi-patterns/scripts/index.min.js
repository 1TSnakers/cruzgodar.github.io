import{showPage}from"../../../scripts/src/loadPage.min.js";import{HitomezashiPattern}from"./class.min.js";import{Applet}from"/scripts/src/applets.min.js";import{DownloadButton,GenerateButton}from"/scripts/src/buttons.min.js";import{$}from"/scripts/src/main.min.js";function load(){const c=new HitomezashiPattern({canvas:$("#output-canvas")}),i=(new GenerateButton({element:$("#generate-button"),onClick:e}),new DownloadButton({element:$("#download-button"),wilson:c.wilson,filename:"a-hitomezashi-pattern.png"}),$("#resolution-input")),p=$("#grid-size-input"),d=$("#row-prob-input"),l=$("#col-prob-input"),u=$("#toggle-draw-boundaries-checkbox"),m=$("#toggle-draw-regions-checkbox"),h=$("#toggle-maximum-speed-checkbox");function e(){var e=parseInt(i.value||2e3),t=parseInt(p.value||50),o=parseFloat(d.value||.5),n=parseFloat(l.value||.5),r=u.checked,a=m.checked,s=h.checked;c.run({resolution:e,gridSize:t,rowProb:o,colProb:n,doDrawBoundaries:r,doDrawRegions:a,maximumSpeed:s})}u.checked=!0,m.checked=!0,Applet.listenToInputElements([i,p,d,l],e),c.setInputCaps([i,p],[4e3,200]),u.addEventListener("input",()=>{u.checked||m.checked||(m.checked=!0)}),m.addEventListener("input",()=>{u.checked||m.checked||(u.checked=!0)}),showPage()}export{load};