import { showPage } from "/scripts/src/load-page.min.min.mjs"
import{PlanePartitions}from"./class.min.min.min.mjs";function load(){const a=new PlanePartitions($("#output-canvas"),$("#numbers-canvas"));a.loadPromise.then(async()=>{var e=a.generateRandomPlanePartition();c.value=a.arrayToAscii(e),await a.addNewArray(0,e)});const r={"view-controls":$$(".view-controls-section"),"add-array":$$(".add-array-section"),"edit-array":$$(".edit-array-section"),"remove-array":$$(".remove-array-section"),algorithms:$$(".algorithms-section"),examples:$$(".examples-section")},t=$("#category-holder"),n=$("#canvas-landscape-left");let i="view-controls";["view-controls","add-array","edit-array","remove-array","algorithms"].forEach(e=>{e!==i&&r[e].forEach(e=>{e.style.opacity=0})}),r[i].forEach(e=>n.appendChild(e)),Page.Load.TextButtons.equalize(),setTimeout(Page.Load.TextButtons.equalize,10);const s=$("#category-selector-dropdown"),e=$("#resolution-input");var o=$("#show-dimers-button"),l=$("#switch-view-button");const d=$("#maximum-speed-checkbox"),c=$("#array-data-textarea");var u=$("#add-array-button");const v=$("#edit-array-textarea"),m=$("#edit-array-index-input");var p=$("#edit-array-button");const y=$("#remove-array-index-input");var h=$("#remove-array-button");const E=$("#algorithm-index-input");var g=$("#hillman-grassl-button"),k=$("#hillman-grassl-inverse-button"),L=$("#pak-button"),b=$("#pak-inverse-button"),w=$("#sulzgruber-button"),x=$("#sulzgruber-inverse-button"),A=$("#rsk-button"),I=$("#rsk-inverse-button"),T=$("#example-1-button"),f=$("#example-2-button"),P=$("#example-3-button"),z=$("#download-button");a.setInputCaps([e],[3e3]),s.addEventListener("input",async()=>{var e;await Promise.all(Array.from(r[i]).map(e=>changeOpacity(e,0,Site.opacityAnimationTime))),r[i].forEach(e=>t.appendChild(e)),r[i].forEach(e=>e.classList.remove("move-to-left")),r[i].forEach(e=>e.classList.remove("move-to-right")),i=s.value,r[i].forEach(e=>n.appendChild(e)),Page.Load.TextButtons.equalize(),setTimeout(Page.Load.TextButtons.equalize,10),"edit-array"===i&&(e=parseInt(m.value||0))<a.arrays.length&&0<=e&&(v.value=a.arrayToAscii(a.arrays[e].numbers)),r[i].forEach(e=>changeOpacity(e,1,Site.opacityAnimationTime))}),e.addEventListener("input",()=>{a.resolution=parseInt(e.value||2e3),a.renderer.setSize(a.resolution,a.resolution,!1)}),o.addEventListener("click",()=>{a.dimersShown?a.hideDimers():a.showDimers()}),l.addEventListener("click",()=>{a.in2dView?a.showHexView():a.show2dView()}),d.addEventListener("input",()=>{a.animationTime=d.checked?60:600}),u.addEventListener("click",()=>{a.addNewArray(a.arrays.length,a.parseArray(c.value))}),m.addEventListener("input",()=>{var e=parseInt(m.value||0);e>=a.arrays.length||e<0||(a.editArrayTextareaElement.value=a.arrayToAscii(a.arrays[e].numbers))}),p.addEventListener("click",async()=>{var e=parseInt(m.value||0);await a.editArray(e,a.parseArray(v.value)),v.value=a.arrayToAscii(a.arrays[e].numbers)}),h.addEventListener("click",()=>{a.removeArray(parseInt(y.value))}),g.addEventListener("click",()=>a.runAlgorithm("hillmanGrassl",parseInt(E.value))),k.addEventListener("click",()=>a.runAlgorithm("hillmanGrasslInverse",parseInt(E.value))),L.addEventListener("click",()=>a.runAlgorithm("pak",parseInt(E.value))),b.addEventListener("click",()=>a.runAlgorithm("pakInverse",parseInt(E.value))),w.addEventListener("click",()=>a.runAlgorithm("sulzgruber",parseInt(E.value))),x.addEventListener("click",()=>a.runAlgorithm("sulzgruberInverse",parseInt(E.value))),A.addEventListener("click",()=>a.runAlgorithm("rsk",parseInt(E.value))),I.addEventListener("click",()=>a.runAlgorithm("rskInverse",parseInt(E.value))),T.addEventListener("click",()=>a.runExample(1)),f.addEventListener("click",()=>a.runExample(2)),P.addEventListener("click",()=>a.runExample(3)),z.addEventListener("click",()=>a.needDownload=!0),showPage()}export{load};