import{PlanePartitions}from"./class.min.mjs";import{changeOpacity}from"/scripts/src/animation.min.mjs";import{equalizeTextButtons}from"/scripts/src/buttons.min.mjs";import{equalizeAppletColumns}from"/scripts/src/layout.min.mjs";import{showPage}from"/scripts/src/load-page.min.mjs";import{$,$$}from"/scripts/src/main.min.mjs";function load(){const t=new PlanePartitions({canvas:$("#output-canvas"),numbersCanvas:$("#numbers-canvas")}),a=$("#category-selector-dropdown"),e=$("#resolution-input"),r=$("#show-dimers-button"),n=$("#switch-view-button"),i=$("#maximum-speed-checkbox"),s=$("#array-data-textarea");var o=$("#add-array-button");const l=$("#edit-array-textarea"),u=$("#edit-array-index-input");var d=$("#edit-array-button");const c=$("#remove-array-index-input");var m=$("#remove-array-button");const v=$("#algorithm-index-input");var p=$("#hillman-grassl-button"),h=$("#hillman-grassl-inverse-button"),w=$("#pak-button"),y=$("#pak-inverse-button"),g=$("#sulzgruber-button"),E=$("#sulzgruber-inverse-button"),b=$("#rsk-button"),k=$("#rsk-inverse-button"),x=$("#example-1-button"),L=$("#example-2-button"),A=$("#example-3-button"),P=$("#download-button");t.setInputCaps([e],[3e3]);const I={"view-controls":$$(".view-controls-section"),"add-array":$$(".add-array-section"),"edit-array":$$(".edit-array-section"),"remove-array":$$(".remove-array-section"),algorithms:$$(".algorithms-section"),examples:$$(".examples-section")},f=$("#category-holder"),T=$("#canvas-landscape-left");let z="view-controls";async function C(dimersShown=t.dimersShown){await changeOpacity(r,0),r.textContent=dimersShown?"Show Dimers":"Hide Dimers",await changeOpacity(r,1)}async function S(in2dView=t.in2dView){await changeOpacity(n,0),n.textContent=in2dView?"Show 2D View":"Show Hex View",await changeOpacity(n,1)}I[z].forEach(element=>T.appendChild(element)),equalizeTextButtons(),setTimeout(equalizeTextButtons,10),a.addEventListener("input",()=>{var e;I[z].forEach(element=>f.appendChild(element)),I[z].forEach(element=>element.classList.remove("move-to-left")),I[z].forEach(element=>element.classList.remove("move-to-right")),z="none"===a.value?"view-controls":a.value,I[z].forEach(element=>T.appendChild(element)),equalizeTextButtons(),setTimeout(equalizeTextButtons,10),equalizeAppletColumns(),setTimeout(equalizeAppletColumns,10),"edit-array"===z&&(e=parseInt(u.value||0))<t.arrays.length&&0<=e&&(l.value=PlanePartitions.arrayToAscii(t.arrays[e].numbers))}),e.addEventListener("input",()=>{t.resolution=parseInt(e.value||2e3),t.renderer.setSize(t.resolution,t.resolution,!1)}),r.addEventListener("click",()=>{C(),!t.dimersShown&&t.in2dView&&S(),t.dimersShown?t.hideDimers():t.showDimers()}),n.addEventListener("click",()=>{S(),t.dimersShown&&!t.in2dView&&C(),t.in2dView?t.showHexView():t.show2dView()}),i.addEventListener("input",()=>{t.animationTime=i.checked?60:600}),o.addEventListener("click",()=>{t.addNewArray(t.arrays.length,PlanePartitions.parseArray(s.value))}),u.addEventListener("input",()=>{var e=parseInt(u.value||0);e>=t.arrays.length||e<0||(t.editArrayTextareaElement.value=PlanePartitions.arrayToAscii(t.arrays[e].numbers))}),d.addEventListener("click",async()=>{var e=parseInt(u.value||0);await t.editArray(e,PlanePartitions.parseArray(l.value)),l.value=PlanePartitions.arrayToAscii(t.arrays[e].numbers)}),m.addEventListener("click",()=>{t.removeArray(parseInt(c.value))}),p.addEventListener("click",()=>t.runAlgorithm("hillmanGrassl",parseInt(v.value))),h.addEventListener("click",()=>t.runAlgorithm("hillmanGrasslInverse",parseInt(v.value))),w.addEventListener("click",()=>t.runAlgorithm("pak",parseInt(v.value))),y.addEventListener("click",()=>t.runAlgorithm("pakInverse",parseInt(v.value))),g.addEventListener("click",()=>t.runAlgorithm("sulzgruber",parseInt(v.value))),E.addEventListener("click",()=>t.runAlgorithm("sulzgruberInverse",parseInt(v.value))),b.addEventListener("click",()=>t.runAlgorithm("rsk",parseInt(v.value))),k.addEventListener("click",()=>t.runAlgorithm("rskInverse",parseInt(v.value))),x.addEventListener("click",()=>t.runExample(1)),L.addEventListener("click",()=>t.runExample(2)),A.addEventListener("click",()=>t.runExample(3)),P.addEventListener("click",()=>t.needDownload=!0);o=PlanePartitions.generateRandomPlanePartition();s.value=PlanePartitions.arrayToAscii(o),t.addNewArray(0,o),showPage()}export{load};