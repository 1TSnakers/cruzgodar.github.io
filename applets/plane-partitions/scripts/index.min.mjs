import{PlanePartitions}from"./class.min.mjs";import{changeOpacity}from"/scripts/src/animation.min.mjs";import{equalizeTextButtons}from"/scripts/src/buttons.min.mjs";import{showPage}from"/scripts/src/load-page.min.mjs";import{$,$$}from"/scripts/src/main.min.mjs";function load(){const a=new PlanePartitions($("#output-canvas"),$("#numbers-canvas")),r=$("#category-selector-dropdown"),e=$("#resolution-input");var t=$("#show-dimers-button"),n=$("#switch-view-button");const s=$("#maximum-speed-checkbox"),i=$("#array-data-textarea");var o=$("#add-array-button");const l=$("#edit-array-textarea"),c=$("#edit-array-index-input");var d=$("#edit-array-button");const u=$("#remove-array-index-input");var v=$("#remove-array-button");const m=$("#algorithm-index-input");var p=$("#hillman-grassl-button"),h=$("#hillman-grassl-inverse-button"),y=$("#pak-button"),E=$("#pak-inverse-button"),g=$("#sulzgruber-button"),b=$("#sulzgruber-inverse-button"),k=$("#rsk-button"),w=$("#rsk-inverse-button"),x=$("#example-1-button"),L=$("#example-2-button"),A=$("#example-3-button"),I=$("#download-button");a.setInputCaps([e],[3e3]),a.loadPromise.then(async()=>{var e=a.generateRandomPlanePartition();i.value=a.arrayToAscii(e),await a.addNewArray(0,e)});const f={"view-controls":$$(".view-controls-section"),"add-array":$$(".add-array-section"),"edit-array":$$(".edit-array-section"),"remove-array":$$(".remove-array-section"),algorithms:$$(".algorithms-section"),examples:$$(".examples-section")},T=$("#category-holder"),z=$("#canvas-landscape-left");let P="view-controls";["view-controls","add-array","edit-array","remove-array","algorithms"].forEach(e=>{e!==P&&f[e].forEach(e=>{e.style.opacity=0})}),f[P].forEach(e=>z.appendChild(e)),equalizeTextButtons(),setTimeout(equalizeTextButtons,10),r.addEventListener("input",async()=>{var e;await Promise.all(Array.from(f[P]).map(e=>changeOpacity(e,0))),f[P].forEach(e=>T.appendChild(e)),f[P].forEach(e=>e.classList.remove("move-to-left")),f[P].forEach(e=>e.classList.remove("move-to-right")),P=r.value,f[P].forEach(e=>z.appendChild(e)),equalizeTextButtons(),setTimeout(equalizeTextButtons,10),"edit-array"===P&&(e=parseInt(c.value||0))<a.arrays.length&&0<=e&&(l.value=a.arrayToAscii(a.arrays[e].numbers)),f[P].forEach(e=>changeOpacity(e,1))}),e.addEventListener("input",()=>{a.resolution=parseInt(e.value||2e3),a.renderer.setSize(a.resolution,a.resolution,!1)}),t.addEventListener("click",()=>{a.dimersShown?a.hideDimers():a.showDimers()}),n.addEventListener("click",()=>{a.in2dView?a.showHexView():a.show2dView()}),s.addEventListener("input",()=>{a.animationTime=s.checked?60:600}),o.addEventListener("click",()=>{a.addNewArray(a.arrays.length,a.parseArray(i.value))}),c.addEventListener("input",()=>{var e=parseInt(c.value||0);e>=a.arrays.length||e<0||(a.editArrayTextareaElement.value=a.arrayToAscii(a.arrays[e].numbers))}),d.addEventListener("click",async()=>{var e=parseInt(c.value||0);await a.editArray(e,a.parseArray(l.value)),l.value=a.arrayToAscii(a.arrays[e].numbers)}),v.addEventListener("click",()=>{a.removeArray(parseInt(u.value))}),p.addEventListener("click",()=>a.runAlgorithm("hillmanGrassl",parseInt(m.value))),h.addEventListener("click",()=>a.runAlgorithm("hillmanGrasslInverse",parseInt(m.value))),y.addEventListener("click",()=>a.runAlgorithm("pak",parseInt(m.value))),E.addEventListener("click",()=>a.runAlgorithm("pakInverse",parseInt(m.value))),g.addEventListener("click",()=>a.runAlgorithm("sulzgruber",parseInt(m.value))),b.addEventListener("click",()=>a.runAlgorithm("sulzgruberInverse",parseInt(m.value))),k.addEventListener("click",()=>a.runAlgorithm("rsk",parseInt(m.value))),w.addEventListener("click",()=>a.runAlgorithm("rskInverse",parseInt(m.value))),x.addEventListener("click",()=>a.runExample(1)),L.addEventListener("click",()=>a.runExample(2)),A.addEventListener("click",()=>a.runExample(3)),I.addEventListener("click",()=>a.needDownload=!0),showPage()}export{load};