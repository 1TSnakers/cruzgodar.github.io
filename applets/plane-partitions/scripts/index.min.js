!async function(){await Applet.load("plane-partitions");const a=new PlanePartitions($("#output-canvas"),$("#numbers-canvas"));a.loadPromise.then(async()=>{const b=a.generateRandomPlanePartition();k.value=a.arrayToAscii(b);await a.addNewArray(0,b)});const d={"view-controls":$$(".view-controls-section"),"add-array":$$(".add-array-section"),"edit-array":$$(".edit-array-section"),"remove-array":$$(".remove-array-section"),algorithms:$$(".algorithms-section"),examples:$$(".examples-section")},p=$("#category-holder"),
l=$("#canvas-landscape-left");let c="view-controls";["view-controls","add-array","edit-array","remove-array","algorithms"].forEach(b=>{b!==c&&d[b].forEach(q=>{q.style.opacity=0})});d[c].forEach(b=>l.appendChild(b));Page.Load.TextButtons.equalize();setTimeout(Page.Load.TextButtons.equalize,10);1<Page.Layout.aspectRatio&&Page.Layout.AppletColumns.equalize();const m=$("#category-selector-dropdown"),g=$("#resolution-input"),r=$("#show-dimers-button"),t=$("#switch-view-button"),n=$("#maximum-speed-checkbox"),
k=$("#array-data-textarea"),u=$("#add-array-button"),h=$("#edit-array-textarea"),f=$("#edit-array-index-input"),v=$("#edit-array-button"),w=$("#remove-array-index-input"),x=$("#remove-array-button"),e=$("#algorithm-index-input"),y=$("#hillman-grassl-button"),z=$("#hillman-grassl-inverse-button"),A=$("#pak-button"),B=$("#pak-inverse-button"),C=$("#sulzgruber-button"),D=$("#sulzgruber-inverse-button"),E=$("#rsk-button"),F=$("#rsk-inverse-button"),G=$("#example-1-button"),H=$("#example-2-button"),I=
$("#example-3-button"),J=$("#download-button");a.setInputCaps([g],[3E3]);m.addEventListener("input",async()=>{await Promise.all(Array.from(d[c]).map(b=>Page.Animate.changeOpacity(b,0,Site.opacityAnimationTime)));d[c].forEach(b=>p.appendChild(b));d[c].forEach(b=>b.classList.remove("move-to-left"));d[c].forEach(b=>b.classList.remove("move-to-right"));c=m.value;d[c].forEach(b=>l.appendChild(b));Page.Load.TextButtons.equalize();setTimeout(Page.Load.TextButtons.equalize,10);1<Page.Layout.aspectRatio&&
Page.Layout.AppletColumns.equalize();if("edit-array"===c){let b=parseInt(f.value||0);b<a.arrays.length&&0<=b&&(h.value=a.arrayToAscii(a.arrays[b].numbers))}d[c].forEach(b=>Page.Animate.changeOpacity(b,1,Site.opacityAnimationTime))});g.addEventListener("input",()=>{a.resolution=parseInt(g.value||2E3);a.renderer.setSize(a.resolution,a.resolution,!1)});r.addEventListener("click",()=>{a.dimersShown?a.hideDimers():a.showDimers()});t.addEventListener("click",()=>{a.in2dView?a.showHexView():a.show2dView()});
n.addEventListener("input",()=>{a.animationTime=n.checked?60:600});u.addEventListener("click",()=>{a.addNewArray(a.arrays.length,a.parseArray(k.value))});f.addEventListener("input",()=>{const b=parseInt(f.value||0);b>=a.arrays.length||0>b||(a.editArrayTextareaElement.value=a.arrayToAscii(a.arrays[b].numbers))});v.addEventListener("click",async()=>{const b=parseInt(f.value||0);await a.editArray(b,a.parseArray(h.value));h.value=a.arrayToAscii(a.arrays[b].numbers)});x.addEventListener("click",()=>{a.removeArray(parseInt(w.value))});
y.addEventListener("click",()=>a.runAlgorithm("hillmanGrassl",parseInt(e.value)));z.addEventListener("click",()=>a.runAlgorithm("hillmanGrasslInverse",parseInt(e.value)));A.addEventListener("click",()=>a.runAlgorithm("pak",parseInt(e.value)));B.addEventListener("click",()=>a.runAlgorithm("pakInverse",parseInt(e.value)));C.addEventListener("click",()=>a.runAlgorithm("sulzgruber",parseInt(e.value)));D.addEventListener("click",()=>a.runAlgorithm("sulzgruberInverse",parseInt(e.value)));E.addEventListener("click",
()=>a.runAlgorithm("rsk",parseInt(e.value)));F.addEventListener("click",()=>a.runAlgorithm("rskInverse",parseInt(e.value)));G.addEventListener("click",()=>a.runExample(1));H.addEventListener("click",()=>a.runExample(2));I.addEventListener("click",()=>a.runExample(3));J.addEventListener("click",()=>a.needDownload=!0);Page.show()}();
