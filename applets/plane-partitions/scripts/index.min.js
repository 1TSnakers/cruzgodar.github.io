"use strict";!async function(){await Site.load_applet("plane-partitions");let e=new PlanePartitions(Page.element.querySelector("#output-canvas"),Page.element.querySelector("#numbers-canvas"));e.load_promise.then(async()=>{let t=e.generate_random_plane_partition();c.value=e.array_to_ascii(t),await e.add_new_array(0,t)});let t={"view-controls":Page.element.querySelectorAll(".view-controls-section"),"add-array":Page.element.querySelectorAll(".add-array-section"),"edit-array":Page.element.querySelectorAll(".edit-array-section"),"remove-array":Page.element.querySelectorAll(".remove-array-section"),algorithms:Page.element.querySelectorAll(".algorithms-section"),examples:Page.element.querySelectorAll(".examples-section")},r=Page.element.querySelector("#category-holder"),a=Page.element.querySelector("#canvas-landscape-left"),l="view-controls";["view-controls","add-array","edit-array","remove-array","algorithms"].forEach(e=>{e!==l&&t[e].forEach(e=>{e.style.opacity=0})}),t[l].forEach(e=>a.appendChild(e)),Page.Load.TextButtons.equalize(),setTimeout(Page.Load.TextButtons.equalize,10),Page.Layout.aspect_ratio>1&&Page.Layout.AppletColumns.equalize();let n=Page.element.querySelector("#category-selector-dropdown"),o=Page.element.querySelector("#resolution-input"),i=Page.element.querySelector("#show-dimers-button"),u=Page.element.querySelector("#switch-view-button"),s=Page.element.querySelector("#maximum-speed-checkbox"),c=Page.element.querySelector("#array-data-textarea"),d=Page.element.querySelector("#add-array-button"),m=Page.element.querySelector("#edit-array-textarea"),y=Page.element.querySelector("#edit-array-index-input"),v=Page.element.querySelector("#edit-array-button"),p=Page.element.querySelector("#remove-array-index-input"),h=Page.element.querySelector("#remove-array-button"),q=Page.element.querySelector("#algorithm-index-input"),S=Page.element.querySelector("#hillman-grassl-button"),L=Page.element.querySelector("#hillman-grassl-inverse-button"),g=Page.element.querySelector("#pak-button"),E=Page.element.querySelector("#pak-inverse-button"),k=Page.element.querySelector("#sulzgruber-button"),b=Page.element.querySelector("#sulzgruber-inverse-button"),w=Page.element.querySelector("#rsk-button"),x=Page.element.querySelector("#rsk-inverse-button"),$=Page.element.querySelector("#example-1-button"),f=Page.element.querySelector("#example-2-button"),z=Page.element.querySelector("#example-3-button"),A=Page.element.querySelector("#download-button");n.addEventListener("input",async()=>{if(await Promise.all(Array.from(t[l]).map(e=>Page.Animate.change_opacity(e,0,Site.opacity_animation_time))),t[l].forEach(e=>r.appendChild(e)),t[l].forEach(e=>e.classList.remove("move-to-left")),t[l].forEach(e=>e.classList.remove("move-to-right")),t[l=n.value].forEach(e=>a.appendChild(e)),Page.Load.TextButtons.equalize(),setTimeout(Page.Load.TextButtons.equalize,10),Page.Layout.aspect_ratio>1&&Page.Layout.AppletColumns.equalize(),"edit-array"===l){let o=parseInt(y.value||0);o<e.arrays.length&&o>=0&&(m.value=e.array_to_ascii(e.arrays[o].numbers))}t[l].forEach(e=>Page.Animate.change_opacity(e,1,Site.opacity_animation_time))}),o.addEventListener("input",()=>{e.resolution=parseInt(o.value||2e3),e.renderer.setSize(e.resolution,e.resolution,!1)}),i.addEventListener("click",()=>{e.dimers_shown?e.hide_dimers():e.show_dimers()}),u.addEventListener("click",()=>{e.in_2d_view?e.show_hex_view():e.show_2d_view()}),s.addEventListener("input",()=>{e.animation_time=s.checked?60:600}),d.addEventListener("click",()=>{e.add_new_array(e.arrays.length,e.parse_array(c.value))}),y.addEventListener("input",()=>{let t=parseInt(y.value||0);!(t>=e.arrays.length)&&!(t<0)&&(e.edit_array_textarea_element.value=e.array_to_ascii(e.arrays[t].numbers))}),v.addEventListener("click",async()=>{let t=parseInt(y.value||0);await e.edit_array(t,e.parse_array(m.value)),m.value=e.array_to_ascii(e.arrays[t].numbers)}),h.addEventListener("click",()=>{e.remove_array(parseInt(p.value))}),S.addEventListener("click",()=>e.run_algorithm("hillman_grassl",parseInt(q.value))),L.addEventListener("click",()=>e.run_algorithm("hillman_grassl_inverse",parseInt(q.value))),g.addEventListener("click",()=>e.run_algorithm("pak",parseInt(q.value))),E.addEventListener("click",()=>e.run_algorithm("pak_inverse",parseInt(q.value))),k.addEventListener("click",()=>e.run_algorithm("sulzgruber",parseInt(q.value))),b.addEventListener("click",()=>e.run_algorithm("sulzgruber_inverse",parseInt(q.value))),w.addEventListener("click",()=>e.run_algorithm("rsk",parseInt(q.value))),x.addEventListener("click",()=>e.run_algorithm("rsk_inverse",parseInt(q.value))),$.addEventListener("click",()=>e.run_example(1)),f.addEventListener("click",()=>e.run_example(2)),z.addEventListener("click",()=>e.run_example(3)),A.addEventListener("click",()=>e.need_download=!0),Page.show()}();