"use strict";!async function(){await Site.loadApplet("plane-partitions");let e=new PlanePartitions(Page.element.querySelector("#output-canvas"),Page.element.querySelector("#numbers-canvas"));e.loadPromise.then(async()=>{let t=e.generateRandomPlanePartition();s.value=e.arrayToAscii(t),await e.addNewArray(0,t)});let t={"view-controls":Page.element.querySelectorAll(".view-controls-section"),"add-array":Page.element.querySelectorAll(".add-array-section"),"edit-array":Page.element.querySelectorAll(".edit-array-section"),"remove-array":Page.element.querySelectorAll(".remove-array-section"),algorithms:Page.element.querySelectorAll(".algorithms-section"),examples:Page.element.querySelectorAll(".examples-section")},r=Page.element.querySelector("#category-holder"),a=Page.element.querySelector("#canvas-landscape-left"),l="view-controls";["view-controls","add-array","edit-array","remove-array","algorithms"].forEach(e=>{e!==l&&t[e].forEach(e=>{e.style.opacity=0})}),t[l].forEach(e=>a.appendChild(e)),Page.Load.TextButtons.equalize(),setTimeout(Page.Load.TextButtons.equalize,10),Page.Layout.aspectRatio>1&&Page.Layout.AppletColumns.equalize();let n=Page.element.querySelector("#category-selector-dropdown"),o=Page.element.querySelector("#resolution-input"),i=Page.element.querySelector("#show-dimers-button"),u=Page.element.querySelector("#switch-view-button"),c=Page.element.querySelector("#maximum-speed-checkbox"),s=Page.element.querySelector("#array-data-textarea"),d=Page.element.querySelector("#add-array-button"),m=Page.element.querySelector("#edit-array-textarea"),y=Page.element.querySelector("#edit-array-index-input"),v=Page.element.querySelector("#edit-array-button"),p=Page.element.querySelector("#remove-array-index-input"),h=Page.element.querySelector("#remove-array-button"),q=Page.element.querySelector("#algorithm-index-input"),S=Page.element.querySelector("#hillman-grassl-button"),E=Page.element.querySelector("#hillman-grassl-inverse-button"),A=Page.element.querySelector("#pak-button"),L=Page.element.querySelector("#pak-inverse-button"),g=Page.element.querySelector("#sulzgruber-button"),k=Page.element.querySelector("#sulzgruber-inverse-button"),b=Page.element.querySelector("#rsk-button"),w=Page.element.querySelector("#rsk-inverse-button"),x=Page.element.querySelector("#example-1-button"),$=Page.element.querySelector("#example-2-button"),f=Page.element.querySelector("#example-3-button"),T=Page.element.querySelector("#download-button");n.addEventListener("input",async()=>{if(await Promise.all(Array.from(t[l]).map(e=>Page.Animate.changeOpacity(e,0,Site.opacityAnimationTime))),t[l].forEach(e=>r.appendChild(e)),t[l].forEach(e=>e.classList.remove("move-to-left")),t[l].forEach(e=>e.classList.remove("move-to-right")),t[l=n.value].forEach(e=>a.appendChild(e)),Page.Load.TextButtons.equalize(),setTimeout(Page.Load.TextButtons.equalize,10),Page.Layout.aspectRatio>1&&Page.Layout.AppletColumns.equalize(),"edit-array"===l){let o=parseInt(y.value||0);o<e.arrays.length&&o>=0&&(m.value=e.arrayToAscii(e.arrays[o].numbers))}t[l].forEach(e=>Page.Animate.changeOpacity(e,1,Site.opacityAnimationTime))}),o.addEventListener("input",()=>{e.resolution=parseInt(o.value||2e3),e.renderer.setSize(e.resolution,e.resolution,!1)}),i.addEventListener("click",()=>{e.dimersShown?e.hideDimers():e.showDimers()}),u.addEventListener("click",()=>{e.in2dView?e.showHexView():e.show2dView()}),c.addEventListener("input",()=>{e.animationTime=c.checked?60:600}),d.addEventListener("click",()=>{e.addNewArray(e.arrays.length,e.parseArray(s.value))}),y.addEventListener("input",()=>{let t=parseInt(y.value||0);!(t>=e.arrays.length)&&!(t<0)&&(e.editArrayTextareaElement.value=e.arrayToAscii(e.arrays[t].numbers))}),v.addEventListener("click",async()=>{let t=parseInt(y.value||0);await e.editArray(t,e.parseArray(m.value)),m.value=e.arrayToAscii(e.arrays[t].numbers)}),h.addEventListener("click",()=>{e.removeArray(parseInt(p.value))}),S.addEventListener("click",()=>e.runAlgorithm("hillmanGrassl",parseInt(q.value))),E.addEventListener("click",()=>e.runAlgorithm("hillmanGrasslInverse",parseInt(q.value))),A.addEventListener("click",()=>e.runAlgorithm("pak",parseInt(q.value))),L.addEventListener("click",()=>e.runAlgorithm("pakInverse",parseInt(q.value))),g.addEventListener("click",()=>e.runAlgorithm("sulzgruber",parseInt(q.value))),k.addEventListener("click",()=>e.runAlgorithm("sulzgruberInverse",parseInt(q.value))),b.addEventListener("click",()=>e.runAlgorithm("rsk",parseInt(q.value))),w.addEventListener("click",()=>e.runAlgorithm("rskInverse",parseInt(q.value))),x.addEventListener("click",()=>e.runExample(1)),$.addEventListener("click",()=>e.runExample(2)),f.addEventListener("click",()=>e.runExample(3)),T.addEventListener("click",()=>e.needDownload=!0),Page.show()}();