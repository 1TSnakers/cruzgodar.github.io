!function(){"use strict";let e=document.querySelector("#sudoku-grid").getContext("2d"),t=[],r=null,o=!1;function l(r){r?(e.fillStyle="rgb(255, 255, 255)",e.fillRect(0,0,1809,1809),e.fillStyle="rgb(0, 0, 0)"):(e.clearRect(0,0,1809,1809),1===Site.Settings.url_vars.theme?1===Site.Settings.url_vars.contrast?e.fillStyle="rgb(255, 255, 255)":e.fillStyle="rgb(192, 192, 192)":1===Site.Settings.url_vars.contrast?e.fillStyle="rgb(0, 0, 0)":e.fillStyle="rgb(64, 64, 64)");for(let t=0;t<=9;t++)t%3==0&&(e.fillRect(200*t,0,10,1818),e.fillRect(0,200*t,1818,10)),e.fillRect(200*t+4,0,2,1818),e.fillRect(0,200*t+4,1818,2);for(let r=0;r<9;r++)for(let o=0;o<9;o++)e.font="150px sans-serif",0!==t[r][o]&&e.fillText(t[r][o],200*o+64,200*r+156)}document.querySelector("#generate-button").addEventListener("click",function(){for(let e=0;e<9;e++){t.push([]);for(let r=0;r<9;r++)t[e].push(0)}if(o)document.querySelector("#sudoku-grid").style.opacity=0,setTimeout(function(){e.clearRect(0,0,1809,1809)},300);else{let t=1809;document.querySelector("#sudoku-grid").setAttribute("width",t),document.querySelector("#sudoku-grid").setAttribute("height",t),e.clearRect(0,0,t,t)}try{r.terminate()}catch(e){}r=DEBUG?new Worker("/applets/sudoku-generator/scripts/worker.js"):new Worker("/applets/sudoku-generator/scripts/worker.min.js");Page.temporary_web_workers.push(r),r.onmessage=function(e){"log"===e.data[0]?console.log(...e.data.slice(1)):(t=e.data[0],l(!1),document.querySelector("#sudoku-grid").style.opacity=1,o=!0)},o?setTimeout(function(){r.postMessage([])},300):r.postMessage([])}),document.querySelector("#download-button").addEventListener("click",function(){document.querySelector("#sudoku-grid").style.opacity=0,l(!0);let e=document.createElement("a");e.download="sudoku.png",e.href=document.querySelector("#sudoku-grid").toDataURL(),e.click(),e.remove(),l(!1),document.querySelector("#sudoku-grid").style.opacity=1})}();