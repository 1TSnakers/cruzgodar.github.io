!function(){"use strict";let e=new Wilson(Page.element.querySelector("#output-canvas"),{renderer:"cpu",canvas_width:1e3,canvas_height:1e3,use_fullscreen:!0,use_fullscreen_button:!0,enter_fullscreen_button_icon_path:"/graphics/general-icons/enter-fullscreen.png",exit_fullscreen_button_icon_path:"/graphics/general-icons/exit-fullscreen.png"}),n=null,t=null;Page.element.querySelector("#generate-button").addEventListener("click",a);let r=Page.element.querySelector("#grid-size-input"),s=Page.element.querySelector("#num-vertices-input");r.addEventListener("keydown",e=>{13===e.keyCode&&a()}),s.addEventListener("keydown",e=>{13===e.keyCode&&a()});function a(){let a=parseInt(s.value||5);n=parseInt(r.value||1e3),e.change_canvas_size(n,n);try{t.terminate()}catch(c){}t=DEBUG?new Worker("/applets/chaos-game/scripts/worker.js"):new Worker("/applets/chaos-game/scripts/worker.min.js"),Page.temporary_web_workers.push(t),t.onmessage=function(n){e.render.draw_frame(n.data[0])},t.postMessage([a,n])}Page.element.querySelector("#download-button").addEventListener("click",()=>{e.download_frame("a-chaos-game.png")}),Page.show()}();