class WilsonsAlgorithm extends Applet{webWorker=null;constructor(b){super(b);this.wilson=new Wilson(b,{renderer:"cpu",canvasWidth:1E3,canvasHeight:1E3,useFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png"})}run(b,f,e,g=!1){let h=null;const d=e?b:2*b+1,a=Math.ceil(Math.min(window.innerWidth,window.innerHeight)/d);this.wilson.changeCanvasSize(d*a,d*a);this.wilson.ctx.fillStyle=
"rgb(0, 0, 0)";this.wilson.ctx.fillRect(0,0,d*a,d*a);try{this.webWorker.terminate()}catch(c){}this.webWorker=new Worker(`/applets/wilsons-algorithm/scripts/worker.${DEBUG?"":"min."}js`);this.workers.push(this.webWorker);this.webWorker.onmessage=c=>{clearTimeout(h);this.wilson.ctx.fillStyle=c.data[4];this.wilson.ctx.fillRect(c.data[0]*a,c.data[1]*a,c.data[2]*a,c.data[3]*a)};g||(h=setTimeout(()=>{try{this.webWorker.terminate()}catch(c){}this.run(b,f,e,!0)},3E3));this.webWorker.postMessage([b,f,e,g])}}
;
