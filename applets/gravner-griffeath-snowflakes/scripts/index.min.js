!function(){"use strict";let e=new Wilson(Page.element.querySelector("#output-canvas"),{renderer:"cpu",canvas_width:1e3,canvas_height:1e3,use_fullscreen:!0,use_fullscreen_button:!0,enter_fullscreen_button_icon_path:"/graphics/general-icons/enter-fullscreen.png",exit_fullscreen_button_icon_path:"/graphics/general-icons/exit-fullscreen.png"}),t=null;Page.element.querySelector("#generate-button").addEventListener("click",function i(){let $=parseInt(n.value||200),m=parseFloat(a.value||.635),p=parseFloat(l.value||1.6),f=parseFloat(r.value||.4),v=parseFloat(u.value||.025),g=parseFloat(o.value||.0025),d=parseFloat(c.value||.015),h=parseFloat(s.value||5e-4);e.change_canvas_size(2*$,2*$),e.ctx.fillStyle="rgb(0, 0, 0)",e.ctx.fillRect(0,0,2*$,2*$);try{t.terminate()}catch(y){}t=DEBUG?new Worker("/applets/gravner-griffeath-snowflakes/scripts/worker.js"):new Worker("/applets/gravner-griffeath-snowflakes/scripts/worker.min.js"),Page.temporary_web_workers.push(t),t.onmessage=function(t){let n=e.ctx.getImageData(0,0,2*$,2*$),a=n.data;for(let l=0;l<$;l++)for(let r=0;r<$;r++){let u=127*t.data[0][r][l];if(0!==u){if(r%2==0){let o=4*(2*l)*2*$+4*(2*r);a[o]=u,a[o+1]=u,a[o+2]=u,a[o+3]=255,a[o+4]=u,a[o+5]=u,a[o+6]=u,a[o+7]=255,a[o=4*(2*l+1)*2*$+4*(2*r)]=u,a[o+1]=u,a[o+2]=u,a[o+3]=255,a[o+4]=u,a[o+5]=u,a[o+6]=u,a[o+7]=255}else{let c=4*(2*l+1)*2*$+4*(2*r);a[c]=u,a[c+1]=u,a[c+2]=u,a[c+3]=255,a[c+4]=u,a[c+5]=u,a[c+6]=u,a[c+7]=255,a[c=4*(2*l+2)*2*$+4*(2*r)]=u,a[c+1]=u,a[c+2]=u,a[c+3]=255,a[c+4]=u,a[c+5]=u,a[c+6]=u,a[c+7]=255}}}e.ctx.putImageData(n,0,0)},t.postMessage([$,m,p,f,v,g,d,h])});Page.element.querySelector("#randomize-parameters-button").addEventListener("click",function e(){a.value=.9*(Math.random()+.5),l.value=1.6*(Math.random()+.5),r.value=.4*(Math.random()+.5),u.value=.025*(Math.random()+.5),o.value=.0025*(Math.random()+.5),c.value=.015*(Math.random()+.5),s.value=5e-4*(Math.random()+.5)});Page.element.querySelector("#download-button").addEventListener("click",()=>{e.download_frame("a-gravner-griffeath-snowflake.png")});let n=Page.element.querySelector("#grid-size-input"),a=Page.element.querySelector("#rho-input"),l=Page.element.querySelector("#beta-input"),r=Page.element.querySelector("#alpha-input"),u=Page.element.querySelector("#theta-input"),o=Page.element.querySelector("#kappa-input"),c=Page.element.querySelector("#mu-input"),s=Page.element.querySelector("#gamma-input");Page.show()}();