!function(){"use strict";let e=document.querySelector("#output-canvas").getContext("2d",{alpha:!1}),t=null;document.querySelector("#generate-button").addEventListener("click",function(){let a=parseInt(document.querySelector("#grid-size-input").value||200),r=parseFloat(document.querySelector("#rho-input").value||.5),o=parseFloat(document.querySelector("#beta-input").value||1.3),u=parseFloat(document.querySelector("#alpha-input").value||.08),l=parseFloat(document.querySelector("#theta-input").value||.025),n=parseFloat(document.querySelector("#kappa-input").value||.003),c=parseFloat(document.querySelector("#mu-input").value||.07),s=parseFloat(document.querySelector("#gamma-input").value||5e-5);document.querySelector("#output-canvas").setAttribute("width",2*a),document.querySelector("#output-canvas").setAttribute("height",2*a),e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,2*a,2*a);try{t.terminate()}catch(e){}t=DEBUG?new Worker("/applets/gravner-griffeath-snowflakes/scripts/worker.js"):new Worker("/applets/gravner-griffeath-snowflakes/scripts/worker.min.js");temporary_web_workers.push(t),t.onmessage=function(t){if("log"===t.data[0])return void console.log(t.data);let r=e.getImageData(0,0,2*a,2*a),o=r.data;for(let e=0;e<a;e++)for(let r=0;r<a;r++){let u=96*t.data[0][r][e];if(0!==u)if(r%2==0){let t=2*e*4*2*a+2*r*4;o[t]=u,o[t+1]=u,o[t+2]=u,o[t+3]=255,o[t+4]=u,o[t+5]=u,o[t+6]=u,o[t+7]=255,o[t=4*(2*e+1)*2*a+2*r*4]=u,o[t+1]=u,o[t+2]=u,o[t+3]=255,o[t+4]=u,o[t+5]=u,o[t+6]=u,o[t+7]=255}else{let t=4*(2*e+1)*2*a+2*r*4;o[t]=u,o[t+1]=u,o[t+2]=u,o[t+3]=255,o[t+4]=u,o[t+5]=u,o[t+6]=u,o[t+7]=255,o[t=4*(2*e+2)*2*a+2*r*4]=u,o[t+1]=u,o[t+2]=u,o[t+3]=255,o[t+4]=u,o[t+5]=u,o[t+6]=u,o[t+7]=255}}e.putImageData(r,0,0)},t.postMessage([a,r,o,u,l,n,c,s])}),document.querySelector("#download-button").addEventListener("click",function(){let e=document.createElement("a");e.download="gravner-griffeath-snowflakes.png",e.href=document.querySelector("#output-canvas").toDataURL(),e.click(),e.remove()})}();