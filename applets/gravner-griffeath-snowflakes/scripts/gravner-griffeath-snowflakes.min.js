!function(){"use strict";let e=new Wilson(document.querySelector("#output-canvas"),{renderer:"cpu",canvas_width:1e3,canvas_height:1e3,use_fullscreen:!0,use_fullscreen_button:!0,enter_fullscreen_button_icon_path:"/graphics/general-icons/enter-fullscreen.png",exit_fullscreen_button_icon_path:"/graphics/general-icons/exit-fullscreen.png"}),t=null;document.querySelector("#generate-button").addEventListener("click",function(){let i=parseInt(a.value||200),p=parseFloat(r.value||.635),d=parseFloat(n.value||1.6),m=parseFloat(l.value||.4),f=parseFloat(o.value||.025),g=parseFloat(u.value||.0025),v=parseFloat(c.value||.015),h=parseFloat(s.value||5e-4);e.change_canvas_size(2*i,2*i),e.ctx.fillStyle="rgb(0, 0, 0)",e.ctx.fillRect(0,0,2*i,2*i);try{t.terminate()}catch(e){}t=DEBUG?new Worker("/applets/gravner-griffeath-snowflakes/scripts/worker.js"):new Worker("/applets/gravner-griffeath-snowflakes/scripts/worker.min.js");Page.temporary_web_workers.push(t),t.onmessage=function(t){let a=e.ctx.getImageData(0,0,2*i,2*i),r=a.data;for(let e=0;e<i;e++)for(let a=0;a<i;a++){let n=127*t.data[0][a][e];if(0!==n)if(a%2==0){let t=2*e*4*2*i+2*a*4;r[t]=n,r[t+1]=n,r[t+2]=n,r[t+3]=255,r[t+4]=n,r[t+5]=n,r[t+6]=n,r[t+7]=255,r[t=4*(2*e+1)*2*i+2*a*4]=n,r[t+1]=n,r[t+2]=n,r[t+3]=255,r[t+4]=n,r[t+5]=n,r[t+6]=n,r[t+7]=255}else{let t=4*(2*e+1)*2*i+2*a*4;r[t]=n,r[t+1]=n,r[t+2]=n,r[t+3]=255,r[t+4]=n,r[t+5]=n,r[t+6]=n,r[t+7]=255,r[t=4*(2*e+2)*2*i+2*a*4]=n,r[t+1]=n,r[t+2]=n,r[t+3]=255,r[t+4]=n,r[t+5]=n,r[t+6]=n,r[t+7]=255}}e.ctx.putImageData(a,0,0)},t.postMessage([i,p,d,m,f,g,v,h])}),document.querySelector("#randomize-parameters-button").addEventListener("click",function(){r.value=.9*(Math.random()+.5),n.value=1.6*(Math.random()+.5),l.value=.4*(Math.random()+.5),o.value=.025*(Math.random()+.5),u.value=.0025*(Math.random()+.5),c.value=.015*(Math.random()+.5),s.value=5e-4*(Math.random()+.5)}),document.querySelector("#download-button").addEventListener("click",()=>{e.download_frame("a-gravner-griffeath-snowflake.png")});let a=document.querySelector("#grid-size-input"),r=document.querySelector("#rho-input"),n=document.querySelector("#beta-input"),l=document.querySelector("#alpha-input"),o=document.querySelector("#theta-input"),u=document.querySelector("#kappa-input"),c=document.querySelector("#mu-input"),s=document.querySelector("#gamma-input")}();