!function(){"use strict";let e=document.querySelector("#output-canvas").getContext("2d",{alpha:!1}),t=null;document.querySelector("#generate-button").addEventListener("click",a);let u=document.querySelectorAll("#julia-size-input, #num-julias-input");for(let e=0;e<u.length;e++)u[e].addEventListener("keydown",(function(e){13===e.keyCode&&a()}));function a(){let u=parseInt(document.querySelector("#julia-size-input").value)||20,a=parseInt(document.querySelector("#num-julias-input").value)||50;u<20&&(u=20);let n=a*u,o=-2.25,r=1.5,c=0,s=0;document.querySelector("#output-canvas").setAttribute("width",n),document.querySelector("#output-canvas").setAttribute("height",n);try{t.terminate()}catch(e){}t=DEBUG?new Worker("/applets/julia-set-mosaic/scripts/worker.js"):new Worker("/applets/julia-set-mosaic/scripts/worker.min.js"),temporary_web_workers.push(t),t.onmessage=function(n){let l=e.getImageData(u*s,u*c,u,u),i=l.data;for(let e=0;e<u;e++)for(let t=0;t<u;t++){let a=n.data[0][e][t],o=4*e*u+4*t;i[o]=0,i[o+1]=a,i[o+2]=a,i[o+3]=255}e.putImageData(l,u*s,u*c),s++,s===a?(s=0,o=-2.25,c++,r-=3/a):o+=3/a,c!==a&&t.postMessage([o,r,u,100])},t.postMessage([o,r,u,100])}document.querySelector("#download-button").addEventListener("click",(function(){let e=document.createElement("a");e.download="julia-set-mosaic.png",e.href=document.querySelector("#output-canvas").toDataURL(),e.click(),e.remove()})),applet_canvases_to_resize=[document.querySelector("#output-canvas")],set_up_canvas_resizer()}();