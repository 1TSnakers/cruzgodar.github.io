class KickedRotator extends Applet{webWorker=null;hues=[];values=[];numWrites=[];constructor(a){super(a);this.wilson=new Wilson(a,{renderer:"cpu",canvasWidth:1E3,canvasHeight:1E3,useFullscreen:!0,useFullscreenButton:!0,enterFullscreenButtonIconPath:"/graphics/general-icons/enter-fullscreen.png",exitFullscreenButtonIconPath:"/graphics/general-icons/exit-fullscreen.png"})}run(a,h,k){let f=Array(a*a);for(let b=0;b<a;b++)for(let e=0;e<a;e++)f[a*b+e]=0;this.wilson.changeCanvasSize(a,a);this.wilson.ctx.fillStyle=
"rgb(0, 0, 0)";this.wilson.ctx.fillRect(0,0,a,a);try{this.webWorker.terminate()}catch(b){}this.webWorker=DEBUG?new Worker("/applets/kicked-rotator/scripts/worker.js"):new Worker("/applets/kicked-rotator/scripts/worker.min.js");this.workers.push(this.webWorker);this.webWorker.onmessage=b=>{let e=b.data[0];b=b.data[1];for(let c=0;c<a;c++)for(let d=0;d<a;d++)if(e[a*c+d]>f[a*c+d]){const g=this.wilson.utils.hsvToRgb(b,1,e[a*c+d]/255);this.wilson.ctx.fillStyle=`rgb(${g[0]}, ${g[1]}, ${g[2]})`;this.wilson.ctx.fillRect(d,
c,1,1);f[a*c+d]=e[a*c+d]}};this.webWorker.postMessage([a,h,k])}};
