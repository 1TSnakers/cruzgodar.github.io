!function(){"use strict";let e=new Wilson(Page.element.querySelector("#output-canvas"),{renderer:"cpu",canvas_width:1e3,canvas_height:1e3,use_fullscreen:!0,use_fullscreen_button:!0,enter_fullscreen_button_icon_path:"/graphics/general-icons/enter-fullscreen.png",exit_fullscreen_button_icon_path:"/graphics/general-icons/exit-fullscreen.png"}),t=null,n=[];Page.element.querySelector("#generate-button").addEventListener("click",o);let r=Page.element.querySelector("#grid-size-input"),l=Page.element.querySelector("#k-input"),a=Page.element.querySelector("#orbit-separation-input");function o(){let o=parseInt(r.value||500),c=parseFloat(l.value||.75),s=parseInt(a.value||3);n=new Array(o*o);for(let e=0;e<o;e++)for(let t=0;t<o;t++)n[o*e+t]=0;e.change_canvas_size(o,o),e.ctx.fillStyle="rgb(0, 0, 0)",e.ctx.fillRect(0,0,o,o);try{t.terminate()}catch(e){}t=DEBUG?new Worker("/applets/the-kicked-rotator/scripts/worker.js"):new Worker("/applets/the-kicked-rotator/scripts/worker.min.js"),Page.temporary_web_workers.push(t),t.onmessage=function(t){let r=t.data[0],l=t.data[1];for(let t=0;t<o;t++)for(let a=0;a<o;a++)if(r[o*t+a]>n[o*t+a]){let c=e.utils.hsv_to_rgb(l,1,r[o*t+a]/255);e.ctx.fillStyle=`rgb(${c[0]}, ${c[1]}, ${c[2]})`,e.ctx.fillRect(a,t,1,1),n[o*t+a]=r[o*t+a]}},t.postMessage([o,c,s])}r.addEventListener("keydown",function(e){13===e.keyCode&&o()}),l.addEventListener("keydown",function(e){13===e.keyCode&&o()}),a.addEventListener("keydown",function(e){13===e.keyCode&&o()}),Page.element.querySelector("#download-button").addEventListener("click",()=>{e.download_frame("a-kicked-rotator.png")}),Page.show()}();