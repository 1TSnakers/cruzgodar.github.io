"use strict";!async function(){await Site.load_applet("complex-maps");let e=new ComplexMap(Page.element.querySelector("#output-canvas"),"cexp(cinv(z))");function t(){let t=n.value||"cexp(cinv(z))";e.run(t)}let n=Page.element.querySelector("#code-textarea");n.addEventListener("keydown",e=>{13===e.keyCode&&(e.preventDefault(),t())});let l=Page.element.querySelector("#generate-button");l.addEventListener("click",t);let r=Page.element.querySelector("#selector-mode-button");r.addEventListener("click",()=>e.use_selector_mode=!0);let o=Page.element.querySelector("#benchmark-button");o.addEventListener("click",()=>e.run_benchmark()),DEBUG||Page.element.querySelector("#debug-buttons").remove();let a=Page.element.querySelector("#resolution-input");a.addEventListener("input",()=>{e.resolution=parseInt(a.value||500),e.wilson.change_canvas_size(e.resolution,e.resolution),e.draw_frame()});let c=Page.element.querySelector("#black-point-input");c.addEventListener("input",()=>{e.black_point=parseFloat(c.value||1),e.draw_frame()});let u=Page.element.querySelector("#white-point-input");u.addEventListener("input",()=>{e.white_point=parseFloat(u.value||1),e.draw_frame()});let i=Page.element.querySelector("#download-button");i.addEventListener("click",()=>e.wilson.download_frame("a-complex-map.png"));let d={none:"",trig:"csin(z)",poles:"cinv(cmul(csub(cpow(z, 6.0), 1.0), csub(cpow(z, 3.0), 1.0)))",es:"cexp(cinv(z))",tet:"ctet(z, 100.0)",lattices:"wp(z, draggable_arg)"},s=Page.element.querySelector("#example-selector-dropdown");s.addEventListener("input",()=>{"none"!==s.value&&(n.value=d[s.value],t())}),Page.show()}();