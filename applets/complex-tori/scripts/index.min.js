"use strict";!async function(){let e=-2,n=0;await Site.loadApplet("complex-maps"),await Site.loadApplet("complex-tori");let t=new EllipticCurve(Page.element.querySelector("#ec-plot-canvas")),l="uniform float g2Arg; uniform float g3Arg;",r=new ComplexMap(Page.element.querySelector("#wp-canvas"),"wp(z, inverse_g2_g3(g2Arg, g3Arg))",l);r.loadPromise.then(()=>r.wilson.render.initUniforms(["g2Arg","g3Arg"]));let o=new ComplexMap(Page.element.querySelector("#wpprime-canvas"),"wpprime(z, inverse_g2_g3(g2Arg, g3Arg))",l);o.loadPromise.then(()=>o.wilson.render.initUniforms(["g2Arg","g3Arg"]));let i=new ComplexMap(Page.element.querySelector("#kleinj-canvas"),"kleinJ(z)","",0,1),a=new ComplexMap(Page.element.querySelector("#g2-canvas"),"kleinj_from_g2_g3(z.x, z.y) * ONE",l,0,0,-.585,!0,function t(l,r,o,i){e=r,n=o,u.textContent=Math.round(1e3*e)/1e3,w.textContent=Math.round(1e3*n)/1e3,s()});function s(){t.run(e,n),r.wilson.gl.uniform1f(r.wilson.uniforms.g2Arg,e),r.wilson.gl.uniform1f(r.wilson.uniforms.g3Arg,n),r.drawFrame(),o.wilson.gl.uniform1f(o.wilson.uniforms.g2Arg,e),o.wilson.gl.uniform1f(o.wilson.uniforms.g3Arg,n),o.drawFrame(),a.wilson.gl.uniform1f(a.wilson.uniforms.g2Arg,e),a.wilson.gl.uniform1f(a.wilson.uniforms.g3Arg,n),a.drawFrame()}a.loadPromise.then(()=>{a.wilson.render.initUniforms(["g2Arg","g3Arg"]),s()}),Page.setElementStyles(".wilson-applet-canvas-container","margin-top","0",!0),Page.setElementStyles(".wilson-applet-canvas-container","margin-bottom","0",!0);let g=Page.element.querySelector("#resolution-input");g.addEventListener("input",()=>{let e=parseInt(g.value||500);t.changeResolution(e),r.wilson.changeCanvasSize(e,e),o.wilson.changeCanvasSize(e,e),i.wilson.changeCanvasSize(e,e),a.wilson.changeCanvasSize(e,e),s()});let $=Page.element.querySelector("#g2-slider");$.addEventListener("input",()=>{e=parseInt($.value||5e3)/1e3-5,u.textContent=Math.round(1e3*e)/1e3,a.wilson.draggables.worldCoordinates[0][0]=e,a.wilson.draggables.recalculateLocations(),s()});let u=Page.element.querySelector("#g2-slider-value");u.textContent="-2";let m=Page.element.querySelector("#g3-slider");m.addEventListener("input",()=>{n=parseInt(m.value||5e3)/1e3-5,w.textContent=Math.round(1e3*n)/1e3,a.wilson.draggables.worldCoordinates[0][1]=n,a.wilson.draggables.recalculateLocations(),s()});let w=Page.element.querySelector("#g3-slider-value");w.textContent="0";let c=Page.element.querySelector("#download-button");c.addEventListener("click",()=>r.wilson.downloadFrame("wp.png")),Page.show()}();