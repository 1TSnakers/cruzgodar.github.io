"use strict";!async function(){let e=-2,n=0;await Site.load_applet("complex-maps"),await Site.load_applet("complex-tori");let l=new EllipticCurve(Page.element.querySelector("#ec-plot-canvas")),t="uniform float g2_arg; uniform float g3_arg;",r=new ComplexMap(Page.element.querySelector("#wp-canvas"),"wp(z, inverse_g2_g3(g2_arg, g3_arg))",t);r.load_promise.then(()=>r.wilson.render.init_uniforms(["g2_arg","g3_arg"]));let o=new ComplexMap(Page.element.querySelector("#wpprime-canvas"),"wpprime(z, inverse_g2_g3(g2_arg, g3_arg))",t);o.load_promise.then(()=>o.wilson.render.init_uniforms(["g2_arg","g3_arg"]));let a=new ComplexMap(Page.element.querySelector("#kleinj-canvas"),"kleinJ(z)","",0,1),i=new ComplexMap(Page.element.querySelector("#g2-canvas"),"kleinj_from_g2_g3(z.x, z.y) * ONE",t,0,0,-.585,!0,function l(t,r,o,a){e=r,n=o,u.textContent=Math.round(1e3*e)/1e3,m.textContent=Math.round(1e3*n)/1e3,s()});function s(){l.run(e,n),r.wilson.gl.uniform1f(r.wilson.uniforms.g2_arg,e),r.wilson.gl.uniform1f(r.wilson.uniforms.g3_arg,n),r.draw_frame(),o.wilson.gl.uniform1f(o.wilson.uniforms.g2_arg,e),o.wilson.gl.uniform1f(o.wilson.uniforms.g3_arg,n),o.draw_frame(),i.wilson.gl.uniform1f(i.wilson.uniforms.g2_arg,e),i.wilson.gl.uniform1f(i.wilson.uniforms.g3_arg,n),i.draw_frame()}i.load_promise.then(()=>{i.wilson.render.init_uniforms(["g2_arg","g3_arg"]),s()}),Page.set_element_styles(".wilson-applet-canvas-container","margin-top","0",!0),Page.set_element_styles(".wilson-applet-canvas-container","margin-bottom","0",!0);let g=Page.element.querySelector("#resolution-input");g.addEventListener("input",()=>{let e=parseInt(g.value||500);l.change_resolution(e),r.wilson.change_canvas_size(e,e),o.wilson.change_canvas_size(e,e),a.wilson.change_canvas_size(e,e),i.wilson.change_canvas_size(e,e),s()});let $=Page.element.querySelector("#g2-slider");$.addEventListener("input",()=>{e=parseInt($.value||5e3)/1e3-5,u.textContent=Math.round(1e3*e)/1e3,i.wilson.draggables.world_coordinates[0][0]=e,i.wilson.draggables.recalculate_locations(),s()});let u=Page.element.querySelector("#g2-slider-value");u.textContent="-2";let c=Page.element.querySelector("#g3-slider");c.addEventListener("input",()=>{n=parseInt(c.value||5e3)/1e3-5,m.textContent=Math.round(1e3*n)/1e3,i.wilson.draggables.world_coordinates[0][1]=n,i.wilson.draggables.recalculate_locations(),s()});let m=Page.element.querySelector("#g3-slider-value");m.textContent="0";let w=Page.element.querySelector("#download-button");w.addEventListener("click",()=>r.wilson.download_frame("wp.png")),Page.show()}();