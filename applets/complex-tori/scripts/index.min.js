"use strict";!async function(){let n=-2,e=0;await Site.loadApplet("complex-maps"),await Site.loadApplet("complex-tori");let o=new EllipticCurve($("#ec-plot-canvas")),i="uniform float g2Arg; uniform float g3Arg;",t=new ComplexMap($("#wp-canvas"),"wp(z, inverse_g2_g3(g2Arg, g3Arg))",i);t.loadPromise.then(()=>t.wilson.render.initUniforms(["g2Arg","g3Arg"]));let l=new ComplexMap($("#wpprime-canvas"),"wpprime(z, inverse_g2_g3(g2Arg, g3Arg))",i);l.loadPromise.then(()=>l.wilson.render.initUniforms(["g2Arg","g3Arg"]));let r=new ComplexMap($("#kleinj-canvas"),"kleinJ(z)","",0,1),a=new ComplexMap($("#g2-canvas"),"kleinj_from_g2_g3(z.x, z.y) * ONE",i,0,0,-.585,!0,function o(i,t,l,r){n=t,e=l,d.textContent=Math.round(1e3*n)/1e3,m.textContent=Math.round(1e3*e)/1e3,s()});function s(){o.run(n,e),t.wilson.gl.uniform1f(t.wilson.uniforms.g2Arg,n),t.wilson.gl.uniform1f(t.wilson.uniforms.g3Arg,e),t.drawFrame(),l.wilson.gl.uniform1f(l.wilson.uniforms.g2Arg,n),l.wilson.gl.uniform1f(l.wilson.uniforms.g3Arg,e),l.drawFrame(),a.wilson.gl.uniform1f(a.wilson.uniforms.g2Arg,n),a.wilson.gl.uniform1f(a.wilson.uniforms.g3Arg,e),a.drawFrame()}a.loadPromise.then(()=>{a.wilson.render.initUniforms(["g2Arg","g3Arg"]),s()}),Page.setElementStyles(".wilson-applet-canvas-container","margin-top","0",!0),Page.setElementStyles(".wilson-applet-canvas-container","margin-bottom","0",!0);let g=$("#resolution-input");g.addEventListener("input",()=>{let n=parseInt(g.value||500);o.changeResolution(n),t.wilson.changeCanvasSize(n,n),l.wilson.changeCanvasSize(n,n),r.wilson.changeCanvasSize(n,n),a.wilson.changeCanvasSize(n,n),s()});let w=$("#g2-slider");w.addEventListener("input",()=>{n=parseInt(w.value||5e3)/1e3-5,d.textContent=Math.round(1e3*n)/1e3,a.wilson.draggables.worldCoordinates[0][0]=n,a.wilson.draggables.recalculateLocations(),s()});let d=$("#g2-slider-value");d.textContent="-2";let u=$("#g3-slider");u.addEventListener("input",()=>{e=parseInt(u.value||5e3)/1e3-5,m.textContent=Math.round(1e3*e)/1e3,a.wilson.draggables.worldCoordinates[0][1]=e,a.wilson.draggables.recalculateLocations(),s()});let m=$("#g3-slider-value");m.textContent="0";let c=$("#download-button");c.addEventListener("click",()=>t.wilson.downloadFrame("wp.png")),Page.show()}();