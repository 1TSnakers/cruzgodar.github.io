import{EllipticCurve}from"./class.min.mjs";function load(){let r=-2,a=0;const e=new EllipticCurve($("#ec-plot-canvas"));var n="uniform float g2Arg; uniform float g3Arg;";const o=new ComplexMap($("#wp-canvas"),"wp(z, inverse_g2_g3(g2Arg, g3Arg))",n),i=(o.loadPromise.then(()=>o.wilson.render.initUniforms(["g2Arg","g3Arg"])),new ComplexMap($("#wpprime-canvas"),"wpprime(z, inverse_g2_g3(g2Arg, g3Arg))",n)),t=(i.loadPromise.then(()=>i.wilson.render.initUniforms(["g2Arg","g3Arg"])),new ComplexMap($("#kleinj-canvas"),"kleinJ(z)","",0,1)),s=new ComplexMap($("#g2-canvas"),"kleinj_from_g2_g3(z.x, z.y) * ONE",n,0,0,-.585,!0,function(n,e,o,i){r=e,a=o,d.textContent=Math.round(1e3*r)/1e3,u.textContent=Math.round(1e3*a)/1e3,l()});function l(){e.run(r,a),o.wilson.gl.uniform1f(o.wilson.uniforms.g2Arg,r),o.wilson.gl.uniform1f(o.wilson.uniforms.g3Arg,a),o.drawFrame(),i.wilson.gl.uniform1f(i.wilson.uniforms.g2Arg,r),i.wilson.gl.uniform1f(i.wilson.uniforms.g3Arg,a),i.drawFrame(),s.wilson.gl.uniform1f(s.wilson.uniforms.g2Arg,r),s.wilson.gl.uniform1f(s.wilson.uniforms.g3Arg,a),s.drawFrame()}s.loadPromise.then(()=>{s.wilson.render.initUniforms(["g2Arg","g3Arg"]),l()}),Page.setElementStyles(".wilson-applet-canvas-container","margin-top","0",!0),Page.setElementStyles(".wilson-applet-canvas-container","margin-bottom","0",!0);const g=$("#resolution-input"),w=(e.setInputCaps([g],[1e3]),g.addEventListener("input",()=>{var n=parseInt(g.value||500);e.changeResolution(n),o.wilson.changeCanvasSize(n,n),i.wilson.changeCanvasSize(n,n),t.wilson.changeCanvasSize(n,n),s.wilson.changeCanvasSize(n,n),l()}),$("#g2-slider")),d=(w.addEventListener("input",()=>{r=parseInt(w.value||5e3)/1e3-5,d.textContent=Math.round(1e3*r)/1e3,s.wilson.draggables.worldCoordinates[0][0]=r,s.wilson.draggables.recalculateLocations(),l()}),$("#g2-slider-value")),m=(d.textContent="-2",$("#g3-slider")),u=(m.addEventListener("input",()=>{a=parseInt(m.value||5e3)/1e3-5,u.textContent=Math.round(1e3*a)/1e3,s.wilson.draggables.worldCoordinates[0][1]=a,s.wilson.draggables.recalculateLocations(),l()}),$("#g3-slider-value"));u.textContent="0",$("#download-button").addEventListener("click",()=>o.wilson.downloadFrame("wp.png")),Page.show()}export{load};