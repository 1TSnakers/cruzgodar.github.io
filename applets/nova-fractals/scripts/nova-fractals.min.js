!function(){"use strict";let t=1e3,e=[],o=[1,0],n=[0,0],r=document.querySelector("#nova-fractals-plot").getContext("webgl"),l=!1,a=!0,u=[],s=-1,i=-1,c=document.querySelector("#root-selector").offsetWidth,d=document.querySelector("#root-selector").offsetHeight,m=17.5,_=20,f=!1;!function(){1===url_vars.contrast&&(1===url_vars.theme?document.querySelector("#nova-fractals-plot").style.borderColor="rgb(192, 192, 192)":document.querySelector("#nova-fractals-plot").style.borderColor="rgb(64, 64, 64)");add_style("\n\t\t\t.root-marker.hover\n\t\t\t{\n\t\t\t\tbackground-color: rgb(127, 127, 127);\t\n\t\t\t}\n\t\t\t\n\t\t\t.root-marker:not(:hover):focus\n\t\t\t{\n\t\t\t\tbackground-color: rgb(127, 127, 127);\n\t\t\t\toutline: none;\n\t\t\t}\n\t\t",!0)}(),document.documentElement.addEventListener("touchstart",b,!1),document.documentElement.addEventListener("touchmove",q,!1),document.documentElement.addEventListener("touchend",S,!1),document.documentElement.addEventListener("mousedown",b,!1),document.documentElement.addEventListener("mousemove",q,!1),document.documentElement.addEventListener("mouseup",S,!1),temporary_handlers.touchstart.push(b),temporary_handlers.touchmove.push(q),temporary_handlers.touchend.push(S),temporary_handlers.mousedown.push(b),temporary_handlers.mousemove.push(q),temporary_handlers.mouseup.push(S),document.querySelector("#root-a-input").addEventListener("input",x),document.querySelector("#root-b-input").addEventListener("input",x),document.querySelector("#root-a-input").addEventListener("keydown",function(t){13===t.keyCode&&window.requestAnimationFrame(y)}),document.querySelector("#root-b-input").addEventListener("keydown",function(t){13===t.keyCode&&window.requestAnimationFrame(y)}),document.querySelector("#resolution-input").addEventListener("input",function(){(t=parseInt(document.querySelector("#resolution-input").value||1e3))<200&&(t=200);t>2e3&&(t=2e3);document.querySelector("#nova-fractals-plot").setAttribute("width",t),document.querySelector("#nova-fractals-plot").setAttribute("height",t),r.viewport(0,0,t,t),window.requestAnimationFrame(y)}),document.querySelector("#add-marker-button").addEventListener("click",function(){if(8===e.length)return;let t=3*Math.random()-1.5,o=3*Math.random()-1.5,n=Math.floor(d*(1-(o/4+.5))),r=Math.floor(c*(t/4+.5)),l=document.createElement("div");l.classList.add("root-marker"),l.id=`root-marker-${u.length}`,l.style.transform=`translate3d(${r-m}px, ${n-m}px, 0)`,document.querySelector("#root-selector").appendChild(l),u.push(l),e.push([t,o]),1===e.length&&function(){let t=1,e=0,o=Math.floor(d*(1-(e/4+.5))),n=Math.floor(c*(t/4+.5)),r=document.createElement("div");r.classList.add("root-marker"),r.classList.add("a-marker"),r.id="root-marker-8",r.style.transform=`translate3d(${n-m}px, ${o-m}px, 0)`,document.querySelector("#root-selector").appendChild(r),t=0,e=0,o=Math.floor(d*(1-(e/4+.5))),n=Math.floor(c*(t/4+.5)),(r=document.createElement("div")).classList.add("root-marker"),r.classList.add("c-marker"),r.id="root-marker-9",r.style.transform=`translate3d(${n-m}px, ${o-m}px, 0)`,document.querySelector("#root-selector").appendChild(r)}();_=20,f=!0,a&&window.requestAnimationFrame(y)}),document.querySelector("#spread-markers-button").addEventListener("click",function(t=!0){document.querySelector("#polynomial-label-1").textContent="",document.querySelector("#polynomial-label-2").textContent="",document.querySelector("#polynomial-label-3").textContent="";for(let t=0;t<e.length;t++){t<e.length/2||e.length%2==1?(e[t][0]=Math.cos(2*Math.PI*2*t/e.length),e[t][1]=Math.sin(2*Math.PI*2*t/e.length)):(e[t][0]=Math.cos(2*Math.PI*(2*t+1)/e.length),e[t][1]=Math.sin(2*Math.PI*(2*t+1)/e.length));let o=Math.floor(d*(1-(e[t][1]/4+.5))),n=Math.floor(c*(e[t][0]/4+.5));u[t].style.transform=`translate3d(${n-m}px, ${o-m}px, 0)`}f=!0,a&&window.requestAnimationFrame(y)}),document.querySelector("#generate-high-res-plot-button").addEventListener("click",function(){t=parseInt(document.querySelector("#dim-input").value||2e3),document.querySelector("#nova-fractals-plot").setAttribute("width",t),document.querySelector("#nova-fractals-plot").setAttribute("height",t),r.viewport(0,0,t,t),y();let e=document.createElement("a");e.download="a-nova-fractal.png",e.href=document.querySelector("#nova-fractals-plot").toDataURL(),e.click(),e.remove(),t=1e3,document.querySelector("#nova-fractals-plot").setAttribute("width",t),document.querySelector("#nova-fractals-plot").setAttribute("height",t),r.viewport(0,0,t,t),y()}),document.querySelector("#dim-input").addEventListener("keydown",function(t){13===t.keyCode&&draw_high_res_plot()}),window.addEventListener("resize",z),temporary_handlers.resize.push(z),applet_canvases_to_resize=[document.querySelector("#nova-fractals-plot"),document.querySelector("#root-selector")],applet_canvas_resize_callback=function(){c=document.querySelector("#root-selector").offsetWidth,d=document.querySelector("#root-selector").offsetHeight,z()},set_up_canvas_resizer(),setTimeout(function(){let e=v(r,r.VERTEX_SHADER,h),o=v(r,r.FRAGMENT_SHADER,g);p=r.createProgram(),r.attachShader(p,e),r.attachShader(p,o),r.linkProgram(p),r.getProgramParameter(p,r.LINK_STATUS)||(console.log(`Couldn't link shader program: ${r.getShaderInfoLog(shader)}`),r.deleteProgram(p));r.useProgram(p);let n=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,0,-1,1,0,1,-1,0,1,1,0]),r.STATIC_DRAW),p.position_attribute=r.getAttribLocation(p,"position"),r.enableVertexAttribArray(p.position_attribute),r.vertexAttribPointer(p.position_attribute,3,r.FLOAT,!1,0,0),p.num_roots_uniform=r.getUniformLocation(p,"num_roots"),p.root_1_uniform=r.getUniformLocation(p,"root_1"),p.root_2_uniform=r.getUniformLocation(p,"root_2"),p.root_3_uniform=r.getUniformLocation(p,"root_3"),p.root_4_uniform=r.getUniformLocation(p,"root_4"),p.root_5_uniform=r.getUniformLocation(p,"root_5"),p.root_6_uniform=r.getUniformLocation(p,"root_6"),p.root_7_uniform=r.getUniformLocation(p,"root_7"),p.root_8_uniform=r.getUniformLocation(p,"root_8"),p.a_uniform=r.getUniformLocation(p,"a"),p.c_uniform=r.getUniformLocation(p,"c"),p.brightness_scale_uniform=r.getUniformLocation(p,"brightness_scale"),document.querySelector("#nova-fractals-plot").setAttribute("width",t),document.querySelector("#nova-fractals-plot").setAttribute("height",t),r.viewport(0,0,t,t)},500);const h="\n\t\tattribute vec3 position;\n\t\tvarying vec2 uv;\n\n\t\tvoid main(void)\n\t\t{\n\t\t\tgl_Position = vec4(position, 1.0);\n\n\t\t\t//Interpolate quad coordinates in the fragment shader.\n\t\t\tuv = position.xy;\n\t\t}\n\t",g="\n\t\tprecision highp float;\n\t\t\n\t\tvarying vec2 uv;\n\t\t\n\t\tuniform int num_roots;\n\t\t\n\t\tuniform vec2 root_1;\n\t\tuniform vec2 root_2;\n\t\tuniform vec2 root_3;\n\t\tuniform vec2 root_4;\n\t\tuniform vec2 root_5;\n\t\tuniform vec2 root_6;\n\t\tuniform vec2 root_7;\n\t\tuniform vec2 root_8;\n\t\t\n\t\tconst vec3 color_1 = vec3(1.0, 0.0, 0.0);\n\t\tconst vec3 color_2 = vec3(0.0, 1.0, 0.0);\n\t\tconst vec3 color_3 = vec3(0.0, 0.0, 1.0);\n\t\tconst vec3 color_4 = vec3(0.0, 1.0, 1.0);\n\t\tconst vec3 color_5 = vec3(1.0, 0.0, 1.0);\n\t\tconst vec3 color_6 = vec3(1.0, 1.0, 0.0);\n\t\tconst vec3 color_7 = vec3(0.5, 0.0, 1.0);\n\t\tconst vec3 color_8 = vec3(1.0, 0.5, 0.0);\n\t\t\n\t\tuniform vec2 a;\n\t\tuniform vec2 c;\n\t\t\n\t\tuniform float brightness_scale;\n\t\t\n\t\tconst float threshhold = .05;\n\t\t\n\t\t\n\t\t\n\t\t//Returns z_1 * z_2.\n\t\tvec2 complex_multiply(vec2 z_1, vec2 z_2)\n\t\t{\n\t\t\treturn vec2(z_1.x * z_2.x - z_1.y * z_2.y, z_1.x * z_2.y + z_1.y * z_2.x);\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t//Returns 1/z.\n\t\tvec2 complex_invert(vec2 z)\n\t\t{\n\t\t\tfloat magnitude = z.x*z.x + z.y*z.y;\n\t\t\t\n\t\t\treturn vec2(z.x / magnitude, -z.y / magnitude);\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t//Returns f(z) for a polynomial f with given roots.\n\t\tvec2 complex_polynomial(vec2 z)\n\t\t{\n\t\t\tvec2 result = vec2(1.0, 0.0);\n\t\t\t\n\t\t\tif (num_roots == 0)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\t\n\t\t\tresult = complex_multiply(result, z - root_1);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif (num_roots == 1)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\t\n\t\t\tresult = complex_multiply(result, z - root_2);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif (num_roots == 2)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\t\n\t\t\tresult = complex_multiply(result, z - root_3);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif (num_roots == 3)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\t\n\t\t\tresult = complex_multiply(result, z - root_4);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif (num_roots == 4)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\t\n\t\t\tresult = complex_multiply(result, z - root_5);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif (num_roots == 5)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\t\n\t\t\tresult = complex_multiply(result, z - root_6);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif (num_roots == 6)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\t\n\t\t\tresult = complex_multiply(result, z - root_7);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif (num_roots == 7)\n\t\t\t{\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\t\n\t\t\tresult = complex_multiply(result, z - root_8);\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\treturn result;\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t//Approximates f'(z) for a polynomial f with given roots.\n\t\tvec2 complex_derivative(vec2 z)\n\t\t{\n\t\t\treturn 1000.0 * (complex_polynomial(z) - complex_polynomial(z - vec2(.001, 0.0)));\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\tvoid main(void)\n\t\t{\n\t\t\tvec2 z = vec2(uv.x * 2.0, uv.y * 2.0);\n\t\t\tvec2 last_z = vec2(0.0, 0.0);\n\t\t\t\n\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\n\t\t\tfor (int iteration = 0; iteration < 100; iteration++)\n\t\t\t{\n\t\t\t\tvec2 temp = complex_multiply(complex_multiply(complex_polynomial(z), complex_invert(complex_derivative(z))), a) + c;\n\t\t\t\t\n\t\t\t\tlast_z = z;\n\t\t\t\t\n\t\t\t\tz -= temp;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif (num_roots >= 1)\n\t\t\t\t{\n\t\t\t\t\tfloat d_0 = length(z - root_1);\n\t\t\t\t\t\n\t\t\t\t\tif (d_0 < threshhold)\n\t\t\t\t\t{\n\t\t\t\t\t\tfloat d_1 = length(last_z - root_1);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness_adjust = (log(threshhold) - log(d_0)) / (log(d_1) - log(d_0));\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness = 1.0 - (float(iteration) - brightness_adjust) / brightness_scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\tgl_FragColor = vec4(color_1 * brightness, 1.0);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif (num_roots >= 2)\n\t\t\t\t{\n\t\t\t\t\tfloat d_0 = length(z - root_2);\n\t\t\t\t\t\n\t\t\t\t\tif (d_0 < threshhold)\n\t\t\t\t\t{\n\t\t\t\t\t\tfloat d_1 = length(last_z - root_2);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness_adjust = (log(threshhold) - log(d_0)) / (log(d_1) - log(d_0));\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness = 1.0 - (float(iteration) - brightness_adjust) / brightness_scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\tgl_FragColor = vec4(color_2 * brightness, 1.0);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif (num_roots >= 3)\n\t\t\t\t{\n\t\t\t\t\tfloat d_0 = length(z - root_3);\n\t\t\t\t\t\n\t\t\t\t\tif (d_0 < threshhold)\n\t\t\t\t\t{\n\t\t\t\t\t\tfloat d_1 = length(last_z - root_3);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness_adjust = (log(threshhold) - log(d_0)) / (log(d_1) - log(d_0));\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness = 1.0 - (float(iteration) - brightness_adjust) / brightness_scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\tgl_FragColor = vec4(color_3 * brightness, 1.0);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif (num_roots >= 4)\n\t\t\t\t{\n\t\t\t\t\tfloat d_0 = length(z - root_4);\n\t\t\t\t\t\n\t\t\t\t\tif (d_0 < threshhold)\n\t\t\t\t\t{\n\t\t\t\t\t\tfloat d_1 = length(last_z - root_4);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness_adjust = (log(threshhold) - log(d_0)) / (log(d_1) - log(d_0));\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness = 1.0 - (float(iteration) - brightness_adjust) / brightness_scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\tgl_FragColor = vec4(color_4 * brightness, 1.0);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif (num_roots >= 5)\n\t\t\t\t{\n\t\t\t\t\tfloat d_0 = length(z - root_5);\n\t\t\t\t\t\n\t\t\t\t\tif (d_0 < threshhold)\n\t\t\t\t\t{\n\t\t\t\t\t\tfloat d_1 = length(last_z - root_5);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness_adjust = (log(threshhold) - log(d_0)) / (log(d_1) - log(d_0));\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness = 1.0 - (float(iteration) - brightness_adjust) / brightness_scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\tgl_FragColor = vec4(color_5 * brightness, 1.0);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif (num_roots >= 6)\n\t\t\t\t{\n\t\t\t\t\tfloat d_0 = length(z - root_6);\n\t\t\t\t\t\n\t\t\t\t\tif (d_0 < threshhold)\n\t\t\t\t\t{\n\t\t\t\t\t\tfloat d_1 = length(last_z - root_6);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness_adjust = (log(threshhold) - log(d_0)) / (log(d_1) - log(d_0));\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness = 1.0 - (float(iteration) - brightness_adjust) / brightness_scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\tgl_FragColor = vec4(color_6 * brightness, 1.0);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif (num_roots >= 7)\n\t\t\t\t{\n\t\t\t\t\tfloat d_0 = length(z - root_7);\n\t\t\t\t\t\n\t\t\t\t\tif (d_0 < threshhold)\n\t\t\t\t\t{\n\t\t\t\t\t\tfloat d_1 = length(last_z - root_7);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness_adjust = (log(threshhold) - log(d_0)) / (log(d_1) - log(d_0));\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness = 1.0 - (float(iteration) - brightness_adjust) / brightness_scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\tgl_FragColor = vec4(color_7 * brightness, 1.0);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif (num_roots >= 8)\n\t\t\t\t{\n\t\t\t\t\tfloat d_0 = length(z - root_8);\n\t\t\t\t\t\n\t\t\t\t\tif (d_0 < threshhold)\n\t\t\t\t\t{\n\t\t\t\t\t\tfloat d_1 = length(last_z - root_8);\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness_adjust = (log(threshhold) - log(d_0)) / (log(d_1) - log(d_0));\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat brightness = 1.0 - (float(iteration) - brightness_adjust) / brightness_scale;\n\t\t\t\t\t\t\n\t\t\t\t\t\tgl_FragColor = vec4(color_8 * brightness, 1.0);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t";let p=null;function v(t,e,o){let n=t.createShader(e);return t.shaderSource(n,o),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)||(console.log(`Couldn't load shader: ${t.getProgramInfoLog(shaderProgram)}`),t.deleteShader(n)),n}function y(){r.uniform1i(p.num_roots_uniform,e.length),e.length>=1&&r.uniform2fv(p.root_1_uniform,e[0]),e.length>=2&&r.uniform2fv(p.root_2_uniform,e[1]),e.length>=3&&r.uniform2fv(p.root_3_uniform,e[2]),e.length>=4&&r.uniform2fv(p.root_4_uniform,e[3]),e.length>=5&&r.uniform2fv(p.root_5_uniform,e[4]),e.length>=6&&r.uniform2fv(p.root_6_uniform,e[5]),e.length>=7&&r.uniform2fv(p.root_7_uniform,e[6]),e.length>=8&&r.uniform2fv(p.root_8_uniform,e[7]),r.uniform2fv(p.a_uniform,o),r.uniform2fv(p.c_uniform,n),r.uniform1f(p.brightness_scale_uniform,_),r.drawArrays(r.TRIANGLE_STRIP,0,4);let u=new Uint8Array(t*t*4);r.readPixels(0,0,t,t,r.RGBA,r.UNSIGNED_BYTE,u);let s=0;for(let e=0;e<t*t;e++)1!==u[4*e]&&1!==u[4*e+1]&&1!==u[4*e+2]||s++;let i=!1;s<25e-6*t*t*e.length?(_-=.25,i=!0):s>5e-5*t*t*e.length&&(_+=.25,i=!0),f?i?window.requestAnimationFrame(y):(f=!1,a=!0):l?(l=!1,window.requestAnimationFrame(y)):a=!0}function b(t){s=-1;for(let e=0;e<10;e++)if(t.target.id===`root-marker-${e}`){t.preventDefault(),s=e;break}}function S(t){-1!==s&&(document.body.style.WebkitUserSelect="",f=!0,l=!0,a&&(a=!1,window.requestAnimationFrame(y)),document.querySelector("#polynomial-label-1").textContent="",document.querySelector("#polynomial-label-2").textContent="",document.querySelector("#polynomial-label-3").textContent="",i=s,function(){i<8?(document.querySelector("#root-a-input").value=Math.round(1e3*e[i][0])/1e3,document.querySelector("#root-b-input").value=Math.round(1e3*e[i][1])/1e3):8===i?(document.querySelector("#root-a-input").value=Math.round(1e3*o[0])/1e3,document.querySelector("#root-b-input").value=Math.round(1e3*o[1])/1e3):(document.querySelector("#root-a-input").value=Math.round(1e5*n[0])/1e5,document.querySelector("#root-b-input").value=Math.round(1e5*n[1])/1e5);document.querySelector("#root-setter").style.pointerEvents="auto",document.querySelector("#root-setter").style.opacity=1}()),s=-1}function q(t){if(-1===s)return;let r=null,i=null,_=document.querySelector("#root-selector").getBoundingClientRect();if("touchmove"===t.type?(r=t.touches[0].clientY-_.top,i=t.touches[0].clientX-_.left):(r=t.clientY-_.top,i=t.clientX-_.left),r<m&&(r=m),r>d-m&&(r=d-m),i<m&&(i=m),i>c-m&&(i=c-m),s<8){u[s].style.transform=`translate3d(${i-m}px, ${r-m}px, 0)`;let t=(i-c/2)/c*4,o=-(r-d/2)/d*4;e[s][0]=t,e[s][1]=o}else if(8===s){document.querySelector(".a-marker").style.transform=`translate3d(${i-m}px, ${r-m}px, 0)`;let t=(i-c/2)/c*4,e=-(r-d/2)/d*4;o[0]=t,o[1]=e}else{document.querySelector(".c-marker").style.transform=`translate3d(${i-m}px, ${r-m}px, 0)`;let t=(i-c/2)/c*.4,e=-(r-d/2)/d*.4;n[0]=t,n[1]=e}l=!0,(f||a)&&(f=!1,a=!1,window.requestAnimationFrame(y))}function x(){if(i<8){e[i][0]=parseFloat(document.querySelector("#root-a-input").value)||0,e[i][1]=parseFloat(document.querySelector("#root-b-input").value)||0;let t=Math.floor(d*(1-(e[i][1]/4+.5))),o=Math.floor(c*(e[i][0]/4+.5));u[i].style.transform=`translate3d(${o-m}px, ${t-m}px, 0)`}else if(8===i){o[0]=parseFloat(document.querySelector("#root-a-input").value)||0,o[1]=parseFloat(document.querySelector("#root-b-input").value)||0;let t=Math.floor(d*(1-(o[1]/4+.5))),e=Math.floor(c*(o[0]/4+.5));document.querySelector(".a-marker").style.transform=`translate3d(${e-m}px, ${t-m}px, 0)`}else{n[0]=parseFloat(document.querySelector("#root-a-input").value)||0,n[1]=parseFloat(document.querySelector("#root-b-input").value)||0;let t=Math.floor(d*(1-(n[1]/.4+.5))),e=Math.floor(c*(n[0]/.4+.5));document.querySelector(".c-marker").style.transform=`translate3d(${e-m}px, ${t-m}px, 0)`}window.requestAnimationFrame(y)}function z(){c=document.querySelector("#root-selector").offsetWidth,d=document.querySelector("#root-selector").offsetHeight;document.querySelector("#root-selector").getBoundingClientRect();for(let t=0;t<e.length;t++){let o=Math.floor(d*(1-(e[t][1]/4+.5))),n=Math.floor(c*(e[t][0]/4+.5));u[t].style.transform=`translate3d(${n-m}px, ${o-m}px, 0)`}let t=Math.floor(d*(1-(o[1]/4+.5))),r=Math.floor(c*(o[0]/4+.5));document.querySelector(".a-marker").style.transform=`translate3d(${r-m}px, ${t-m}px, 0)`,t=Math.floor(d*(1-(n[1]/.4+.5))),r=Math.floor(c*(n[0]/.4+.5)),document.querySelector(".c-marker").style.transform=`translate3d(${r-m}px, ${t-m}px, 0)`}}();