import{NewtonsMethodExtended}from"./class.min.mjs";import{showPage}from"/scripts/src/load-page.min.mjs";import{$}from"/scripts/src/main.min.mjs";function load(){const n=new NewtonsMethodExtended($("#output-canvas")),i=(n.loadPromise.then(()=>a()),$("#code-textarea"));i.value="cmul(csin(z), sin(cmul(z, i)))",n.listenToInputElements([i],a),$("#randomize-palette-button").addEventListener("click",n.animatePaletteChange.bind(n)),$("#generate-button").addEventListener("click",a);const e=$("#resolution-input"),t=$("#derivative-precision-input"),s=(n.setInputCaps([e,t],[2e3,100]),e.addEventListener("input",()=>{n.resolution=parseInt(e.value||500),n.changeAspectRatio(!0)}),t.addEventListener("input",()=>{n.derivativePrecision=parseFloat(t.value||20),n.wilson.gl.uniform1f(n.wilson.uniforms.derivativePrecision,n.derivativePrecision),n.wilsonHidden.gl.uniform1f(n.wilsonHidden.uniforms.derivativePrecision,n.derivativePrecision)}),$("#download-button").addEventListener("click",()=>{n.wilson.downloadFrame("newtons-method-extended.png")}),{none:"",trig:"csin(z)",crosshatch:"cmul(csin(z), csinh(z))",palette:"cmul(sin(z), csinh(z))",butterflies:"cmul(sin(z), tan(z))",swatches:"cmul(csin(vec2(z.x, sign(z.y) * min(abs(z.y), mod(abs(z.y), 2.0*PI) + 2.0*PI))), sin(cmul(vec2(z.x, sign(z.y) * min(abs(z.y), mod(abs(z.y), 2.0*PI) + 2.0*PI)), i)))"}),o=$("#example-selector-dropdown");function a(){var e=i.value;n.run(e)}o.addEventListener("input",()=>{"none"!==o.value&&(i.value=s[o.value],a())}),showPage()}export{load};