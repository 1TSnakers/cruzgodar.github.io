import{NewtonsMethodExtended}from"./class.min.js";import{Applet}from"/scripts/src/applets.min.js";import{showPage}from"/scripts/src/load-page.min.js";import{$}from"/scripts/src/main.min.js";function load(){const n=new NewtonsMethodExtended({canvas:$("#output-canvas")}),i=(n.loadPromise.then(()=>r()),$("#code-textarea"));i.value="cmul(csin(z), sin(cmul(z, i)))",Applet.listenToInputElements([i],r),$("#randomize-palette-button").addEventListener("click",n.animatePaletteChange.bind(n)),$("#generate-button").addEventListener("click",r);const e=$("#resolution-input");var t=$("#derivative-precision-slider");const s=$("#derivative-precision-slider-value"),o=(n.setInputCaps([e],[2e3]),e.addEventListener("input",()=>{n.resolution=parseInt(e.value||500),n.changeAspectRatio(!0)}),t.addEventListener("input",()=>{n.derivativePrecision=parseFloat(s.textContent),n.wilson.gl.uniform1f(n.wilson.uniforms.derivativePrecision,n.derivativePrecision),n.wilsonHidden.gl.uniform1f(n.wilsonHidden.uniforms.derivativePrecision,n.derivativePrecision)}),$("#download-button").addEventListener("click",()=>{n.wilson.downloadFrame("newtons-method-extended.png")}),{none:"",trig:"csin(z)",crosshatch:"cmul(csin(z), csinh(z))",palette:"cmul(sin(z), csinh(z))",butterflies:"cmul(sin(z), tan(z))",swatches:"cmul(csin(vec2(z.x, sign(z.y) * min(abs(z.y), mod(abs(z.y), 2.0*PI) + 2.0*PI))), sin(cmul(vec2(z.x, sign(z.y) * min(abs(z.y), mod(abs(z.y), 2.0*PI) + 2.0*PI)), i)))"}),a=$("#example-selector-dropdown");function r(){var e=i.value;n.run({generatingCode:e})}a.addEventListener("input",()=>{"none"!==a.value&&(i.value=o[a.value],r())}),showPage()}export{load};