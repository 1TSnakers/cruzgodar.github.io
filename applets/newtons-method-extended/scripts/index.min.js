!async function(){function b(){a.run(c.value)}await Applet.load("newtons-method-extended");const a=new NewtonsMethodExtended($("#output-canvas"));a.loadPromise.then(()=>b());const c=$("#code-textarea");c.value="cmul(csin(z), sin(cmul(z, i)))";a.listenToInputElements([c],b);$("#randomize-palette-button").addEventListener("click",a.animatePaletteChange.bind(a));$("#generate-button").addEventListener("click",b);const d=$("#resolution-input"),e=$("#derivative-precision-input");a.setInputCaps([d,e],[2E3,
100]);d.addEventListener("input",()=>{a.resolution=parseInt(d.value||500);a.changeAspectRatio(!0)});e.addEventListener("input",()=>{a.derivativePrecision=parseFloat(e.value||20);a.wilson.gl.uniform1f(a.wilson.uniforms.derivativePrecision,a.derivativePrecision);a.wilsonHidden.gl.uniform1f(a.wilsonHidden.uniforms.derivativePrecision,a.derivativePrecision)});$("#download-button").addEventListener("click",()=>{a.wilson.downloadFrame("newtons-method-extended.png")});const g={none:"",trig:"csin(z)",crosshatch:"cmul(csin(z), csinh(z))",
palette:"cmul(sin(z), csinh(z))",butterflies:"cmul(sin(z), tan(z))",swatches:"cmul(csin(vec2(z.x, sign(z.y) * min(abs(z.y), mod(abs(z.y), 2.0*PI) + 2.0*PI))), sin(cmul(vec2(z.x, sign(z.y) * min(abs(z.y), mod(abs(z.y), 2.0*PI) + 2.0*PI)), i)))"},f=$("#example-selector-dropdown");f.addEventListener("input",()=>{"none"!==f.value&&(c.value=g[f.value],b())});Page.show()}();
