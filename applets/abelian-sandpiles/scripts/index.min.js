import{showPage}from"../../../scripts/src/loadPage.min.js";import{AbelianSandpiles}from"./class.min.js";import{DownloadButton,GenerateButton}from"/scripts/src/buttons.min.js";import{Dropdown}from"/scripts/src/dropdowns.min.js";import{$}from"/scripts/src/main.min.js";import{TextBox}from"/scripts/src/textBoxes.min.js";const palettes={sakura:[[229,190,237],[149,147,217],[124,144,219]],desert:[[124,106,10],[186,189,141],[255,218,198]],nectarine:[[232,247,238],[184,196,187],[102,63,70]],parchment:[[32,44,57],[40,56,69],[184,176,141]],ivory:[[35,44,51],[90,125,124],[218,223,247]]};export default function(){const e=new AbelianSandpiles({canvas:$("#output-canvas")}),n=new Dropdown({element:$("#palettes-dropdown"),name:"Palettes",options:{nectarine:"Nectarine",desert:"Desert",sakura:"Sakura",parchment:"Parchment",ivory:"Ivory"},onChange:s}),t=new TextBox({element:$("#resolution-input"),name:"Grid Size",value:319,minValue:10,maxValue:2e3,onEnter:s}),a=new TextBox({element:$("#center-grains-input"),name:"Center Grains",value:1e5,minValue:0,maxValue:1e6,onEnter:s}),o=new TextBox({element:$("#surrounding-grains-input"),name:"Surrounding Grains",value:0,minValue:0,maxValue:8,onEnter:s}),r=new TextBox({element:$("#computations-per-frame-input"),name:"Computation Speed",value:1,minValue:1,maxValue:100,onEnter:s});function s(){e.run({resolution:t.value,numGrains:a.value,floodGrains:o.value,computationsPerFrame:r.value,palette:palettes[n.value||"nectarine"]})}new GenerateButton({element:$("#generate-button"),onClick:s}),new DownloadButton({element:$("#download-button"),applet:e,filename:"an-abelian-sandpile.png"}),showPage()}