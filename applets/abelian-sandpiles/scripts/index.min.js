import{showPage}from"../../../scripts/src/loadPage.min.js";import{AbelianSandpile}from"./class.min.js";import{DownloadButton,GenerateButton}from"/scripts/src/buttons.min.js";import{$}from"/scripts/src/main.min.js";import{TextBox}from"/scripts/src/textBoxes.min.js";export default function(){const n=new AbelianSandpile({canvas:$("#output-canvas")}),a=new TextBox({element:$("#resolution-input"),name:"Grid Size",value:319,minValue:10,maxValue:2e3,onEnter:e}),t=new TextBox({element:$("#center-grains-input"),name:"Center Grains",value:1e5,minValue:0,maxValue:1e6,onEnter:e}),o=new TextBox({element:$("#surrounding-grains-input"),name:"Surrounding Grains",value:0,minValue:0,maxValue:8,onEnter:e}),r=new TextBox({element:$("#computations-per-frame-input"),name:"Computation Speed",value:10,minValue:1,maxValue:100,onEnter:e});function e(){var e=(e=Math.max(a.value,Math.floor(Math.sqrt(t.value))+2))+1-e%2;a.setValue(e),n.run({resolution:a.value,numGrains:t.value,floodGrains:o.value,computationsPerFrame:r.value})}new GenerateButton({element:$("#generate-button"),onClick:e}),new DownloadButton({element:$("#download-button"),applet:n,filename:"an-abelian-sandpile.png"}),showPage()}