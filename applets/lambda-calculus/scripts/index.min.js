import{showPage}from"../../../scripts/src/loadPage.min.js";import{LambdaCalculus}from"./class.min.js";import{Button,DownloadButton}from"/scripts/src/buttons.min.js";import{$}from"/scripts/src/main.min.js";import{Textarea}from"/scripts/src/textareas.min.js";import{TextBox}from"/scripts/src/textBoxes.min.js";export default function(){const t=new LambdaCalculus({canvas:$("#output-canvas")});new TextBox({element:$("#resolution-input"),name:"Resolution",value:2e3,minValue:1e3,maxValue:3e3,onEnter:e});const a=new Textarea({element:$("#expression-textarea"),name:"Expression",value:"",onInput:function(){var{selectionStart:e,selectionEnd:t}=a.element;a.setValue(a.value.replaceAll(/l/g,"λ")),a.setValue(a.value.replaceAll(/[^a-km-zA-KM-Zλ().\n\t ]/g,"")),a.element.setSelectionRange(e,t)},onEnter:e,allowEnter:!0});function e(){var e=a.value.replaceAll(/λ([a-mk-zA-KM-Z]+?)\./g,(match,$1)=>{return`λ${$1.split("").join(".λ")}.`});t.run({expression:e})}new Button({element:$("#evaluate-button"),name:"Evaluate",onClick:e}),new DownloadButton({element:$("#download-button"),applet:t,filename:"lambda-calculus.png"}),showPage()}