"use strict";!async function(){await Site.loadApplet("generalized-julia-sets");let e=Page.element.querySelector("#switch-julia-mode-button");e.style.opacity=1;let t=new GeneralizedJuliaSet(Page.element.querySelector("#output-canvas"),"cadd(cpow(z, 2.0), c)",e);function n(){let e=l.value||"cadd(cpow(z, 2.0), c)",n=parseInt(o.value||500),c=parseFloat(u.value||1),a=parseInt(r.value||200);t.run(e,n,c,a)}t.loadPromise.then(()=>n());let l=Page.element.querySelector("#code-textarea");l.value="cadd(cpow(z, 2.0), c)",t.listenToInputElements([l],n);let c={mandelbrot:"cadd(cpow(z, 2.0), c)","var-exp":"cadd(cpow(z, 4.0), c)",trig:"csin(cmul(z, c))","burning-ship":"cadd(cpow(vec2(abs(z.x), -abs(z.y)), 2.0), c)","rational-map":"cadd(csub(cpow(z, 2.0), cmul(.05, cpow(z, -2.0))), c)","mandelbrot-dust":"cadd(csub(cpow(z, 2.0), vec2(0.0, cmul(.05, cpow(z, -2.0).y))), c)"},a=Page.element.querySelector("#example-selector-dropdown");a.addEventListener("input",()=>{"none"!==a.value&&(l.value=c[a.value],n())});let o=Page.element.querySelector("#resolution-input");o.addEventListener("input",()=>{t.resolution=parseInt(o.value||500),t.changeResolution()});let u=Page.element.querySelector("#exposure-input");u.addEventListener("input",()=>{t.exposure=parseFloat(u.value||1)});let r=Page.element.querySelector("#num-iterations-input");r.addEventListener("input",()=>{t.numIterations=parseInt(r.value||200)});let d=Page.element.querySelector("#generate-button");d.addEventListener("click",n),e.addEventListener("click",()=>t.switchJuliaMode());let i=Page.element.querySelector("#download-button");i.addEventListener("click",()=>{t.wilson.downloadFrame("a-generalized-julia-set.png")}),Page.show()}();