"use strict";!async function(){await Site.loadApplet("generalized-julia-sets");let e=Page.element.querySelector("#switch-julia-mode-button");e.style.opacity=1;let t=new GeneralizedJuliaSet(Page.element.querySelector("#output-canvas"),"cadd(cpow(z, 2.0), c)",e);function n(){let e=a.value||"cadd(cpow(z, 2.0), c)",n=parseInt(o.value||500),l=parseFloat(r.value||1),c=parseInt(u.value||200);t.run(e,n,l,c)}t.loadPromise.then(()=>n());let a=Page.element.querySelector("#code-textarea");a.value="cadd(cpow(z, 2.0), c)",a.addEventListener("keydown",e=>{13===e.keyCode&&(e.preventDefault(),useNewCode())});let l={mandelbrot:"cadd(cpow(z, 2.0), c)","var-exp":"cadd(cpow(z, 4.0), c)",trig:"csin(cmul(z, c))","burning-ship":"cadd(cpow(vec2(abs(z.x), -abs(z.y)), 2.0), c)","rational-map":"cadd(csub(cpow(z, 2.0), cmul(.05, cpow(z, -2.0))), c)","mandelbrot-dust":"cadd(csub(cpow(z, 2.0), vec2(0.0, cmul(.05, cpow(z, -2.0).y))), c)"},c=Page.element.querySelector("#example-selector-dropdown");c.addEventListener("input",()=>{"none"!==c.value&&(a.value=l[c.value],n())});let o=Page.element.querySelector("#resolution-input");o.addEventListener("input",()=>{t.resolution=parseInt(o.value||500),t.wilson.changeCanvasSize(t.resolution,t.resolution),t.drawFrame()});let r=Page.element.querySelector("#exposure-input");r.addEventListener("input",()=>{t.exposure=parseFloat(r.value||1),t.drawFrame()});let u=Page.element.querySelector("#num-iterations-input");u.addEventListener("input",()=>{t.numIterations=parseInt(u.value||200),t.drawFrame()});let d=Page.element.querySelector("#generate-button");d.addEventListener("click",n),e.addEventListener("click",()=>t.switchJuliaMode());let i=Page.element.querySelector("#download-button");i.addEventListener("click",()=>{t.wilson.downloadFrame("a-generalized-julia-set.png")}),Page.show()}();