import{GeneralizedJuliaSet}from"./class.min.mjs";import{showPage}from"/scripts/src/load-page.min.mjs";import{$}from"/scripts/src/main.min.mjs";function load(){var switchJuliaModeButtonElement=$("#switch-julia-mode-button");switchJuliaModeButtonElement.style.opacity=1;const applet=new GeneralizedJuliaSet($("#output-canvas"),"cadd(cpow(z, 2.0), c)",switchJuliaModeButtonElement),codeInputElement=(applet.loadPromise.then(()=>run()),$("#code-textarea")),examples=(codeInputElement.value="cadd(cpow(z, 2.0), c)",applet.listenToInputElements([codeInputElement],run),{mandelbrot:"cadd(cpow(z, 2.0), c)","var-exp":"cadd(cpow(z, 4.0), c)",trig:"csin(cmul(z, c))","burning-ship":"cadd(cpow(vec2(abs(z.x), -abs(z.y)), 2.0), c)","rational-map":"cadd(csub(cpow(z, 2.0), cmul(.05, cpow(z, -2.0))), c)","mandelbrot-dust":"cadd(csub(cpow(z, 2.0), vec2(0.0, cmul(.05, cpow(z, -2.0).y))), c)"}),exampleSelectorDropdownElement=$("#example-selector-dropdown"),resolutionInputElement=(exampleSelectorDropdownElement.addEventListener("input",()=>{"none"!==exampleSelectorDropdownElement.value&&(codeInputElement.value=examples[exampleSelectorDropdownElement.value],run())}),$("#resolution-input")),exposureInputElement=$("#exposure-input"),numIterationsInputElement=$("#num-iterations-input");function run(){var generatingCode=codeInputElement.value||"cadd(cpow(z, 2.0), c)",resolution=parseInt(resolutionInputElement.value||500),exposure=parseFloat(exposureInputElement.value||1),numIterations=parseInt(numIterationsInputElement.value||200);applet.run({generatingCode:generatingCode,resolution:resolution,exposure:exposure,numIterations:numIterations})}applet.setInputCaps([resolutionInputElement,numIterationsInputElement],[2e3,500]),resolutionInputElement.addEventListener("input",()=>{applet.resolution=parseInt(resolutionInputElement.value||500),applet.changeAspectRatio(!0)}),exposureInputElement.addEventListener("input",()=>{applet.exposure=parseFloat(exposureInputElement.value||1)}),numIterationsInputElement.addEventListener("input",()=>{applet.numIterations=parseInt(numIterationsInputElement.value||200)}),$("#generate-button").addEventListener("click",run),switchJuliaModeButtonElement.addEventListener("click",()=>applet.switchJuliaMode()),$("#download-button").addEventListener("click",()=>{applet.wilson.downloadFrame("a-generalized-julia-set.png")}),showPage()}export{load};