import{GeneralizedJuliaSet}from"./class.min.mjs";import{showPage}from"/scripts/src/load-page.min.mjs";import{$}from"/scripts/src/main.min.mjs";function load(){var e=$("#switch-julia-mode-button");e.style.opacity=1;const o=new GeneralizedJuliaSet($("#output-canvas"),"cadd(cpow(z, 2.0), c)",e),c=(o.loadPromise.then(()=>n()),$("#code-textarea")),a=(c.value="cadd(cpow(z, 2.0), c)",o.listenToInputElements([c],n),{mandelbrot:"cadd(cpow(z, 2.0), c)","var-exp":"cadd(cpow(z, 4.0), c)",trig:"csin(cmul(z, c))","burning-ship":"cadd(cpow(vec2(abs(z.x), -abs(z.y)), 2.0), c)","rational-map":"cadd(csub(cpow(z, 2.0), cmul(.05, cpow(z, -2.0))), c)","mandelbrot-dust":"cadd(csub(cpow(z, 2.0), vec2(0.0, cmul(.05, cpow(z, -2.0).y))), c)"}),t=$("#example-selector-dropdown"),s=(t.addEventListener("input",()=>{"none"!==t.value&&(c.value=a[t.value],n())}),$("#resolution-input")),i=$("#exposure-input"),d=$("#num-iterations-input");function n(){var e=c.value||"cadd(cpow(z, 2.0), c)",a=parseInt(s.value||500),t=parseFloat(i.value||1),n=parseInt(d.value||200);o.run(e,a,t,n)}o.setInputCaps([s,d],[2e3,500]),s.addEventListener("input",()=>{o.resolution=parseInt(s.value||500),o.changeAspectRatio(!0)}),i.addEventListener("input",()=>{o.exposure=parseFloat(i.value||1)}),d.addEventListener("input",()=>{o.numIterations=parseInt(d.value||200)}),$("#generate-button").addEventListener("click",n),e.addEventListener("click",()=>o.switchJuliaMode()),$("#download-button").addEventListener("click",()=>{o.wilson.downloadFrame("a-generalized-julia-set.png")}),showPage()}export{load};